var SO=Object.defineProperty;var wb=t=>{throw TypeError(t)};var CO=(t,e,n)=>e in t?SO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>CO(t,typeof e!="symbol"?e+"":e,n),Ah=(t,e,n)=>e.has(t)||wb("Cannot "+n);var Y=(t,e,n)=>(Ah(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?wb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Ah(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(Ah(t,e,"access private method"),n);var $c=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return Y(t,e,r)}});function _O(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var J=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function gf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aC={exports:{}},vf={},lC={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),xO=Symbol.for("react.portal"),DO=Symbol.for("react.fragment"),kO=Symbol.for("react.strict_mode"),RO=Symbol.for("react.profiler"),OO=Symbol.for("react.provider"),TO=Symbol.for("react.context"),AO=Symbol.for("react.forward_ref"),IO=Symbol.for("react.suspense"),NO=Symbol.for("react.memo"),PO=Symbol.for("react.lazy"),Eb=Symbol.iterator;function MO(t){return t===null||typeof t!="object"?null:(t=Eb&&t[Eb]||t["@@iterator"],typeof t=="function"?t:null)}var cC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uC=Object.assign,dC={};function la(t,e,n){this.props=t,this.context=e,this.refs=dC,this.updater=n||cC}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fC(){}fC.prototype=la.prototype;function tv(t,e,n){this.props=t,this.context=e,this.refs=dC,this.updater=n||cC}var nv=tv.prototype=new fC;nv.constructor=tv;uC(nv,la.prototype);nv.isPureReactComponent=!0;var Sb=Array.isArray,hC=Object.prototype.hasOwnProperty,rv={current:null},pC={key:!0,ref:!0,__self:!0,__source:!0};function mC(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)hC.call(e,r)&&!pC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tc,type:t,key:o,ref:s,props:i,_owner:rv.current}}function LO(t,e){return{$$typeof:tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===tc}function jO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cb=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jO(""+t.key):e.toString(36)}function Lu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case tc:case xO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ih(s,0):r,Sb(i)?(n="",t!=null&&(n=t.replace(Cb,"$&/")+"/"),Lu(i,e,n,"",function(c){return c})):i!=null&&(iv(i)&&(i=LO(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Cb,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Sb(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ih(o,a);s+=Lu(o,e,n,l,i)}else if(l=MO(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ih(o,a++),s+=Lu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function zc(t,e,n){if(t==null)return t;var r=[],i=0;return Lu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},ju={transition:null},BO={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:ju,ReactCurrentOwner:rv};function gC(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=la;ge.Fragment=DO;ge.Profiler=RO;ge.PureComponent=tv;ge.StrictMode=kO;ge.Suspense=IO;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BO;ge.act=gC;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uC({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hC.call(e,l)&&!pC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:tc,type:t.type,key:i,ref:o,props:r,_owner:s}};ge.createContext=function(t){return t={$$typeof:TO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OO,_context:t},t.Consumer=t};ge.createElement=mC;ge.createFactory=function(t){var e=mC.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:AO,render:t}};ge.isValidElement=iv;ge.lazy=function(t){return{$$typeof:PO,_payload:{_status:-1,_result:t},_init:FO}};ge.memo=function(t,e){return{$$typeof:NO,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};ge.unstable_act=gC;ge.useCallback=function(t,e){return Kt.current.useCallback(t,e)};ge.useContext=function(t){return Kt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Kt.current.useEffect(t,e)};ge.useId=function(){return Kt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Kt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};ge.useRef=function(t){return Kt.current.useRef(t)};ge.useState=function(t){return Kt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Kt.current.useTransition()};ge.version="18.3.1";lC.exports=ge;var L=lC.exports;const W=gf(L),vC=_O({__proto__:null,default:W},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=L,HO=Symbol.for("react.element"),UO=Symbol.for("react.fragment"),WO=Object.prototype.hasOwnProperty,$O=VO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zO={key:!0,ref:!0,__self:!0,__source:!0};function yC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)WO.call(e,r)&&!zO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HO,type:t,key:o,ref:s,props:i,_owner:$O.current}}vf.Fragment=UO;vf.jsx=yC;vf.jsxs=yC;aC.exports=vf;var g=aC.exports,dm={},bC={exports:{}},vn={},wC={exports:{}},EC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,T){var I=x.length;x.push(T);e:for(;0<I;){var U=I-1>>>1,$=x[U];if(0<i($,T))x[U]=T,x[I]=$,I=U;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var T=x[0],I=x.pop();if(I!==T){x[0]=I;e:for(var U=0,$=x.length,re=$>>>1;U<re;){var G=2*(U+1)-1,ce=x[G],P=G+1,fe=x[P];if(0>i(ce,I))P<$&&0>i(fe,ce)?(x[U]=fe,x[P]=I,U=P):(x[U]=ce,x[G]=I,U=G);else if(P<$&&0>i(fe,I))x[U]=fe,x[P]=I,U=P;else break e}}return T}function i(x,T){var I=x.sortIndex-T.sortIndex;return I!==0?I:x.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(x){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=x)r(c),T.sortIndex=T.expirationTime,e(l,T);else break;T=n(c)}}function _(x){if(y=!1,w(x),!m)if(n(l)!==null)m=!0,D(R);else{var T=n(c);T!==null&&C(_,T.startTime-x)}}function R(x,T){m=!1,y&&(y=!1,p(E),E=-1),h=!0;var I=f;try{for(w(T),d=n(l);d!==null&&(!(d.expirationTime>T)||x&&!z());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var $=U(d.expirationTime<=T);T=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&r(l),w(T)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var G=n(c);G!==null&&C(_,G.startTime-T),re=!1}return re}finally{d=null,f=I,h=!1}}var M=!1,O=null,E=-1,N=5,H=-1;function z(){return!(t.unstable_now()-H<N)}function j(){if(O!==null){var x=t.unstable_now();H=x;var T=!0;try{T=O(!0,x)}finally{T?S():(M=!1,O=null)}}else M=!1}var S;if(typeof b=="function")S=function(){b(j)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,A=k.port2;k.port1.onmessage=j,S=function(){A.postMessage(null)}}else S=function(){v(j,0)};function D(x){O=x,M||(M=!0,S())}function C(x,T){E=v(function(){x(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(R))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var I=f;f=T;try{return x()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,T){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var I=f;f=x;try{return T()}finally{f=I}},t.unstable_scheduleCallback=function(x,T,I){var U=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,x){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=I+$,x={id:u++,callback:T,priorityLevel:x,startTime:I,expirationTime:$,sortIndex:-1},I>U?(x.sortIndex=I,e(c,x),n(l)===null&&x===n(c)&&(y?(p(E),E=-1):y=!0,C(_,I-U))):(x.sortIndex=$,e(l,x),m||h||(m=!0,D(R))),x},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(x){var T=f;return function(){var I=f;f=T;try{return x.apply(this,arguments)}finally{f=I}}}})(EC);wC.exports=EC;var YO=wC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=L,gn=YO;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SC=new Set,wl={};function Bo(t,e){zs(t,e),zs(t+"Capture",e)}function zs(t,e){for(wl[t]=e,t=0;t<e.length;t++)SC.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=Object.prototype.hasOwnProperty,QO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_b={},xb={};function GO(t){return fm.call(xb,t)?!0:fm.call(_b,t)?!1:QO.test(t)?xb[t]=!0:(_b[t]=!0,!1)}function XO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KO(t,e,n,r){if(e===null||typeof e>"u"||XO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function sv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,sv);Ct[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,sv);Ct[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,sv);Ct[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function av(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KO(e,n,i,r)&&(n=null),r||i===null?GO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),ds=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),CC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),uv=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),xC=Symbol.for("react.offscreen"),Db=Symbol.iterator;function Oa(t){return t===null||typeof t!="object"?null:(t=Db&&t[Db]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Nh;function Qa(t){if(Nh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nh=e&&e[1]||""}return`
`+Nh+t}var Ph=!1;function Mh(t,e){if(!t||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qa(t):""}function JO(t){switch(t.tag){case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return t=Mh(t.type,!1),t;case 11:return t=Mh(t.type.render,!1),t;case 1:return t=Mh(t.type,!0),t;default:return""}}function gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case ds:return"Portal";case hm:return"Profiler";case lv:return"StrictMode";case pm:return"Suspense";case mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _C:return(t.displayName||"Context")+".Consumer";case CC:return(t._context.displayName||"Context")+".Provider";case cv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uv:return e=t.displayName||null,e!==null?e:gm(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return gm(t(e))}catch{}}return null}function ZO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(e);case 8:return e===lv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eT(t){var e=DC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=eT(t))}function kC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vm(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RC(t,e){e=e.checked,e!=null&&av(t,"checked",e,!1)}function ym(t,e){RC(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&bm(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bm(t,e,n){(e!=="number"||sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ga=Array.isArray;function xs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ob(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ga(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function OC(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qc,AC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qc=Qc||document.createElement("div"),Qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tT=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(t){tT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rl[e]=rl[t]})});function IC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rl.hasOwnProperty(t)&&rl[t]?(""+e).trim():e+"px"}function NC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=IC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nT=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(nT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xm=null,Ds=null,ks=null;function Ab(t){if(t=ic(t)){if(typeof xm!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Sf(e),xm(t.stateNode,t.type,e))}}function PC(t){Ds?ks?ks.push(t):ks=[t]:Ds=t}function MC(){if(Ds){var t=Ds,e=ks;if(ks=Ds=null,Ab(t),e)for(t=0;t<e.length;t++)Ab(e[t])}}function LC(t,e){return t(e)}function jC(){}var Lh=!1;function FC(t,e,n){if(Lh)return t(e,n);Lh=!0;try{return LC(t,e,n)}finally{Lh=!1,(Ds!==null||ks!==null)&&(jC(),MC())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Dm=!1;if(Mr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Dm=!1}function rT(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var il=!1,ad=null,ld=!1,km=null,iT={onError:function(t){il=!0,ad=t}};function oT(t,e,n,r,i,o,s,a,l){il=!1,ad=null,rT.apply(iT,arguments)}function sT(t,e,n,r,i,o,s,a,l){if(oT.apply(this,arguments),il){if(il){var c=ad;il=!1,ad=null}else throw Error(Q(198));ld||(ld=!0,km=c)}}function Vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ib(t){if(Vo(t)!==t)throw Error(Q(188))}function aT(t){var e=t.alternate;if(!e){if(e=Vo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ib(i),t;if(o===r)return Ib(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function VC(t){return t=aT(t),t!==null?HC(t):null}function HC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HC(t);if(e!==null)return e;t=t.sibling}return null}var UC=gn.unstable_scheduleCallback,Nb=gn.unstable_cancelCallback,lT=gn.unstable_shouldYield,cT=gn.unstable_requestPaint,rt=gn.unstable_now,uT=gn.unstable_getCurrentPriorityLevel,fv=gn.unstable_ImmediatePriority,WC=gn.unstable_UserBlockingPriority,cd=gn.unstable_NormalPriority,dT=gn.unstable_LowPriority,$C=gn.unstable_IdlePriority,yf=null,fr=null;function fT(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(yf,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:mT,hT=Math.log,pT=Math.LN2;function mT(t){return t>>>=0,t===0?32:31-(hT(t)/pT|0)|0}var Gc=64,Xc=4194304;function Xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xa(a):(o&=s,o!==0&&(r=Xa(o)))}else s=n&~i,s!==0?r=Xa(s):o!==0&&(r=Xa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function gT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Vn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zC(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function yT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function YC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qC,pv,QC,GC,XC,Om=!1,Kc=[],wi=null,Ei=null,Si=null,Cl=new Map,_l=new Map,ri=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pb(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function Aa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ic(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wT(t,e,n,r,i){switch(e){case"focusin":return wi=Aa(wi,t,e,n,r,i),!0;case"dragenter":return Ei=Aa(Ei,t,e,n,r,i),!0;case"mouseover":return Si=Aa(Si,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Cl.set(o,Aa(Cl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_l.set(o,Aa(_l.get(o)||null,t,e,n,r,i)),!0}return!1}function KC(t){var e=lo(t.target);if(e!==null){var n=Vo(e);if(n!==null){if(e=n.tag,e===13){if(e=BC(n),e!==null){t.blockedOn=e,XC(t.priority,function(){QC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_m=r,n.target.dispatchEvent(r),_m=null}else return e=ic(n),e!==null&&pv(e),t.blockedOn=n,!1;e.shift()}return!0}function Mb(t,e,n){Fu(t)&&n.delete(e)}function ET(){Om=!1,wi!==null&&Fu(wi)&&(wi=null),Ei!==null&&Fu(Ei)&&(Ei=null),Si!==null&&Fu(Si)&&(Si=null),Cl.forEach(Mb),_l.forEach(Mb)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Om||(Om=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,ET)))}function xl(t){function e(i){return Ia(i,t)}if(0<Kc.length){Ia(Kc[0],t);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&Ia(wi,t),Ei!==null&&Ia(Ei,t),Si!==null&&Ia(Si,t),Cl.forEach(e),_l.forEach(e),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)KC(n),n.blockedOn===null&&ri.shift()}var Rs=Ur.ReactCurrentBatchConfig,dd=!0;function ST(t,e,n,r){var i=Ne,o=Rs.transition;Rs.transition=null;try{Ne=1,mv(t,e,n,r)}finally{Ne=i,Rs.transition=o}}function CT(t,e,n,r){var i=Ne,o=Rs.transition;Rs.transition=null;try{Ne=4,mv(t,e,n,r)}finally{Ne=i,Rs.transition=o}}function mv(t,e,n,r){if(dd){var i=Tm(t,e,n,r);if(i===null)qh(t,e,r,fd,n),Pb(t,r);else if(wT(i,t,e,n,r))r.stopPropagation();else if(Pb(t,r),e&4&&-1<bT.indexOf(t)){for(;i!==null;){var o=ic(i);if(o!==null&&qC(o),o=Tm(t,e,n,r),o===null&&qh(t,e,r,fd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qh(t,e,r,null,n)}}var fd=null;function Tm(t,e,n,r){if(fd=null,t=dv(r),t=lo(t),t!==null)if(e=Vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fd=t,null}function JC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uT()){case fv:return 1;case WC:return 4;case cd:case dT:return 16;case $C:return 536870912;default:return 16}default:return 16}}var di=null,gv=null,Bu=null;function ZC(){if(Bu)return Bu;var t,e=gv,n=e.length,r,i="value"in di?di.value:di.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Bu=i.slice(t,1<r?1-r:void 0)}function Vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function Lb(){return!1}function yn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jc:Lb,this.isPropagationStopped=Lb,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=yn(ca),rc=Qe({},ca,{view:0,detail:0}),_T=yn(rc),Fh,Bh,Na,bf=Qe({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(Fh=t.screenX-Na.screenX,Bh=t.screenY-Na.screenY):Bh=Fh=0,Na=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Bh}}),jb=yn(bf),xT=Qe({},bf,{dataTransfer:0}),DT=yn(xT),kT=Qe({},rc,{relatedTarget:0}),Vh=yn(kT),RT=Qe({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=yn(RT),TT=Qe({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AT=yn(TT),IT=Qe({},ca,{data:0}),Fb=yn(IT),NT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MT[t])?!!e[t]:!1}function yv(){return LT}var jT=Qe({},rc,{key:function(t){if(t.key){var e=NT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yv,charCode:function(t){return t.type==="keypress"?Vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FT=yn(jT),BT=Qe({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bb=yn(BT),VT=Qe({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yv}),HT=yn(VT),UT=Qe({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),WT=yn(UT),$T=Qe({},bf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zT=yn($T),YT=[9,13,27,32],bv=Mr&&"CompositionEvent"in window,ol=null;Mr&&"documentMode"in document&&(ol=document.documentMode);var qT=Mr&&"TextEvent"in window&&!ol,e_=Mr&&(!bv||ol&&8<ol&&11>=ol),Vb=" ",Hb=!1;function t_(t,e){switch(t){case"keyup":return YT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function QT(t,e){switch(t){case"compositionend":return n_(e);case"keypress":return e.which!==32?null:(Hb=!0,Vb);case"textInput":return t=e.data,t===Vb&&Hb?null:t;default:return null}}function GT(t,e){if(hs)return t==="compositionend"||!bv&&t_(t,e)?(t=ZC(),Bu=gv=di=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e_&&e.locale!=="ko"?null:e.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XT[t.type]:e==="textarea"}function r_(t,e,n,r){PC(r),e=hd(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sl=null,Dl=null;function KT(t){p_(t,0)}function wf(t){var e=gs(t);if(kC(e))return t}function JT(t,e){if(t==="change")return e}var i_=!1;if(Mr){var Hh;if(Mr){var Uh="oninput"in document;if(!Uh){var Wb=document.createElement("div");Wb.setAttribute("oninput","return;"),Uh=typeof Wb.oninput=="function"}Hh=Uh}else Hh=!1;i_=Hh&&(!document.documentMode||9<document.documentMode)}function $b(){sl&&(sl.detachEvent("onpropertychange",o_),Dl=sl=null)}function o_(t){if(t.propertyName==="value"&&wf(Dl)){var e=[];r_(e,Dl,t,dv(t)),FC(KT,e)}}function ZT(t,e,n){t==="focusin"?($b(),sl=e,Dl=n,sl.attachEvent("onpropertychange",o_)):t==="focusout"&&$b()}function eA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wf(Dl)}function tA(t,e){if(t==="click")return wf(e)}function nA(t,e){if(t==="input"||t==="change")return wf(e)}function rA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:rA;function kl(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fm.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function zb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yb(t,e){var n=zb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zb(n)}}function s_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a_(){for(var t=window,e=sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sd(t.document)}return e}function wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iA(t){var e=a_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(r!==null&&wv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Yb(n,o);var s=Yb(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oA=Mr&&"documentMode"in document&&11>=document.documentMode,ps=null,Am=null,al=null,Im=!1;function qb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||ps==null||ps!==sd(r)||(r=ps,"selectionStart"in r&&wv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),al&&kl(al,r)||(al=r,r=hd(Am,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ps)))}function Zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ms={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},Wh={},l_={};Mr&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ef(t){if(Wh[t])return Wh[t];if(!ms[t])return t;var e=ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l_)return Wh[t]=e[n];return t}var c_=Ef("animationend"),u_=Ef("animationiteration"),d_=Ef("animationstart"),f_=Ef("transitionend"),h_=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){h_.set(t,e),Bo(e,[t])}for(var $h=0;$h<Qb.length;$h++){var zh=Qb[$h],sA=zh.toLowerCase(),aA=zh[0].toUpperCase()+zh.slice(1);Wi(sA,"on"+aA)}Wi(c_,"onAnimationEnd");Wi(u_,"onAnimationIteration");Wi(d_,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(f_,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Gb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sT(r,e,void 0,t),t.currentTarget=null}function p_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Gb(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Gb(i,a,c),o=l}}}if(ld)throw t=km,ld=!1,km=null,t}function je(t,e){var n=e[jm];n===void 0&&(n=e[jm]=new Set);var r=t+"__bubble";n.has(r)||(m_(e,t,2,!1),n.add(r))}function Yh(t,e,n){var r=0;e&&(r|=4),m_(n,t,r,e)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[eu]){t[eu]=!0,SC.forEach(function(n){n!=="selectionchange"&&(lA.has(n)||Yh(n,!1,t),Yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eu]||(e[eu]=!0,Yh("selectionchange",!1,e))}}function m_(t,e,n,r){switch(JC(e)){case 1:var i=ST;break;case 4:i=CT;break;default:i=mv}n=i.bind(null,e,n,t),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=lo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}FC(function(){var c=o,u=dv(n),d=[];e:{var f=h_.get(t);if(f!==void 0){var h=vv,m=t;switch(t){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":h=FT;break;case"focusin":m="focus",h=Vh;break;case"focusout":m="blur",h=Vh;break;case"beforeblur":case"afterblur":h=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=DT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=HT;break;case c_:case u_:case d_:h=OT;break;case f_:h=WT;break;case"scroll":h=_T;break;case"wheel":h=zT;break;case"copy":case"cut":case"paste":h=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Bb}var y=(e&4)!==0,v=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,p!==null&&(_=Sl(b,p),_!=null&&y.push(Ol(b,_,w)))),v)break;b=b.return}0<y.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==_m&&(m=n.relatedTarget||n.fromElement)&&(lo(m)||m[Lr]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?lo(m):null,m!==null&&(v=Vo(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(y=jb,_="onMouseLeave",p="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=Bb,_="onPointerLeave",p="onPointerEnter",b="pointer"),v=h==null?f:gs(h),w=m==null?f:gs(m),f=new y(_,b+"leave",h,n,u),f.target=v,f.relatedTarget=w,_=null,lo(u)===c&&(y=new y(p,b+"enter",m,n,u),y.target=w,y.relatedTarget=v,_=y),v=_,h&&m)t:{for(y=h,p=m,b=0,w=y;w;w=ts(w))b++;for(w=0,_=p;_;_=ts(_))w++;for(;0<b-w;)y=ts(y),b--;for(;0<w-b;)p=ts(p),w--;for(;b--;){if(y===p||p!==null&&y===p.alternate)break t;y=ts(y),p=ts(p)}y=null}else y=null;h!==null&&Xb(d,f,h,y,!1),m!==null&&v!==null&&Xb(d,v,m,y,!0)}}e:{if(f=c?gs(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=JT;else if(Ub(f))if(i_)R=nA;else{R=eA;var M=ZT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=tA);if(R&&(R=R(t,c))){r_(d,R,n,u);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&bm(f,"number",f.value)}switch(M=c?gs(c):window,t){case"focusin":(Ub(M)||M.contentEditable==="true")&&(ps=M,Am=c,al=null);break;case"focusout":al=Am=ps=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,qb(d,n,u);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":qb(d,n,u)}var O;if(bv)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else hs?t_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(e_&&n.locale!=="ko"&&(hs||E!=="onCompositionStart"?E==="onCompositionEnd"&&hs&&(O=ZC()):(di=u,gv="value"in di?di.value:di.textContent,hs=!0)),M=hd(c,E),0<M.length&&(E=new Fb(E,t,null,n,u),d.push({event:E,listeners:M}),O?E.data=O:(O=n_(n),O!==null&&(E.data=O)))),(O=qT?QT(t,n):GT(t,n))&&(c=hd(c,"onBeforeInput"),0<c.length&&(u=new Fb("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=O))}p_(d,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Sl(t,n),o!=null&&r.unshift(Ol(t,o,i)),o=Sl(t,e),o!=null&&r.push(Ol(t,o,i))),t=t.return}return r}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xb(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sl(n,o),l!=null&&s.unshift(Ol(n,l,a))):i||(l=Sl(n,o),l!=null&&s.push(Ol(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function Kb(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(uA,"")}function tu(t,e,n){if(e=Kb(e),Kb(t)!==e&&n)throw Error(Q(425))}function pd(){}var Nm=null,Pm=null;function Mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(t){return Jb.resolve(null).then(t).catch(hA)}:Lm;function hA(t){setTimeout(function(){throw t})}function Qh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xl(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ar="__reactFiber$"+ua,Tl="__reactProps$"+ua,Lr="__reactContainer$"+ua,jm="__reactEvents$"+ua,pA="__reactListeners$"+ua,mA="__reactHandles$"+ua;function lo(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zb(t);t!==null;){if(n=t[ar])return n;t=Zb(t)}return e}t=n,n=t.parentNode}return null}function ic(t){return t=t[ar]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Sf(t){return t[Tl]||null}var Fm=[],vs=-1;function $i(t){return{current:t}}function Fe(t){0>vs||(t.current=Fm[vs],Fm[vs]=null,vs--)}function Le(t,e){vs++,Fm[vs]=t.current,t.current=e}var Mi={},jt=$i(Mi),nn=$i(!1),ko=Mi;function Ys(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function md(){Fe(nn),Fe(jt)}function ew(t,e,n){if(jt.current!==Mi)throw Error(Q(168));Le(jt,e),Le(nn,n)}function g_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,ZO(t)||"Unknown",i));return Qe({},n,r)}function gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,ko=jt.current,Le(jt,t),Le(nn,nn.current),!0}function tw(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=g_(t,e,ko),r.__reactInternalMemoizedMergedChildContext=t,Fe(nn),Fe(jt),Le(jt,t)):Fe(nn),Le(nn,n)}var xr=null,Cf=!1,Gh=!1;function v_(t){xr===null?xr=[t]:xr.push(t)}function gA(t){Cf=!0,v_(t)}function zi(){if(!Gh&&xr!==null){Gh=!0;var t=0,e=Ne;try{var n=xr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Cf=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),UC(fv,zi),i}finally{Ne=e,Gh=!1}}return null}var ys=[],bs=0,vd=null,yd=0,Cn=[],_n=0,Ro=null,Rr=1,Or="";function to(t,e){ys[bs++]=yd,ys[bs++]=vd,vd=t,yd=e}function y_(t,e,n){Cn[_n++]=Rr,Cn[_n++]=Or,Cn[_n++]=Ro,Ro=t;var r=Rr;t=Or;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var o=32-Vn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Rr=1<<32-Vn(e)+i|n<<i|r,Or=o+t}else Rr=1<<o|n<<i|r,Or=t}function Ev(t){t.return!==null&&(to(t,1),y_(t,1,0))}function Sv(t){for(;t===vd;)vd=ys[--bs],ys[bs]=null,yd=ys[--bs],ys[bs]=null;for(;t===Ro;)Ro=Cn[--_n],Cn[_n]=null,Or=Cn[--_n],Cn[_n]=null,Rr=Cn[--_n],Cn[_n]=null}var fn=null,dn=null,He=!1,Bn=null;function b_(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,dn=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:Rr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,dn=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vm(t){if(He){var e=dn;if(e){var n=e;if(!nw(t,e)){if(Bm(t))throw Error(Q(418));e=Ci(n.nextSibling);var r=fn;e&&nw(t,e)?b_(r,n):(t.flags=t.flags&-4097|2,He=!1,fn=t)}}else{if(Bm(t))throw Error(Q(418));t.flags=t.flags&-4097|2,He=!1,fn=t}}}function rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function nu(t){if(t!==fn)return!1;if(!He)return rw(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mm(t.type,t.memoizedProps)),e&&(e=dn)){if(Bm(t))throw w_(),Error(Q(418));for(;e;)b_(t,e),e=Ci(e.nextSibling)}if(rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=fn?Ci(t.stateNode.nextSibling):null;return!0}function w_(){for(var t=dn;t;)t=Ci(t.nextSibling)}function qs(){dn=fn=null,He=!1}function Cv(t){Bn===null?Bn=[t]:Bn.push(t)}var vA=Ur.ReactCurrentBatchConfig;function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function ru(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iw(t){var e=t._init;return e(t._payload)}function E_(t){function e(p,b){if(t){var w=p.deletions;w===null?(p.deletions=[b],p.flags|=16):w.push(b)}}function n(p,b){if(!t)return null;for(;b!==null;)e(p,b),b=b.sibling;return null}function r(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function i(p,b){return p=ki(p,b),p.index=0,p.sibling=null,p}function o(p,b,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<b?(p.flags|=2,b):w):(p.flags|=2,b)):(p.flags|=1048576,b)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,b,w,_){return b===null||b.tag!==6?(b=np(w,p.mode,_),b.return=p,b):(b=i(b,w),b.return=p,b)}function l(p,b,w,_){var R=w.type;return R===fs?u(p,b,w.props.children,_,w.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ti&&iw(R)===b.type)?(_=i(b,w.props),_.ref=Pa(p,b,w),_.return=p,_):(_=qu(w.type,w.key,w.props,null,p.mode,_),_.ref=Pa(p,b,w),_.return=p,_)}function c(p,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=rp(w,p.mode,_),b.return=p,b):(b=i(b,w.children||[]),b.return=p,b)}function u(p,b,w,_,R){return b===null||b.tag!==7?(b=wo(w,p.mode,_,R),b.return=p,b):(b=i(b,w),b.return=p,b)}function d(p,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=np(""+b,p.mode,w),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:return w=qu(b.type,b.key,b.props,null,p.mode,w),w.ref=Pa(p,null,b),w.return=p,w;case ds:return b=rp(b,p.mode,w),b.return=p,b;case ti:var _=b._init;return d(p,_(b._payload),w)}if(Ga(b)||Oa(b))return b=wo(b,p.mode,w,null),b.return=p,b;ru(p,b)}return null}function f(p,b,w,_){var R=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:a(p,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:return w.key===R?l(p,b,w,_):null;case ds:return w.key===R?c(p,b,w,_):null;case ti:return R=w._init,f(p,b,R(w._payload),_)}if(Ga(w)||Oa(w))return R!==null?null:u(p,b,w,_,null);ru(p,w)}return null}function h(p,b,w,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(w)||null,a(b,p,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yc:return p=p.get(_.key===null?w:_.key)||null,l(b,p,_,R);case ds:return p=p.get(_.key===null?w:_.key)||null,c(b,p,_,R);case ti:var M=_._init;return h(p,b,w,M(_._payload),R)}if(Ga(_)||Oa(_))return p=p.get(w)||null,u(b,p,_,R,null);ru(b,_)}return null}function m(p,b,w,_){for(var R=null,M=null,O=b,E=b=0,N=null;O!==null&&E<w.length;E++){O.index>E?(N=O,O=null):N=O.sibling;var H=f(p,O,w[E],_);if(H===null){O===null&&(O=N);break}t&&O&&H.alternate===null&&e(p,O),b=o(H,b,E),M===null?R=H:M.sibling=H,M=H,O=N}if(E===w.length)return n(p,O),He&&to(p,E),R;if(O===null){for(;E<w.length;E++)O=d(p,w[E],_),O!==null&&(b=o(O,b,E),M===null?R=O:M.sibling=O,M=O);return He&&to(p,E),R}for(O=r(p,O);E<w.length;E++)N=h(O,p,E,w[E],_),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?E:N.key),b=o(N,b,E),M===null?R=N:M.sibling=N,M=N);return t&&O.forEach(function(z){return e(p,z)}),He&&to(p,E),R}function y(p,b,w,_){var R=Oa(w);if(typeof R!="function")throw Error(Q(150));if(w=R.call(w),w==null)throw Error(Q(151));for(var M=R=null,O=b,E=b=0,N=null,H=w.next();O!==null&&!H.done;E++,H=w.next()){O.index>E?(N=O,O=null):N=O.sibling;var z=f(p,O,H.value,_);if(z===null){O===null&&(O=N);break}t&&O&&z.alternate===null&&e(p,O),b=o(z,b,E),M===null?R=z:M.sibling=z,M=z,O=N}if(H.done)return n(p,O),He&&to(p,E),R;if(O===null){for(;!H.done;E++,H=w.next())H=d(p,H.value,_),H!==null&&(b=o(H,b,E),M===null?R=H:M.sibling=H,M=H);return He&&to(p,E),R}for(O=r(p,O);!H.done;E++,H=w.next())H=h(O,p,E,H.value,_),H!==null&&(t&&H.alternate!==null&&O.delete(H.key===null?E:H.key),b=o(H,b,E),M===null?R=H:M.sibling=H,M=H);return t&&O.forEach(function(j){return e(p,j)}),He&&to(p,E),R}function v(p,b,w,_){if(typeof w=="object"&&w!==null&&w.type===fs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:e:{for(var R=w.key,M=b;M!==null;){if(M.key===R){if(R=w.type,R===fs){if(M.tag===7){n(p,M.sibling),b=i(M,w.props.children),b.return=p,p=b;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ti&&iw(R)===M.type){n(p,M.sibling),b=i(M,w.props),b.ref=Pa(p,M,w),b.return=p,p=b;break e}n(p,M);break}else e(p,M);M=M.sibling}w.type===fs?(b=wo(w.props.children,p.mode,_,w.key),b.return=p,p=b):(_=qu(w.type,w.key,w.props,null,p.mode,_),_.ref=Pa(p,b,w),_.return=p,p=_)}return s(p);case ds:e:{for(M=w.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(p,b.sibling),b=i(b,w.children||[]),b.return=p,p=b;break e}else{n(p,b);break}else e(p,b);b=b.sibling}b=rp(w,p.mode,_),b.return=p,p=b}return s(p);case ti:return M=w._init,v(p,b,M(w._payload),_)}if(Ga(w))return m(p,b,w,_);if(Oa(w))return y(p,b,w,_);ru(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(p,b.sibling),b=i(b,w),b.return=p,p=b):(n(p,b),b=np(w,p.mode,_),b.return=p,p=b),s(p)):n(p,b)}return v}var Qs=E_(!0),S_=E_(!1),bd=$i(null),wd=null,ws=null,_v=null;function xv(){_v=ws=wd=null}function Dv(t){var e=bd.current;Fe(bd),t._currentValue=e}function Hm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Os(t,e){wd=t,_v=ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(_v!==t)if(t={context:t,memoizedValue:e,next:null},ws===null){if(wd===null)throw Error(Q(308));ws=t,wd.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return e}var co=null;function kv(t){co===null?co=[t]:co.push(t)}function C_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kv(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function Rv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function __(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,kv(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Hu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hv(t,n)}}function ow(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ed(t,e,n,r){var i=t.updateQueue;ni=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=Qe({},d,f);break e;case 2:ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);To|=s,t.lanes=s,t.memoizedState=d}}function sw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var oc={},hr=$i(oc),Al=$i(oc),Il=$i(oc);function uo(t){if(t===oc)throw Error(Q(174));return t}function Ov(t,e){switch(Le(Il,e),Le(Al,t),Le(hr,oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Em(e,t)}Fe(hr),Le(hr,e)}function Gs(){Fe(hr),Fe(Al),Fe(Il)}function x_(t){uo(Il.current);var e=uo(hr.current),n=Em(e,t.type);e!==n&&(Le(Al,t),Le(hr,n))}function Tv(t){Al.current===t&&(Fe(hr),Fe(Al))}var ze=$i(0);function Sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function Av(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var Uu=Ur.ReactCurrentDispatcher,Kh=Ur.ReactCurrentBatchConfig,Oo=0,qe=null,ut=null,pt=null,Cd=!1,ll=!1,Nl=0,yA=0;function Dt(){throw Error(Q(321))}function Iv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Nv(t,e,n,r,i,o){if(Oo=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uu.current=t===null||t.memoizedState===null?SA:CA,t=n(r,i),ll){o=0;do{if(ll=!1,Nl=0,25<=o)throw Error(Q(301));o+=1,pt=ut=null,e.updateQueue=null,Uu.current=_A,t=n(r,i)}while(ll)}if(Uu.current=_d,e=ut!==null&&ut.next!==null,Oo=0,pt=ut=qe=null,Cd=!1,e)throw Error(Q(300));return t}function Pv(){var t=Nl!==0;return Nl=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?qe.memoizedState=pt=t:pt=pt.next=t,pt}function Rn(){if(ut===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=pt===null?qe.memoizedState:pt.next;if(e!==null)pt=e,ut=t;else{if(t===null)throw Error(Q(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},pt===null?qe.memoizedState=pt=t:pt=pt.next=t}return pt}function Pl(t,e){return typeof e=="function"?e(t):e}function Jh(t){var e=Rn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Oo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,qe.lanes|=u,To|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,$n(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,qe.lanes|=o,To|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zh(t){var e=Rn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);$n(o,e.memoizedState)||(en=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function D_(){}function k_(t,e){var n=qe,r=Rn(),i=e(),o=!$n(r.memoizedState,i);if(o&&(r.memoizedState=i,en=!0),r=r.queue,Mv(T_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,O_.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(Q(349));Oo&30||R_(n,e,i)}return i}function R_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O_(t,e,n,r){e.value=n,e.getSnapshot=r,A_(e)&&I_(t)}function T_(t,e,n){return n(function(){A_(e)&&I_(t)})}function A_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function I_(t){var e=jr(t,1);e!==null&&Hn(e,t,1,-1)}function aw(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=EA.bind(null,qe,t),[e.memoizedState,t]}function Ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N_(){return Rn().memoizedState}function Wu(t,e,n,r){var i=er();qe.flags|=t,i.memoizedState=Ml(1|e,n,void 0,r===void 0?null:r)}function _f(t,e,n,r){var i=Rn();r=r===void 0?null:r;var o=void 0;if(ut!==null){var s=ut.memoizedState;if(o=s.destroy,r!==null&&Iv(r,s.deps)){i.memoizedState=Ml(e,n,o,r);return}}qe.flags|=t,i.memoizedState=Ml(1|e,n,o,r)}function lw(t,e){return Wu(8390656,8,t,e)}function Mv(t,e){return _f(2048,8,t,e)}function P_(t,e){return _f(4,2,t,e)}function M_(t,e){return _f(4,4,t,e)}function L_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j_(t,e,n){return n=n!=null?n.concat([t]):null,_f(4,4,L_.bind(null,e,t),n)}function Lv(){}function F_(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function B_(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function V_(t,e,n){return Oo&21?($n(n,e)||(n=zC(),qe.lanes|=n,To|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function bA(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Kh.transition;Kh.transition={};try{t(!1),e()}finally{Ne=n,Kh.transition=r}}function H_(){return Rn().memoizedState}function wA(t,e,n){var r=Di(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U_(t))W_(e,n);else if(n=C_(t,e,n,r),n!==null){var i=Xt();Hn(n,t,r,i),$_(n,e,r)}}function EA(t,e,n){var r=Di(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U_(t))W_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,s)){var l=e.interleaved;l===null?(i.next=i,kv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=C_(t,e,i,r),n!==null&&(i=Xt(),Hn(n,t,r,i),$_(n,e,r))}}function U_(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function W_(t,e){ll=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hv(t,n)}}var _d={readContext:kn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},SA={readContext:kn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,L_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wA.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:Lv,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=bA.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=er();if(He){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),vt===null)throw Error(Q(349));Oo&30||R_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,lw(T_.bind(null,r,o,t),[t]),r.flags|=2048,Ml(9,O_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=er(),e=vt.identifierPrefix;if(He){var n=Or,r=Rr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CA={readContext:kn,useCallback:F_,useContext:kn,useEffect:Mv,useImperativeHandle:j_,useInsertionEffect:P_,useLayoutEffect:M_,useMemo:B_,useReducer:Jh,useRef:N_,useState:function(){return Jh(Pl)},useDebugValue:Lv,useDeferredValue:function(t){var e=Rn();return V_(e,ut.memoizedState,t)},useTransition:function(){var t=Jh(Pl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:D_,useSyncExternalStore:k_,useId:H_,unstable_isNewReconciler:!1},_A={readContext:kn,useCallback:F_,useContext:kn,useEffect:Mv,useImperativeHandle:j_,useInsertionEffect:P_,useLayoutEffect:M_,useMemo:B_,useReducer:Zh,useRef:N_,useState:function(){return Zh(Pl)},useDebugValue:Lv,useDeferredValue:function(t){var e=Rn();return ut===null?e.memoizedState=t:V_(e,ut.memoizedState,t)},useTransition:function(){var t=Zh(Pl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:D_,useSyncExternalStore:k_,useId:H_,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Um(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xf={isMounted:function(t){return(t=t._reactInternals)?Vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=Di(t),o=Tr(r,i);o.payload=e,n!=null&&(o.callback=n),e=_i(t,o,i),e!==null&&(Hn(e,t,i,r),Hu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=Di(t),o=Tr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_i(t,o,i),e!==null&&(Hn(e,t,i,r),Hu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Di(t),i=Tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(Hn(e,t,r,n),Hu(e,t,r))}};function cw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(i,o):!0}function z_(t,e,n){var r=!1,i=Mi,o=e.contextType;return typeof o=="object"&&o!==null?o=kn(o):(i=rn(e)?ko:jt.current,r=e.contextTypes,o=(r=r!=null)?Ys(t,i):Mi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function uw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xf.enqueueReplaceState(e,e.state,null)}function Wm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=kn(o):(o=rn(e)?ko:jt.current,i.context=Ys(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Um(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xf.enqueueReplaceState(i,i.state,null),Ed(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e){try{var n="",r=e;do n+=JO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xA=typeof WeakMap=="function"?WeakMap:Map;function Y_(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dd||(Dd=!0,eg=r),$m(t,e)},n}function q_(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$m(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$m(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BA.bind(null,t,e,n),e.then(t,t))}function fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var DA=Ur.ReactCurrentOwner,en=!1;function Wt(t,e,n,r){e.child=t===null?S_(e,null,n,r):Qs(e,t.child,n,r)}function pw(t,e,n,r,i){n=n.render;var o=e.ref;return Os(e,i),r=Nv(t,e,n,r,o,i),n=Pv(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(He&&n&&Ev(e),e.flags|=1,Wt(t,e,r,i),e.child)}function mw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!$v(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Q_(t,e,o,r,i)):(t=qu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(s,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=ki(o,r),t.ref=e.ref,t.return=e,e.child=t}function Q_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(kl(o,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return zm(t,e,n,r,i)}function G_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ss,ln),ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Ss,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(Ss,ln),ln|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(Ss,ln),ln|=r;return Wt(t,e,i,n),e.child}function X_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zm(t,e,n,r,i){var o=rn(n)?ko:jt.current;return o=Ys(e,o),Os(e,i),n=Nv(t,e,n,r,o,i),r=Pv(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(He&&r&&Ev(e),e.flags|=1,Wt(t,e,n,i),e.child)}function gw(t,e,n,r,i){if(rn(n)){var o=!0;gd(e)}else o=!1;if(Os(e,i),e.stateNode===null)$u(t,e),z_(e,n,r),Wm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=rn(n)?ko:jt.current,c=Ys(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&uw(e,s,r,c),ni=!1;var f=e.memoizedState;s.state=f,Ed(e,r,s,i),l=e.memoizedState,a!==r||f!==l||nn.current||ni?(typeof u=="function"&&(Um(e,n,u,r),l=e.memoizedState),(a=ni||cw(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,__(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=rn(n)?ko:jt.current,l=Ys(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&uw(e,s,r,l),ni=!1,f=e.memoizedState,s.state=f,Ed(e,r,s,i);var m=e.memoizedState;a!==d||f!==m||nn.current||ni?(typeof h=="function"&&(Um(e,n,h,r),m=e.memoizedState),(c=ni||cw(e,n,c,r,f,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ym(t,e,n,r,o,i)}function Ym(t,e,n,r,i,o){X_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&tw(e,n,!1),Fr(t,e,o);r=e.stateNode,DA.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Qs(e,t.child,null,o),e.child=Qs(e,null,a,o)):Wt(t,e,a,o),e.memoizedState=r.state,i&&tw(e,n,!0),e.child}function K_(t){var e=t.stateNode;e.pendingContext?ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ew(t,e.context,!1),Ov(t,e.containerInfo)}function vw(t,e,n,r,i){return qs(),Cv(i),e.flags|=256,Wt(t,e,n,r),e.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Qm(t){return{baseLanes:t,cachePool:null,transitions:null}}function J_(t,e,n){var r=e.pendingProps,i=ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(ze,i&1),t===null)return Vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Rf(s,r,0,null),t=wo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Qm(n),e.memoizedState=qm,t):jv(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ki(a,o):(o=wo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Qm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=qm,r}return o=t.child,t=o.sibling,r=ki(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jv(t,e){return e=Rf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,n,r){return r!==null&&Cv(r),Qs(e,t.child,null,n),t=jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ep(Error(Q(422))),iu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Rf({mode:"visible",children:r.children},i,0,null),o=wo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qs(e,t.child,null,s),e.child.memoizedState=Qm(s),e.memoizedState=qm,o);if(!(e.mode&1))return iu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=ep(o,r,void 0),iu(t,e,s,r)}if(a=(s&t.childLanes)!==0,en||a){if(r=vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jr(t,i),Hn(r,t,i,-1))}return Wv(),r=ep(Error(Q(421))),iu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,dn=Ci(i.nextSibling),fn=e,He=!0,Bn=null,t!==null&&(Cn[_n++]=Rr,Cn[_n++]=Or,Cn[_n++]=Ro,Rr=t.id,Or=t.overflow,Ro=e),e=jv(e,r.children),e.flags|=4096,e)}function yw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hm(t.return,e,n)}function tp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Z_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Wt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yw(t,n,e);else if(t.tag===19)yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tp(e,!0,n,null,o);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),To|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RA(t,e,n){switch(e.tag){case 3:K_(e),qs();break;case 5:x_(e);break;case 1:rn(e.type)&&gd(e);break;case 4:Ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?J_(t,e,n):(Le(ze,ze.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Le(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Z_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,G_(t,e,n)}return Fr(t,e,n)}var e1,Gm,t1,n1;e1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gm=function(){};t1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uo(hr.current);var o=null;switch(n){case"input":i=vm(t,i),r=vm(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=wm(t,i),r=wm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pd)}Sm(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};n1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OA(t,e,n){var r=e.pendingProps;switch(Sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return rn(e.type)&&md(),kt(e),null;case 3:return r=e.stateNode,Gs(),Fe(nn),Fe(jt),Av(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(rg(Bn),Bn=null))),Gm(t,e),kt(e),null;case 5:Tv(e);var i=uo(Il.current);if(n=e.type,t!==null&&e.stateNode!=null)t1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return kt(e),null}if(t=uo(hr.current),nu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ar]=e,r[Tl]=o,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Ka.length;i++)je(Ka[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":kb(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":Ob(r,o),je("invalid",r)}Sm(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&tu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&tu(r.textContent,a,t),i=["children",""+a]):wl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&je("scroll",r)}switch(n){case"input":qc(r),Rb(r,o,!0);break;case"textarea":qc(r),Tb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ar]=e,t[Tl]=r,e1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cm(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ka.length;i++)je(Ka[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":kb(t,r),i=vm(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),je("invalid",t);break;case"textarea":Ob(t,r),i=wm(t,r),je("invalid",t);break;default:i=r}Sm(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?NC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&je("scroll",t):l!=null&&av(t,o,l,s))}switch(n){case"input":qc(t),Rb(t,r,!1);break;case"textarea":qc(t),Tb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xs(t,!!r.multiple,o,!1):r.defaultValue!=null&&xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)n1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=uo(Il.current),uo(hr.current),nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(o=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:tu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return kt(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&dn!==null&&e.mode&1&&!(e.flags&128))w_(),qs(),e.flags|=98560,o=!1;else if(o=nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[ar]=e}else qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),o=!1}else Bn!==null&&(rg(Bn),Bn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?dt===0&&(dt=3):Wv())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return Gs(),Gm(t,e),t===null&&Rl(e.stateNode.containerInfo),kt(e),null;case 10:return Dv(e.type._context),kt(e),null;case 17:return rn(e.type)&&md(),kt(e),null;case 19:if(Fe(ze),o=e.memoizedState,o===null)return kt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ma(o,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Sd(t),s!==null){for(e.flags|=128,Ma(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(ze,ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&rt()>Ks&&(e.flags|=128,r=!0,Ma(o,!1),e.lanes=4194304)}else{if(!r)if(t=Sd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return kt(e),null}else 2*rt()-o.renderingStartTime>Ks&&n!==1073741824&&(e.flags|=128,r=!0,Ma(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rt(),e.sibling=null,n=ze.current,Le(ze,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Uv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function TA(t,e){switch(Sv(e),e.tag){case 1:return rn(e.type)&&md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),Fe(nn),Fe(jt),Av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tv(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return Gs(),null;case 10:return Dv(e.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var ou=!1,Pt=!1,AA=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Es(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Xm(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var bw=!1;function IA(t,e){if(Nm=dd,t=a_(),wv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pm={focusedElem:t,selectionRange:n},dd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,p=e.stateNode,b=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mn(e.type,y),v);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(_){Ze(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return m=bw,bw=!1,m}function cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xm(e,n,o)}i=i.next}while(i!==r)}}function Df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Km(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r1(t){var e=t.alternate;e!==null&&(t.alternate=null,r1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[Tl],delete e[jm],delete e[pA],delete e[mA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i1(t){return t.tag===5||t.tag===3||t.tag===4}function ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(r!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}function Zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zm(t,e,n),t=t.sibling;t!==null;)Zm(t,e,n),t=t.sibling}var Et=null,Fn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)o1(t,e,n),n=n.sibling}function o1(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(yf,n)}catch{}switch(n.tag){case 5:Pt||Es(n,e);case 6:var r=Et,i=Fn;Et=null,Gr(t,e,n),Et=r,Fn=i,Et!==null&&(Fn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Fn?(t=Et,n=n.stateNode,t.nodeType===8?Qh(t.parentNode,n):t.nodeType===1&&Qh(t,n),xl(t)):Qh(Et,n.stateNode));break;case 4:r=Et,i=Fn,Et=n.stateNode.containerInfo,Fn=!0,Gr(t,e,n),Et=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Xm(n,e,s),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!Pt&&(Es(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Gr(t,e,n),Pt=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function Ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AA),e.forEach(function(r){var i=HA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Fn=!1;break e;case 3:Et=a.stateNode.containerInfo,Fn=!0;break e;case 4:Et=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(Et===null)throw Error(Q(160));o1(o,s,i),Et=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s1(e,t),e=e.sibling}function s1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Gn(t),r&4){try{cl(3,t,t.return),Df(3,t)}catch(y){Ze(t,t.return,y)}try{cl(5,t,t.return)}catch(y){Ze(t,t.return,y)}}break;case 1:Nn(e,t),Gn(t),r&512&&n!==null&&Es(n,n.return);break;case 5:if(Nn(e,t),Gn(t),r&512&&n!==null&&Es(n,n.return),t.flags&32){var i=t.stateNode;try{El(i,"")}catch(y){Ze(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&RC(i,o),Cm(a,s);var c=Cm(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?NC(i,d):u==="dangerouslySetInnerHTML"?AC(i,d):u==="children"?El(i,d):av(i,u,d,c)}switch(a){case"input":ym(i,o);break;case"textarea":OC(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?xs(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?xs(i,!!o.multiple,o.defaultValue,!0):xs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tl]=o}catch(y){Ze(t,t.return,y)}}break;case 6:if(Nn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Ze(t,t.return,y)}}break;case 3:if(Nn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(y){Ze(t,t.return,y)}break;case 4:Nn(e,t),Gn(t);break;case 13:Nn(e,t),Gn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Vv=rt())),r&4&&Ew(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||u,Nn(e,t),Pt=c):Nn(e,t),Gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(d=ne=u;ne!==null;){switch(f=ne,h=f.child,f.tag){case 0:case 11:case 14:case 15:cl(4,f,f.return);break;case 1:Es(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ze(r,n,y)}}break;case 5:Es(f,f.return);break;case 22:if(f.memoizedState!==null){Cw(d);continue}}h!==null?(h.return=f,ne=h):Cw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IC("display",s))}catch(y){Ze(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ze(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(e,t),Gn(t),r&4&&Ew(t);break;case 21:break;default:Nn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(El(i,""),r.flags&=-33);var o=ww(t);Zm(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ww(t);Jm(t,a,s);break;default:throw Error(Q(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NA(t,e,n){ne=t,a1(t)}function a1(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ou;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=ou;var c=Pt;if(ou=s,(Pt=l)&&!c)for(ne=i;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?_w(i):l!==null?(l.return=s,ne=l):_w(i);for(;o!==null;)ne=o,a1(o),o=o.sibling;ne=i,ou=a,Pt=c}Sw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):Sw(t)}}function Sw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Df(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Pt||e.flags&512&&Km(e)}catch(f){Ze(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Cw(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function _w(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Df(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var o=e.return;try{Km(e)}catch(l){Ze(e,o,l)}break;case 5:var s=e.return;try{Km(e)}catch(l){Ze(e,s,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var PA=Math.ceil,xd=Ur.ReactCurrentDispatcher,Fv=Ur.ReactCurrentOwner,Dn=Ur.ReactCurrentBatchConfig,we=0,vt=null,lt=null,St=0,ln=0,Ss=$i(0),dt=0,Ll=null,To=0,kf=0,Bv=0,ul=null,Zt=null,Vv=0,Ks=1/0,_r=null,Dd=!1,eg=null,xi=null,su=!1,fi=null,kd=0,dl=0,tg=null,zu=-1,Yu=0;function Xt(){return we&6?rt():zu!==-1?zu:zu=rt()}function Di(t){return t.mode&1?we&2&&St!==0?St&-St:vA.transition!==null?(Yu===0&&(Yu=zC()),Yu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:JC(t.type)),t):1}function Hn(t,e,n,r){if(50<dl)throw dl=0,tg=null,Error(Q(185));nc(t,n,r),(!(we&2)||t!==vt)&&(t===vt&&(!(we&2)&&(kf|=n),dt===4&&ii(t,St)),on(t,r),n===1&&we===0&&!(e.mode&1)&&(Ks=rt()+500,Cf&&zi()))}function on(t,e){var n=t.callbackNode;vT(t,e);var r=ud(t,t===vt?St:0);if(r===0)n!==null&&Nb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nb(n),e===1)t.tag===0?gA(xw.bind(null,t)):v_(xw.bind(null,t)),fA(function(){!(we&6)&&zi()}),n=null;else{switch(YC(r)){case 1:n=fv;break;case 4:n=WC;break;case 16:n=cd;break;case 536870912:n=$C;break;default:n=cd}n=m1(n,l1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l1(t,e){if(zu=-1,Yu=0,we&6)throw Error(Q(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var r=ud(t,t===vt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rd(t,r);else{e=r;var i=we;we|=2;var o=u1();(vt!==t||St!==e)&&(_r=null,Ks=rt()+500,bo(t,e));do try{jA();break}catch(a){c1(t,a)}while(!0);xv(),xd.current=o,we=i,lt!==null?e=0:(vt=null,St=0,e=dt)}if(e!==0){if(e===2&&(i=Rm(t),i!==0&&(r=i,e=ng(t,i))),e===1)throw n=Ll,bo(t,0),ii(t,r),on(t,rt()),n;if(e===6)ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!MA(i)&&(e=Rd(t,r),e===2&&(o=Rm(t),o!==0&&(r=o,e=ng(t,o))),e===1))throw n=Ll,bo(t,0),ii(t,r),on(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:no(t,Zt,_r);break;case 3:if(ii(t,r),(r&130023424)===r&&(e=Vv+500-rt(),10<e)){if(ud(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lm(no.bind(null,t,Zt,_r),e);break}no(t,Zt,_r);break;case 4:if(ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Vn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PA(r/1960))-r,10<r){t.timeoutHandle=Lm(no.bind(null,t,Zt,_r),r);break}no(t,Zt,_r);break;case 5:no(t,Zt,_r);break;default:throw Error(Q(329))}}}return on(t,rt()),t.callbackNode===n?l1.bind(null,t):null}function ng(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&rg(e)),t}function rg(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function MA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$n(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~Bv,e&=~kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function xw(t){if(we&6)throw Error(Q(327));Ts();var e=ud(t,0);if(!(e&1))return on(t,rt()),null;var n=Rd(t,e);if(t.tag!==0&&n===2){var r=Rm(t);r!==0&&(e=r,n=ng(t,r))}if(n===1)throw n=Ll,bo(t,0),ii(t,e),on(t,rt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,no(t,Zt,_r),on(t,rt()),null}function Hv(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Ks=rt()+500,Cf&&zi())}}function Ao(t){fi!==null&&fi.tag===0&&!(we&6)&&Ts();var e=we;we|=1;var n=Dn.transition,r=Ne;try{if(Dn.transition=null,Ne=1,t)return t()}finally{Ne=r,Dn.transition=n,we=e,!(we&6)&&zi()}}function Uv(){ln=Ss.current,Fe(Ss)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dA(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:Gs(),Fe(nn),Fe(jt),Av();break;case 5:Tv(r);break;case 4:Gs();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:Dv(r.type._context);break;case 22:case 23:Uv()}n=n.return}if(vt=t,lt=t=ki(t.current,null),St=ln=e,dt=0,Ll=null,Bv=kf=To=0,Zt=ul=null,co!==null){for(e=0;e<co.length;e++)if(n=co[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}co=null}return t}function c1(t,e){do{var n=lt;try{if(xv(),Uu.current=_d,Cd){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(Oo=0,pt=ut=qe=null,ll=!1,Nl=0,Fv.current=null,n===null||n.return===null){dt=1,Ll=e,lt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fw(s);if(h!==null){h.flags&=-257,hw(h,s,a,o,e),h.mode&1&&dw(o,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){dw(o,c,e),Wv();break e}l=Error(Q(426))}}else if(He&&a.mode&1){var v=fw(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hw(v,s,a,o,e),Cv(Xs(l,a));break e}}o=l=Xs(l,a),dt!==4&&(dt=2),ul===null?ul=[o]:ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=Y_(o,l,e);ow(o,p);break e;case 1:a=l;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xi===null||!xi.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=q_(o,a,e);ow(o,_);break e}}o=o.return}while(o!==null)}f1(n)}catch(R){e=R,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function u1(){var t=xd.current;return xd.current=_d,t===null?_d:t}function Wv(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(To&268435455)&&!(kf&268435455)||ii(vt,St)}function Rd(t,e){var n=we;we|=2;var r=u1();(vt!==t||St!==e)&&(_r=null,bo(t,e));do try{LA();break}catch(i){c1(t,i)}while(!0);if(xv(),we=n,xd.current=r,lt!==null)throw Error(Q(261));return vt=null,St=0,dt}function LA(){for(;lt!==null;)d1(lt)}function jA(){for(;lt!==null&&!lT();)d1(lt)}function d1(t){var e=p1(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?f1(t):lt=e,Fv.current=null}function f1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TA(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,lt=null;return}}else if(n=OA(n,e,ln),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);dt===0&&(dt=5)}function no(t,e,n){var r=Ne,i=Dn.transition;try{Dn.transition=null,Ne=1,FA(t,e,n,r)}finally{Dn.transition=i,Ne=r}return null}function FA(t,e,n,r){do Ts();while(fi!==null);if(we&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(yT(t,o),t===vt&&(lt=vt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,m1(cd,function(){return Ts(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dn.transition,Dn.transition=null;var s=Ne;Ne=1;var a=we;we|=4,Fv.current=null,IA(t,n),s1(n,t),iA(Pm),dd=!!Nm,Pm=Nm=null,t.current=n,NA(n),cT(),we=a,Ne=s,Dn.transition=o}else t.current=n;if(su&&(su=!1,fi=t,kd=i),o=t.pendingLanes,o===0&&(xi=null),fT(n.stateNode),on(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,t=eg,eg=null,t;return kd&1&&t.tag!==0&&Ts(),o=t.pendingLanes,o&1?t===tg?dl++:(dl=0,tg=t):dl=0,zi(),null}function Ts(){if(fi!==null){var t=YC(kd),e=Dn.transition,n=Ne;try{if(Dn.transition=null,Ne=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,kd=0,we&6)throw Error(Q(331));var i=we;for(we|=4,ne=t.current;ne!==null;){var o=ne,s=o.child;if(ne.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:cl(8,u,o)}var d=u.child;if(d!==null)d.return=u,ne=d;else for(;ne!==null;){u=ne;var f=u.sibling,h=u.return;if(r1(u),u===c){ne=null;break}if(f!==null){f.return=h,ne=f;break}ne=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ne=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ne=s;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cl(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ne=p;break e}ne=o.return}}var b=t.current;for(ne=b;ne!==null;){s=ne;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ne=w;else e:for(s=b;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Df(9,a)}}catch(R){Ze(a,a.return,R)}if(a===s){ne=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ne=_;break e}ne=a.return}}if(we=i,zi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(yf,t)}catch{}r=!0}return r}finally{Ne=n,Dn.transition=e}}return!1}function Dw(t,e,n){e=Xs(n,e),e=Y_(t,e,1),t=_i(t,e,1),e=Xt(),t!==null&&(nc(t,1,e),on(t,e))}function Ze(t,e,n){if(t.tag===3)Dw(t,t,n);else for(;e!==null;){if(e.tag===3){Dw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Xs(n,t),t=q_(e,t,1),e=_i(e,t,1),t=Xt(),e!==null&&(nc(e,1,t),on(e,t));break}}e=e.return}}function BA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(St&n)===n&&(dt===4||dt===3&&(St&130023424)===St&&500>rt()-Vv?bo(t,0):Bv|=n),on(t,e)}function h1(t,e){e===0&&(t.mode&1?(e=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):e=1);var n=Xt();t=jr(t,e),t!==null&&(nc(t,e,n),on(t,n))}function VA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h1(t,n)}function HA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),h1(t,n)}var p1;p1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,RA(t,e,n);en=!!(t.flags&131072)}else en=!1,He&&e.flags&1048576&&y_(e,yd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$u(t,e),t=e.pendingProps;var i=Ys(e,jt.current);Os(e,n),i=Nv(null,e,r,t,i,n);var o=Pv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,gd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rv(e),i.updater=xf,e.stateNode=i,i._reactInternals=e,Wm(e,r,t,n),e=Ym(null,e,r,!0,o,n)):(e.tag=0,He&&o&&Ev(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($u(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WA(r),t=Mn(r,t),i){case 0:e=zm(null,e,r,t,n);break e;case 1:e=gw(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=mw(null,e,r,Mn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),zm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),gw(t,e,r,i,n);case 3:e:{if(K_(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,__(t,e),Ed(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xs(Error(Q(423)),e),e=vw(t,e,r,n,i);break e}else if(r!==i){i=Xs(Error(Q(424)),e),e=vw(t,e,r,n,i);break e}else for(dn=Ci(e.stateNode.containerInfo.firstChild),fn=e,He=!0,Bn=null,n=S_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),r===i){e=Fr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return x_(e),t===null&&Vm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Mm(r,i)?s=null:o!==null&&Mm(r,o)&&(e.flags|=32),X_(t,e),Wt(t,e,s,n),e.child;case 6:return t===null&&Vm(e),null;case 13:return J_(t,e,n);case 4:return Ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qs(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),pw(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Le(bd,r._currentValue),r._currentValue=s,o!==null)if($n(o.value,s)){if(o.children===i.children&&!nn.current){e=Fr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Tr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hm(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hm(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Os(e,n),i=kn(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),mw(t,e,r,i,n);case 15:return Q_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),$u(t,e),e.tag=1,rn(r)?(t=!0,gd(e)):t=!1,Os(e,n),z_(e,r,i),Wm(e,r,i,n),Ym(null,e,r,!0,t,n);case 19:return Z_(t,e,n);case 22:return G_(t,e,n)}throw Error(Q(156,e.tag))};function m1(t,e){return UC(t,e)}function UA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new UA(t,e,n,r)}function $v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WA(t){if(typeof t=="function")return $v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cv)return 11;if(t===uv)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")$v(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fs:return wo(n.children,i,o,e);case lv:s=8,i|=8;break;case hm:return t=xn(12,n,e,i|2),t.elementType=hm,t.lanes=o,t;case pm:return t=xn(13,n,e,i),t.elementType=pm,t.lanes=o,t;case mm:return t=xn(19,n,e,i),t.elementType=mm,t.lanes=o,t;case xC:return Rf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CC:s=10;break e;case _C:s=9;break e;case cv:s=11;break e;case uv:s=14;break e;case ti:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=xn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function wo(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Rf(t,e,n,r){return t=xn(22,t,r,e),t.elementType=xC,t.lanes=n,t.stateNode={isHidden:!1},t}function np(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function rp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $A(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zv(t,e,n,r,i,o,s,a,l){return t=new $A(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(o),t}function zA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g1(t){if(!t)return Mi;t=t._reactInternals;e:{if(Vo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(rn(n))return g_(t,n,e)}return e}function v1(t,e,n,r,i,o,s,a,l){return t=zv(n,r,!0,t,i,o,s,a,l),t.context=g1(null),n=t.current,r=Xt(),i=Di(n),o=Tr(r,i),o.callback=e??null,_i(n,o,i),t.current.lanes=i,nc(t,i,r),on(t,r),t}function Of(t,e,n,r){var i=e.current,o=Xt(),s=Di(i);return n=g1(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,s),t!==null&&(Hn(t,i,s,o),Hu(t,i,s)),s}function Od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yv(t,e){kw(t,e),(t=t.alternate)&&kw(t,e)}function YA(){return null}var y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function qv(t){this._internalRoot=t}Tf.prototype.render=qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Of(t,e,null,null)};Tf.prototype.unmount=qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ao(function(){Of(null,t,null,null)}),e[Lr]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=GC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&KC(t)}};function Qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function qA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Od(s);o.call(c)}}var s=v1(e,r,t,0,null,!1,!1,"",Rw);return t._reactRootContainer=s,t[Lr]=s.current,Rl(t.nodeType===8?t.parentNode:t),Ao(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Od(l);a.call(c)}}var l=zv(t,0,!1,null,null,!1,!1,"",Rw);return t._reactRootContainer=l,t[Lr]=l.current,Rl(t.nodeType===8?t.parentNode:t),Ao(function(){Of(e,l,n,r)}),l}function If(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Od(s);a.call(l)}}Of(e,s,t,i)}else s=qA(n,e,t,i,r);return Od(s)}qC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xa(e.pendingLanes);n!==0&&(hv(e,n|1),on(e,rt()),!(we&6)&&(Ks=rt()+500,zi()))}break;case 13:Ao(function(){var r=jr(t,1);if(r!==null){var i=Xt();Hn(r,t,1,i)}}),Yv(t,1)}};pv=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Xt();Hn(e,t,134217728,n)}Yv(t,134217728)}};QC=function(t){if(t.tag===13){var e=Di(t),n=jr(t,e);if(n!==null){var r=Xt();Hn(n,t,e,r)}Yv(t,e)}};GC=function(){return Ne};XC=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};xm=function(t,e,n){switch(e){case"input":if(ym(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sf(r);if(!i)throw Error(Q(90));kC(r),ym(r,i)}}}break;case"textarea":OC(t,n);break;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}};LC=Hv;jC=Ao;var QA={usingClientEntryPoint:!1,Events:[ic,gs,Sf,PC,MC,Hv]},La={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GA={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VC(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{yf=au.inject(GA),fr=au}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qv(e))throw Error(Q(200));return zA(t,e,null,n)};vn.createRoot=function(t,e){if(!Qv(t))throw Error(Q(299));var n=!1,r="",i=y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zv(t,1,!1,null,null,n,!1,r,i),t[Lr]=e.current,Rl(t.nodeType===8?t.parentNode:t),new qv(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=VC(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Ao(t)};vn.hydrate=function(t,e,n){if(!Af(e))throw Error(Q(200));return If(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Qv(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=y1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=v1(e,null,t,1,n??null,i,!1,o,s),t[Lr]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tf(e)};vn.render=function(t,e,n){if(!Af(e))throw Error(Q(200));return If(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Af(t))throw Error(Q(40));return t._reactRootContainer?(Ao(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};vn.unstable_batchedUpdates=Hv;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Af(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return If(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function b1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b1)}catch(t){console.error(t)}}b1(),bC.exports=vn;var Io=bC.exports;const XA=gf(Io);var Ow=Io;dm.createRoot=Ow.createRoot,dm.hydrateRoot=Ow.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}var hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hi||(hi={}));const Tw="popstate";function KA(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return ig("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Td(i)}return ZA(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function w1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JA(){return Math.random().toString(36).substr(2,8)}function Aw(t,e){return{usr:t.state,key:t.key,idx:e}}function ig(t,e,n,r){return n===void 0&&(n=null),jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||JA()})}function Td(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=hi.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(jl({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=hi.Pop;let v=u(),p=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:p})}function f(v,p){a=hi.Push;let b=ig(y.location,v,p);c=u()+1;let w=Aw(b,c),_=y.createHref(b);try{s.pushState(w,"",_)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(_)}o&&l&&l({action:a,location:y.location,delta:1})}function h(v,p){a=hi.Replace;let b=ig(y.location,v,p);c=u();let w=Aw(b,c),_=y.createHref(b);s.replaceState(w,"",_),o&&l&&l({action:a,location:y.location,delta:0})}function m(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Td(v);return b=b.replace(/ $/,"%20"),ct(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let y={get action(){return a},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,d),l=v,()=>{i.removeEventListener(Tw,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(v){return s.go(v)}};return y}var Iw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Iw||(Iw={}));function eI(t,e,n){return n===void 0&&(n="/"),tI(t,e,n,!1)}function tI(t,e,n,r){let i=typeof e=="string"?da(e):e,o=Gv(i.pathname||"/",n);if(o==null)return null;let s=E1(t);nI(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=hI(o);a=dI(s[l],c,r)}return a}function E1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ri([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),E1(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:cI(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of S1(o.path))i(o,s,l)}),e}function S1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=S1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rI=/^:[\w-]+$/,iI=3,oI=2,sI=1,aI=10,lI=-2,Nw=t=>t==="*";function cI(t,e){let n=t.split("/"),r=n.length;return n.some(Nw)&&(r+=lI),e&&(r+=oI),n.filter(i=>!Nw(i)).reduce((i,o)=>i+(rI.test(o)?iI:o===""?sI:aI),r)}function uI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dI(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=Pw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Pw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ri([o,d.pathname]),pathnameBase:vI(Ri([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Ri([o,d.pathnameBase]))}return s}function Pw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let y=a[d]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function fI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),w1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return w1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?da(t):t;return{pathname:n?n.startsWith("/")?n:mI(n,e):e,search:yI(r),hash:bI(i)}}function mI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ip(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C1(t,e){let n=gI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=da(t):(i=jl({},t),ct(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=pI(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),vI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x1=["post","put","patch","delete"];new Set(x1);const EI=["get",...x1];new Set(EI);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}const Xv=L.createContext(null),SI=L.createContext(null),Ho=L.createContext(null),Nf=L.createContext(null),Wr=L.createContext({outlet:null,matches:[],isDataRoute:!1}),D1=L.createContext(null);function CI(t,e){let{relative:n}=e===void 0?{}:e;sc()||ct(!1);let{basename:r,navigator:i}=L.useContext(Ho),{hash:o,pathname:s,search:a}=R1(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ri([r,s])),i.createHref({pathname:l,search:a,hash:o})}function sc(){return L.useContext(Nf)!=null}function ac(){return sc()||ct(!1),L.useContext(Nf).location}function k1(t){L.useContext(Ho).static||L.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=L.useContext(Wr);return t?BI():_I()}function _I(){sc()||ct(!1);let t=L.useContext(Xv),{basename:e,future:n,navigator:r}=L.useContext(Ho),{matches:i}=L.useContext(Wr),{pathname:o}=ac(),s=JSON.stringify(C1(i,n.v7_relativeSplatPath)),a=L.useRef(!1);return k1(()=>{a.current=!0}),L.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=_1(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ri([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const xI=L.createContext(null);function DI(t){let e=L.useContext(Wr).outlet;return e&&L.createElement(xI.Provider,{value:t},e)}function kI(){let{matches:t}=L.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function R1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(Ho),{matches:i}=L.useContext(Wr),{pathname:o}=ac(),s=JSON.stringify(C1(i,r.v7_relativeSplatPath));return L.useMemo(()=>_1(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function RI(t,e){return OI(t,e)}function OI(t,e,n,r){sc()||ct(!1);let{navigator:i}=L.useContext(Ho),{matches:o}=L.useContext(Wr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=ac(),u;if(e){var d;let v=typeof e=="string"?da(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||ct(!1),u=v}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=eI(t,{pathname:h}),y=PI(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ri([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ri([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&y?L.createElement(Nf.Provider,{value:{location:Fl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hi.Pop}},y):y}function TI(){let t=FI(),e=wI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const AI=L.createElement(TI,null);class II extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Wr.Provider,{value:this.props.routeContext},L.createElement(D1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NI(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(Xv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Wr.Provider,{value:e},r)}function PI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ct(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,m=!1,y=null,v=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||AI,l&&(c<0&&f===0?(m=!0,v=null):c===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,f+1)),b=()=>{let w;return h?w=y:m?w=v:d.route.Component?w=L.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,L.createElement(NI,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?L.createElement(II,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var O1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(O1||{}),Ad=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ad||{});function MI(t){let e=L.useContext(Xv);return e||ct(!1),e}function LI(t){let e=L.useContext(SI);return e||ct(!1),e}function jI(t){let e=L.useContext(Wr);return e||ct(!1),e}function T1(t){let e=jI(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function FI(){var t;let e=L.useContext(D1),n=LI(Ad.UseRouteError),r=T1(Ad.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BI(){let{router:t}=MI(O1.UseNavigateStable),e=T1(Ad.UseNavigateStable),n=L.useRef(!1);return k1(()=>{n.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fl({fromRouteId:e},o)))},[t,e])}function A1(t){return DI(t.context)}function he(t){ct(!1)}function VI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hi.Pop,navigator:o,static:s=!1,future:a}=t;sc()&&ct(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:o,static:s,future:Fl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=da(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,y=L.useMemo(()=>{let v=Gv(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:i}},[l,u,d,f,h,m,i]);return y==null?null:L.createElement(Ho.Provider,{value:c},L.createElement(Nf.Provider,{children:n,value:y}))}function lc(t){let{children:e,location:n}=t;return RI(og(e),n)}new Promise(()=>{});function og(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let o=[...e,i];if(r.type===L.Fragment){n.push.apply(n,og(r.props.children,o));return}r.type!==he&&ct(!1),!r.props.index||!r.props.children||ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=og(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function HI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WI(t,e){return t.button===0&&(!e||e==="_self")&&!UI(t)}const $I=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],zI="6";try{window.__reactRouterVersion=zI}catch{}const YI="startTransition",Mw=vC[YI];function qI(t){let{basename:e,children:n,future:r,window:i}=t,o=L.useRef();o.current==null&&(o.current=KA({window:i,v5Compat:!0}));let s=o.current,[a,l]=L.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=L.useCallback(d=>{c&&Mw?Mw(()=>l(d)):l(d)},[l,c]);return L.useLayoutEffect(()=>s.listen(u),[s,u]),L.createElement(VI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const QI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=HI(e,$I),{basename:h}=L.useContext(Ho),m,y=!1;if(typeof c=="string"&&GI.test(c)&&(m=c,QI))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),R=Gv(_.pathname,h);_.origin===w.origin&&R!=null?c=R+_.search+_.hash:y=!0}catch{}let v=CI(c,{relative:i}),p=XI(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||p(w)}return L.createElement("a",sg({},f,{href:m||v,onClick:y||o?r:b,ref:n,target:l}))});var Lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lw||(Lw={}));var jw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jw||(jw={}));function XI(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=tt(),c=ac(),u=R1(t,{relative:s});return L.useCallback(d=>{if(WI(d,n)){d.preventDefault();let f=r!==void 0?r:Td(c)===Td(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const KI=()=>g.jsx(g.Fragment,{children:g.jsx("h1",{children:"홈페이지"})});function I1(t,e){return function(){return t.apply(e,arguments)}}const{toString:JI}=Object.prototype,{getPrototypeOf:Kv}=Object,Pf=(t=>e=>{const n=JI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qn=t=>(t=t.toLowerCase(),e=>Pf(e)===t),Mf=t=>e=>typeof e===t,{isArray:fa}=Array,Bl=Mf("undefined");function ZI(t){return t!==null&&!Bl(t)&&t.constructor!==null&&!Bl(t.constructor)&&hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const N1=qn("ArrayBuffer");function eN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&N1(t.buffer),e}const tN=Mf("string"),hn=Mf("function"),P1=Mf("number"),Lf=t=>t!==null&&typeof t=="object",nN=t=>t===!0||t===!1,Qu=t=>{if(Pf(t)!=="object")return!1;const e=Kv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rN=qn("Date"),iN=qn("File"),oN=qn("Blob"),sN=qn("FileList"),aN=t=>Lf(t)&&hn(t.pipe),lN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hn(t.append)&&((e=Pf(t))==="formdata"||e==="object"&&hn(t.toString)&&t.toString()==="[object FormData]"))},cN=qn("URLSearchParams"),[uN,dN,fN,hN]=["ReadableStream","Request","Response","Headers"].map(qn),pN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),fa(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function M1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,L1=t=>!Bl(t)&&t!==fo;function ag(){const{caseless:t}=L1(this)&&this||{},e={},n=(r,i)=>{const o=t&&M1(e,i)||i;Qu(e[o])&&Qu(r)?e[o]=ag(e[o],r):Qu(r)?e[o]=ag({},r):fa(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cc(arguments[r],n);return e}const mN=(t,e,n,{allOwnKeys:r}={})=>(cc(e,(i,o)=>{n&&hn(i)?t[o]=I1(i,n):t[o]=i},{allOwnKeys:r}),t),gN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vN=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},yN=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Kv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},bN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},wN=t=>{if(!t)return null;if(fa(t))return t;let e=t.length;if(!P1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kv(Uint8Array)),SN=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},CN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_N=qn("HTMLFormElement"),xN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Fw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),DN=qn("RegExp"),j1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cc(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},kN=t=>{j1(t,(e,n)=>{if(hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RN=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return fa(t)?r(t):r(String(t).split(e)),n},ON=()=>{},TN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,op="abcdefghijklmnopqrstuvwxyz",Bw="0123456789",F1={DIGIT:Bw,ALPHA:op,ALPHA_DIGIT:op+op.toUpperCase()+Bw},AN=(t=16,e=F1.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function IN(t){return!!(t&&hn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const NN=t=>{const e=new Array(10),n=(r,i)=>{if(Lf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=fa(r)?[]:{};return cc(r,(s,a)=>{const l=n(s,i+1);!Bl(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},PN=qn("AsyncFunction"),MN=t=>t&&(Lf(t)||hn(t))&&hn(t.then)&&hn(t.catch),B1=((t,e)=>t?setImmediate:e?((n,r)=>(fo.addEventListener("message",({source:i,data:o})=>{i===fo&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),fo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(fo.postMessage)),LN=typeof queueMicrotask<"u"?queueMicrotask.bind(fo):typeof process<"u"&&process.nextTick||B1,V={isArray:fa,isArrayBuffer:N1,isBuffer:ZI,isFormData:lN,isArrayBufferView:eN,isString:tN,isNumber:P1,isBoolean:nN,isObject:Lf,isPlainObject:Qu,isReadableStream:uN,isRequest:dN,isResponse:fN,isHeaders:hN,isUndefined:Bl,isDate:rN,isFile:iN,isBlob:oN,isRegExp:DN,isFunction:hn,isStream:aN,isURLSearchParams:cN,isTypedArray:EN,isFileList:sN,forEach:cc,merge:ag,extend:mN,trim:pN,stripBOM:gN,inherits:vN,toFlatObject:yN,kindOf:Pf,kindOfTest:qn,endsWith:bN,toArray:wN,forEachEntry:SN,matchAll:CN,isHTMLForm:_N,hasOwnProperty:Fw,hasOwnProp:Fw,reduceDescriptors:j1,freezeMethods:kN,toObjectSet:RN,toCamelCase:xN,noop:ON,toFiniteNumber:TN,findKey:M1,global:fo,isContextDefined:L1,ALPHABET:F1,generateString:AN,isSpecCompliantForm:IN,toJSONObject:NN,isAsyncFn:PN,isThenable:MN,setImmediate:B1,asap:LN};function ue(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}V.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const V1=ue.prototype,H1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{H1[t]={value:t}});Object.defineProperties(ue,H1);Object.defineProperty(V1,"isAxiosError",{value:!0});ue.from=(t,e,n,r,i,o)=>{const s=Object.create(V1);return V.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ue.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const jN=null;function lg(t){return V.isPlainObject(t)||V.isArray(t)}function U1(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Vw(t,e,n){return t?t.concat(e).map(function(i,o){return i=U1(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function FN(t){return V.isArray(t)&&!t.some(lg)}const BN=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function jf(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!V.isUndefined(v[y])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(V.isDate(m))return m.toISOString();if(!l&&V.isBlob(m))throw new ue("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(m)||V.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,v){let p=m;if(m&&!v&&typeof m=="object"){if(V.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(V.isArray(m)&&FN(m)||(V.isFileList(m)||V.endsWith(y,"[]"))&&(p=V.toArray(m)))return y=U1(y),p.forEach(function(w,_){!(V.isUndefined(w)||w===null)&&e.append(s===!0?Vw([y],_,o):s===null?y:y+"[]",c(w))}),!1}return lg(m)?!0:(e.append(Vw(v,y,o),c(m)),!1)}const d=[],f=Object.assign(BN,{defaultVisitor:u,convertValue:c,isVisitable:lg});function h(m,y){if(!V.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),V.forEach(m,function(p,b){(!(V.isUndefined(p)||p===null)&&i.call(e,p,V.isString(b)?b.trim():b,y,f))===!0&&h(p,y?y.concat(b):[b])}),d.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Hw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jv(t,e){this._pairs=[],t&&jf(t,this,e)}const W1=Jv.prototype;W1.append=function(e,n){this._pairs.push([e,n])};W1.toString=function(e){const n=e?function(r){return e.call(this,r,Hw)}:Hw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function VN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $1(t,e,n){if(!e)return t;const r=n&&n.encode||VN,i=n&&n.serialize;let o;if(i?o=i(e,n):o=V.isURLSearchParams(e)?e.toString():new Jv(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Uw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const z1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HN=typeof URLSearchParams<"u"?URLSearchParams:Jv,UN=typeof FormData<"u"?FormData:null,WN=typeof Blob<"u"?Blob:null,$N={isBrowser:!0,classes:{URLSearchParams:HN,FormData:UN,Blob:WN},protocols:["http","https","file","blob","url","data"]},Zv=typeof window<"u"&&typeof document<"u",zN=(t=>Zv&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),YN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qN=Zv&&window.location.href||"http://localhost",QN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zv,hasStandardBrowserEnv:zN,hasStandardBrowserWebWorkerEnv:YN,origin:qN},Symbol.toStringTag,{value:"Module"})),Un={...QN,...$N};function GN(t,e){return jf(t,new Un.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Un.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function XN(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KN(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function Y1(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&V.isArray(i)?i.length:s,l?(V.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!V.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&V.isArray(i[s])&&(i[s]=KN(i[s])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,i)=>{e(XN(r),i,n,0)}),n}return null}function JN(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const uc={transitional:z1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(Y1(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return GN(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return jf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),JN(e)):e}],transformResponse:[function(e){const n=this.transitional||uc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ue.from(a,ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{uc.headers[t]={}});const ZN=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eP=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&ZN[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ww=Symbol("internals");function ja(t){return t&&String(t).trim().toLowerCase()}function Gu(t){return t===!1||t==null?t:V.isArray(t)?t.map(Gu):String(t)}function tP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const nP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sp(t,e,n,r,i){if(V.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function rP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function iP(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class sn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=ja(l);if(!u)throw new Error("header name must be a non-empty string");const d=V.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Gu(a))}const s=(a,l)=>V.forEach(a,(c,u)=>o(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(V.isString(e)&&(e=e.trim())&&!nP(e))s(eP(e),n);else if(V.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=ja(e),e){const r=V.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return tP(i);if(V.isFunction(n))return n.call(this,i,r);if(V.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ja(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||sp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=ja(s),s){const a=V.findKey(r,s);a&&(!n||sp(r,r[a],a,n))&&(delete r[a],i=!0)}}return V.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||sp(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return V.forEach(this,(i,o)=>{const s=V.findKey(r,o);if(s){n[s]=Gu(i),delete n[o];return}const a=e?rP(o):String(o).trim();a!==o&&delete n[o],n[a]=Gu(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Ww]=this[Ww]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ja(s);r[a]||(iP(i,s),r[a]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}}sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(sn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(sn);function ap(t,e){const n=this||uc,r=e||n,i=sn.from(r.headers);let o=r.data;return V.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function q1(t){return!!(t&&t.__CANCEL__)}function ha(t,e,n){ue.call(this,t??"canceled",ue.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(ha,ue,{__CANCEL__:!0});function Q1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function oP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sP(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function aP(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const Id=(t,e,n=3)=>{let r=0;const i=sP(50,250);return aP(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},$w=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},zw=t=>(...e)=>V.asap(()=>t(...e)),lP=Un.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=V.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),cP=Un.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),V.isString(r)&&s.push("path="+r),V.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function G1(t,e){return t&&!uP(e)?dP(t,e):e}const Yw=t=>t instanceof sn?{...t}:t;function No(t,e){e=e||{};const n={};function r(c,u,d){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:d},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function i(c,u,d){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function o(c,u){if(!V.isUndefined(u))return r(void 0,u)}function s(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>i(Yw(c),Yw(u),!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);V.isUndefined(f)&&d!==a||(n[u]=f)}),n}const X1=t=>{const e=No({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=sn.from(s),e.url=$1(G1(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(V.isFormData(n)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Un.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&lP(e.url))){const c=i&&o&&cP.read(o);c&&s.set(i,c)}return e},fP=typeof XMLHttpRequest<"u",hP=fP&&function(t){return new Promise(function(n,r){const i=X1(t);let o=i.data;const s=sn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,m;function y(){h&&h(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function p(){if(!v)return;const w=sn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:t,request:v};Q1(function(O){n(O),y()},function(O){r(O),y()},R),v=null}"onloadend"in v?v.onloadend=p:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(p)},v.onabort=function(){v&&(r(new ue("Request aborted",ue.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||z1;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new ue(_,R.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,v)),v=null},o===void 0&&s.setContentType(null),"setRequestHeader"in v&&V.forEach(s.toJSON(),function(_,R){v.setRequestHeader(R,_)}),V.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),c&&([f,m]=Id(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,h]=Id(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=w=>{v&&(r(!w||w.type?new ha(null,t,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=oP(i.url);if(b&&Un.protocols.indexOf(b)===-1){r(new ue("Unsupported protocol "+b+":",ue.ERR_BAD_REQUEST,t));return}v.send(o||null)})},pP=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,s();const c=l instanceof Error?l:this.reason;n.abort(c instanceof ue?c:new ha(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{i(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},mP=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},gP=async function*(t,e,n){for await(const r of t)yield*mP(ArrayBuffer.isView(r)?r:await n(String(r)),e)},qw=(t,e,n,r,i)=>{const o=gP(t,e,i);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await o.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=s+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},Ff=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",K1=Ff&&typeof ReadableStream=="function",cg=Ff&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),J1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},vP=K1&&J1(()=>{let t=!1;const e=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Qw=64*1024,ug=K1&&J1(()=>V.isReadableStream(new Response("").body)),Nd={stream:ug&&(t=>t.body)};Ff&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nd[e]&&(Nd[e]=V.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const yP=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await cg(t)).byteLength},bP=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??yP(e)},wP=Ff&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=X1(t);c=c?(c+"").toLowerCase():"text";let[h,m]=i||o||s?pP([i,o],s):[],y,v;const p=()=>{!y&&setTimeout(()=>{h&&h.unsubscribe()}),y=!0};let b;try{if(l&&vP&&n!=="get"&&n!=="head"&&(b=await bP(u,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(V.isFormData(r)&&(O=M.headers.get("content-type"))&&u.setContentType(O),M.body){const[E,N]=$w(b,Id(zw(l)));r=qw(M.body,Qw,E,N,cg)}}V.isString(d)||(d=d?"include":"omit"),v=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:d});let w=await fetch(v);const _=ug&&(c==="stream"||c==="response");if(ug&&(a||_)){const M={};["status","statusText","headers"].forEach(H=>{M[H]=w[H]});const O=V.toFiniteNumber(w.headers.get("content-length")),[E,N]=a&&$w(O,Id(zw(a),!0))||[];w=new Response(qw(w.body,Qw,E,()=>{N&&N(),_&&p()},cg),M)}c=c||"text";let R=await Nd[V.findKey(Nd,c)||"text"](w,t);return!_&&p(),m&&m(),await new Promise((M,O)=>{Q1(M,O,{data:R,headers:sn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:v})})}catch(w){throw p(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,t,v),{cause:w.cause||w}):ue.from(w,w&&w.code,t,v)}}),dg={http:jN,xhr:hP,fetch:wP};V.forEach(dg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Gw=t=>`- ${t}`,EP=t=>V.isFunction(t)||t===null||t===!1,Z1={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!EP(n)&&(r=dg[(s=String(n)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(Gw).join(`
`):" "+Gw(o[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:dg};function lp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ha(null,t)}function Xw(t){return lp(t),t.headers=sn.from(t.headers),t.data=ap.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Z1.getAdapter(t.adapter||uc.adapter)(t).then(function(r){return lp(t),r.data=ap.call(t,t.transformResponse,r),r.headers=sn.from(r.headers),r},function(r){return q1(r)||(lp(t),r&&r.response&&(r.response.data=ap.call(t,t.transformResponse,r.response),r.response.headers=sn.from(r.response.headers))),Promise.reject(r)})}const ex="1.7.3",ey={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ey[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Kw={};ey.transitional=function(e,n,r){function i(o,s){return"[Axios v"+ex+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new ue(i(s," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!Kw[s]&&(Kw[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function SP(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new ue("option "+o+" must be "+l,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+o,ue.ERR_BAD_OPTION)}}const fg={assertOptions:SP,validators:ey},Xr=fg.validators;class Eo{constructor(e){this.defaults=e,this.interceptors={request:new Uw,response:new Uw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=No(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&fg.assertOptions(r,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),i!=null&&(V.isFunction(i)?n.paramsSerializer={serialize:i}:fg.assertOptions(i,{encode:Xr.function,serialize:Xr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&V.merge(o.common,o[n.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=sn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,f;if(!l){const m=[Xw.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const m=a[d++],y=a[d++];try{h=m(h)}catch(v){y.call(this,v);break}}try{u=Xw.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=No(this.defaults,e);const n=G1(e.baseURL,e.url);return $1(n,e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){Eo.prototype[e]=function(n,r){return this.request(No(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(No(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Eo.prototype[e]=n(),Eo.prototype[e+"Form"]=n(!0)});class ty{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new ha(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ty(function(i){e=i}),cancel:e}}}function CP(t){return function(n){return t.apply(null,n)}}function _P(t){return V.isObject(t)&&t.isAxiosError===!0}const hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hg).forEach(([t,e])=>{hg[e]=t});function tx(t){const e=new Eo(t),n=I1(Eo.prototype.request,e);return V.extend(n,Eo.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return tx(No(t,i))},n}const $e=tx(uc);$e.Axios=Eo;$e.CanceledError=ha;$e.CancelToken=ty;$e.isCancel=q1;$e.VERSION=ex;$e.toFormData=jf;$e.AxiosError=ue;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=CP;$e.isAxiosError=_P;$e.mergeConfig=No;$e.AxiosHeaders=sn;$e.formToJSON=t=>Y1(V.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=Z1.getAdapter;$e.HttpStatusCode=hg;$e.default=$e;const Jw=localStorage.getItem("token"),So=$e.create({baseURL:"https://i11b306.p.ssafy.io/api",headers:{Authorization:Jw?`Bearer ${Jw}`:"","Content-Type":"application/json"}});var xP={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const Zw=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(xP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},DP=t=>t?Zw(t):Zw;var nx={exports:{}},rx={},ix={exports:{}},ox={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=L;function kP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RP=typeof Object.is=="function"?Object.is:kP,OP=Js.useState,TP=Js.useEffect,AP=Js.useLayoutEffect,IP=Js.useDebugValue;function NP(t,e){var n=e(),r=OP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return AP(function(){i.value=n,i.getSnapshot=e,cp(i)&&o({inst:i})},[t,n,e]),TP(function(){return cp(i)&&o({inst:i}),t(function(){cp(i)&&o({inst:i})})},[t]),IP(n),n}function cp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RP(t,n)}catch{return!0}}function PP(t,e){return e()}var MP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PP:NP;ox.useSyncExternalStore=Js.useSyncExternalStore!==void 0?Js.useSyncExternalStore:MP;ix.exports=ox;var LP=ix.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=L,jP=LP;function FP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BP=typeof Object.is=="function"?Object.is:FP,VP=jP.useSyncExternalStore,HP=Bf.useRef,UP=Bf.useEffect,WP=Bf.useMemo,$P=Bf.useDebugValue;rx.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=HP(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=WP(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var m=s.value;if(i(m,h))return d=m}return d=h}if(m=d,BP(u,h))return m;var y=r(h);return i!==void 0&&i(m,y)?m:(u=h,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=VP(t,o[0],o[1]);return UP(function(){s.hasValue=!0,s.value=a},[a]),$P(a),a};nx.exports=rx;var zP=nx.exports;const YP=gf(zP);var ny={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const{useDebugValue:qP}=W,{useSyncExternalStoreWithSelector:QP}=YP;let eE=!1;const GP=t=>t;function XP(t,e=GP,n){(ny?"production":void 0)!=="production"&&n&&!eE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),eE=!0);const r=QP(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return qP(r),r}const tE=t=>{(ny?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?DP(t):t,n=(r,i)=>XP(e,r,i);return Object.assign(n,e),n},ry=t=>t?tE(t):tE;var KP=t=>((ny?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),ry(t));class Ja extends Error{}Ja.prototype.name="InvalidTokenError";function JP(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function ZP(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return JP(e)}catch{return atob(e)}}function pg(t,e){if(typeof t!="string")throw new Ja("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new Ja(`Invalid token specified: missing part #${n+1}`);let i;try{i=ZP(r)}catch(o){throw new Ja(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Ja(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}const eM="https://i11b306.p.ssafy.io",Yi=ry((t,e)=>({token:localStorage.getItem("token"),decodedToken:localStorage.getItem("token")?pg(localStorage.getItem("token")):null,setToken:n=>{if(t({token:n}),n)try{const r=pg(n);t({decodedToken:r}),localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(r))}catch(r){console.error("Token decoding failed",r),t({decodedToken:null})}else localStorage.removeItem("token"),localStorage.removeItem("user"),t({decodedToken:null})},ukidsURL:eM,error:null,familyId:NaN,setfamilyId:(n,r)=>async()=>{try{const i=await So.post("/family",{name:n,password:r}),o=Number.parseInt(i.data.familyId);t({familyId:o}),await So.post("/webrtc",{familyId:o}),await e().setChatRoomId(o)}catch(i){t({error:i.message})}},chatRoomId:NaN,setChatRoomId:n=>async()=>{t({error:null});try{const r=await So.post("/chat/room",{familyId:n});t({chatRoomId:Number.parseInt(r.data.chatRoomId)})}catch(r){t({error:r.message})}}})),$r=t=>{const e=tt(),n=()=>{t.onClick?t.onClick():e(t.path)};return t.name=="로그인"||t.name=="회원가입"?g.jsx("button",{onClick:n,className:"common-btn blue-btn login-btn",children:t.name}):g.jsx("button",{onClick:n,className:"common-btn blue-btn",children:t.name})},tM=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),i=Yi(l=>l.setToken),o=tt(),s=async l=>{l.preventDefault();try{const c=await So.post("/user/login",{id:t,password:n}),{result:u}=c.data,d=u;if(d)i(d),So.defaults.headers.common.Authorization=`Bearer ${u}`,o("/main");else throw new Error("토큰이 응답에 포함되어 있지 않습니다.")}catch(c){console.error("로그인 실패:",c),alert("로그인에 실패했습니다. 아이디와 비밀번호를 확인하세요."+c)}},a=()=>{o("/join")};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"common-feature-box p-[50px]",children:[g.jsxs("form",{onSubmit:s,children:[g.jsx("div",{children:g.jsx("input",{type:"text",placeholder:"아이디",value:t,onChange:l=>e(l.target.value),required:!0,className:"login-id-box px-5 font-semibold text-[#555555]"})}),g.jsx("div",{children:g.jsx("input",{type:"password",placeholder:"비밀번호",value:n,onChange:l=>r(l.target.value),required:!0,className:"login-pw-box px-5 font-semibold text-[#555555]"})}),g.jsx("div",{className:"mt-10",children:g.jsx($r,{name:"로그인",type:"submit",path:""})})]}),g.jsx("div",{className:"flex items-center mt-4 justify-center",children:g.jsx("button",{className:"join-find-btn",onClick:a,children:"회원가입"})})]})})},nM=()=>g.jsx("div",{children:g.jsx("div",{className:"w-fit mt-0 mx-auto py-16",children:g.jsx(tM,{})})}),rM=()=>{const[t,e]=L.useState({id:"",password:"",confirmPassword:"",name:"",birthDate:"",email:"",phone:"",role:"ROLE_USER"}),n=tt(),r=async i=>{if(i.preventDefault(),t.password!=t.confirmPassword){alert("비밀번호가 일치하지 않습니다.");return}try{const o=await So.post("/user/signup",{id:t.id,password:t.password,name:t.name,birthDate:t.birthDate,email:t.email,phone:t.phone,role:"ROLE_USER"});o.data.code===201&&(alert(o.data.result),n("/login"))}catch(o){console.error("회원가입 실패:",o),alert("회원가입에 실패했습니다."+o)}};return g.jsx(g.Fragment,{children:g.jsx("div",{className:"common-feature-box w-[1000px] h-[620px] p-[40px]",children:g.jsxs("form",{onSubmit:r,className:"join-form",children:[g.jsx("input",{type:"text",id:"id",placeholder:"아이디",value:t.id,onChange:i=>e({...t,id:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx("input",{type:"password",id:"password",placeholder:"비밀번호 입력",value:t.password,onChange:i=>e({...t,password:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx("input",{type:"password",id:"confirm-password",placeholder:"비밀번호 확인",value:t.confirmPassword,onChange:i=>e({...t,confirmPassword:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx("input",{type:"text",id:"name",placeholder:"이름",value:t.name,onChange:i=>e({...t,name:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx("input",{type:"date",id:"birthDate",placeholder:"생년월일",value:t.birthDate,onChange:i=>e({...t,birthDate:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx("input",{type:"email",id:"email",placeholder:"[선택] 이메일 주소 (비밀번호 찾기 등 본인 확인용)",value:t.email,onChange:i=>e({...t,email:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx("input",{type:"number",id:"phone",placeholder:"[선택] 휴대전화번호",value:t.phone,onChange:i=>e({...t,phone:i.target.value}),className:"input-box px-5 font-semibold text-[#555555]"}),g.jsx($r,{name:"회원가입",type:"submit",path:""})]})})})},iM=()=>g.jsx("div",{children:g.jsx("div",{className:"w-fit mt-0 mx-auto",children:g.jsx(rM,{})})});var Vf,se,sx,ax,Zs,so,nE,lx,cx,Pd={},ux=[],oM=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function pi(t,e){for(var n in e)t[n]=e[n];return t}function dx(t){var e=t.parentNode;e&&e.removeChild(t)}function B(t,e,n){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Vf.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return Xu(t,s,r,i,null)}function Xu(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++sx};return i==null&&se.vnode!=null&&se.vnode(o),o}function Br(){return{current:null}}function it(t){return t.children}function sM(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||Md(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||Md(t,o,e[o],n[o],r)}function rE(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||oM.test(e)?n:n+"px"}function Md(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||rE(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||rE(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?oE:iE,o):t.removeEventListener(e,o?oE:iE,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function iE(t){Zs=!0;try{return this.l[t.type+!1](se.event?se.event(t):t)}finally{Zs=!1}}function oE(t){Zs=!0;try{return this.l[t.type+!0](se.event?se.event(t):t)}finally{Zs=!1}}function pn(t,e){this.props=t,this.context=e}function Vl(t,e){if(e==null)return t.__?Vl(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Vl(t):null}function fx(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return fx(t)}}function aM(t){Zs?setTimeout(t):lx(t)}function mg(t){(!t.__d&&(t.__d=!0)&&so.push(t)&&!Ld.__r++||nE!==se.debounceRendering)&&((nE=se.debounceRendering)||aM)(Ld)}function Ld(){var t,e,n,r,i,o,s,a;for(so.sort(function(l,c){return l.__v.__b-c.__v.__b});t=so.shift();)t.__d&&(e=so.length,r=void 0,i=void 0,s=(o=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=pi({},o)).__v=o.__v+1,iy(a,o,i,n.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??Vl(o),o.__h),vx(r,o),o.__e!=s&&fx(o)),so.length>e&&so.sort(function(l,c){return l.__v.__b-c.__v.__b}));Ld.__r=0}function hx(t,e,n,r,i,o,s,a,l,c){var u,d,f,h,m,y,v,p=r&&r.__k||ux,b=p.length;for(n.__k=[],u=0;u<e.length;u++)if((h=n.__k[u]=(h=e[u])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Xu(null,h,null,null,h):Array.isArray(h)?Xu(it,{children:h},null,null,null):h.__b>0?Xu(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=p[u])===null||f&&h.key==f.key&&h.type===f.type)p[u]=void 0;else for(d=0;d<b;d++){if((f=p[d])&&h.key==f.key&&h.type===f.type){p[d]=void 0;break}f=null}iy(t,h,f=f||Pd,i,o,s,a,l,c),m=h.__e,(d=h.ref)&&f.ref!=d&&(v||(v=[]),f.ref&&v.push(f.ref,null,h),v.push(d,h.__c||m,h)),m!=null?(y==null&&(y=m),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=px(h,l,t):l=mx(t,h,f,p,m,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=Vl(f))}for(n.__e=y,u=b;u--;)p[u]!=null&&(typeof n.type=="function"&&p[u].__e!=null&&p[u].__e==n.__d&&(n.__d=gx(r).nextSibling),bx(p[u],p[u]));if(v)for(u=0;u<v.length;u++)yx(v[u],v[++u],v[++u])}function px(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e=typeof r.type=="function"?px(r,e,n):mx(n,r,r,i,r.__e,e));return e}function jd(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){jd(n,e)}):e.push(t)),e}function mx(t,e,n,r,i,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function gx(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=gx(n)))return r}return null}function iy(t,e,n,r,i,o,s,a,l){var c,u,d,f,h,m,y,v,p,b,w,_,R,M,O,E=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,o=[a]),(c=se.__b)&&c(e);try{e:if(typeof E=="function"){if(v=e.props,p=(c=E.contextType)&&r[c.__c],b=c?p?p.props.value:c.__:r,n.__c?y=(u=e.__c=n.__c).__=u.__E:("prototype"in E&&E.prototype.render?e.__c=u=new E(v,b):(e.__c=u=new pn(v,b),u.constructor=E,u.render=cM),p&&p.sub(u),u.props=v,u.state||(u.state={}),u.context=b,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=pi({},u.__s)),pi(u.__s,E.getDerivedStateFromProps(v,u.__s))),f=u.props,h=u.state,u.__v=e,d)E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,b)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(N){N&&(N.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,b),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,h,m)})}if(u.context=b,u.props=v,u.__P=t,_=se.__r,R=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,_&&_(e),c=u.render(u.props,u.state,u.context),M=0;M<u._sb.length;M++)u.__h.push(u._sb[M]);u._sb=[]}else do u.__d=!1,_&&_(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++R<25);u.state=u.__s,u.getChildContext!=null&&(r=pi(pi({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(m=u.getSnapshotBeforeUpdate(f,h)),O=c!=null&&c.type===it&&c.key==null?c.props.children:c,hx(t,Array.isArray(O)?O:[O],e,n,r,i,o,s,a,l),u.base=e.__e,e.__h=null,u.__h.length&&s.push(u),y&&(u.__E=u.__=null),u.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=lM(n.__e,e,n,r,i,o,s,l);(c=se.diffed)&&c(e)}catch(N){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),se.__e(N,e,n)}}function vx(t,e){se.__c&&se.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){se.__e(r,n.__v)}})}function lM(t,e,n,r,i,o,s,a){var l,c,u,d=n.props,f=e.props,h=e.type,m=0;if(h==="svg"&&(i=!0),o!=null){for(;m<o.length;m++)if((l=o[m])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,o[m]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),o=null,a=!1}if(h===null)d===f||a&&t.data===f||(t.data=f);else{if(o=o&&Vf.call(t.childNodes),c=(d=n.props||Pd).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(o!=null)for(d={},m=0;m<t.attributes.length;m++)d[t.attributes[m].name]=t.attributes[m].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(sM(t,f,d,i,a),u)e.__k=[];else if(m=e.props.children,hx(t,Array.isArray(m)?m:[m],e,n,r,i&&h!=="foreignObject",o,s,o?o[0]:n.__k&&Vl(n,0),a),o!=null)for(m=o.length;m--;)o[m]!=null&&dx(o[m]);a||("value"in f&&(m=f.value)!==void 0&&(m!==t.value||h==="progress"&&!m||h==="option"&&m!==d.value)&&Md(t,"value",m,d.value,!1),"checked"in f&&(m=f.checked)!==void 0&&m!==t.checked&&Md(t,"checked",m,d.checked,!1))}return t}function yx(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){se.__e(r,n)}}function bx(t,e,n){var r,i;if(se.unmount&&se.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||yx(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){se.__e(o,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&bx(r[i],e,n||typeof t.type!="function");n||t.__e==null||dx(t.__e),t.__=t.__e=t.__d=void 0}function cM(t,e,n){return this.constructor(t,n)}function Hl(t,e,n){var r,i,o;se.__&&se.__(t,e),i=(r=typeof n=="function")?null:e.__k,o=[],iy(e,t=(!r&&n||e).__k=B(it,null,[t]),i||Pd,Pd,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Vf.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),vx(o,t)}function uM(t,e){var n={__c:e="__cC"+cx++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(a){a.__e=!0,mg(a)})},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Vf=ux.slice,se={__e:function(t,e,n,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},sx=0,ax=function(t){return t!=null&&t.constructor===void 0},Zs=!1,pn.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=pi({},this.state),typeof t=="function"&&(t=t(pi({},n),this.props)),t&&pi(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),mg(this))},pn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),mg(this))},pn.prototype.render=it,so=[],lx=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ld.__r=0,cx=0;var or,up,sE,wx=[],dp=[],aE=se.__b,lE=se.__r,cE=se.diffed,uE=se.__c,dE=se.unmount;function dM(){for(var t;t=wx.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ku),t.__H.__h.forEach(gg),t.__H.__h=[]}catch(e){t.__H.__h=[],se.__e(e,t.__v)}}se.__b=function(t){or=null,aE&&aE(t)},se.__r=function(t){lE&&lE(t);var e=(or=t.__c).__H;e&&(up===or?(e.__h=[],or.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=dp,n.__N=n.i=void 0})):(e.__h.forEach(Ku),e.__h.forEach(gg),e.__h=[])),up=or},se.diffed=function(t){cE&&cE(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(wx.push(e)!==1&&sE===se.requestAnimationFrame||((sE=se.requestAnimationFrame)||fM)(dM)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==dp&&(n.__=n.__V),n.i=void 0,n.__V=dp})),up=or=null},se.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Ku),n.__h=n.__h.filter(function(r){return!r.__||gg(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],se.__e(r,n.__v)}}),uE&&uE(t,e)},se.unmount=function(t){dE&&dE(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ku(r)}catch(i){e=i}}),n.__H=void 0,e&&se.__e(e,n.__v))};var fE=typeof requestAnimationFrame=="function";function fM(t){var e,n=function(){clearTimeout(r),fE&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);fE&&(e=requestAnimationFrame(n))}function Ku(t){var e=or,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),or=e}function gg(t){var e=or;t.__c=t.__(),or=e}function hM(t,e){for(var n in e)t[n]=e[n];return t}function hE(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function pE(t){this.props=t}(pE.prototype=new pn).isPureReactComponent=!0,pE.prototype.shouldComponentUpdate=function(t,e){return hE(this.props,t)||hE(this.state,e)};var mE=se.__b;se.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),mE&&mE(t)};var pM=se.__e;se.__e=function(t,e,n,r){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}pM(t,e,n,r)};var gE=se.unmount;function Ex(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=hM({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Ex(r,e,n)})),t}function Sx(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Sx(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function fp(){this.__u=0,this.t=null,this.__b=null}function Cx(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function lu(){this.u=null,this.o=null}se.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),gE&&gE(t)},(fp.prototype=new pn).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Cx(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=Sx(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},fp.prototype.componentWillUnmount=function(){this.t=[]},fp.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Ex(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&B(it,null,t.fallback);return i&&(i.__h=null),[B(it,null,e.__a?null:t.children),i]};var vE=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function mM(t){return this.getChildContext=function(){return t.context},t.children}function gM(t){var e=this,n=t.i;e.componentWillUnmount=function(){Hl(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Hl(B(mM,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function vM(t,e){var n=B(gM,{__v:t,i:e});return n.containerInfo=e,n}(lu.prototype=new pn).__a=function(t){var e=this,n=Cx(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),vE(e,t,r)):i()};n?n(o):o()}},lu.prototype.render=function(t){this.u=null,this.o=new Map;var e=jd(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},lu.prototype.componentDidUpdate=lu.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){vE(t,n,e)})};var yM=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,bM=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,wM=typeof document<"u",EM=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};pn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(pn.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var yE=se.event;function SM(){}function CM(){return this.cancelBubble}function _M(){return this.defaultPrevented}se.event=function(t){return yE&&(t=yE(t)),t.persist=SM,t.isPropagationStopped=CM,t.isDefaultPrevented=_M,t.nativeEvent=t};var bE={configurable:!0,get:function(){return this.class}},wE=se.vnode;se.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var o in r={},n){var s=n[o];wM&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in n&&s==null||(o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!EM(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&bM.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=jd(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=jd(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(bE.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",bE))}t.$$typeof=yM,wE&&wE(t)};var EE=se.__r;se.__r=function(t){EE&&EE(t),t.__c};const _x=[],vg=new Map;function xx(t){_x.push(t),vg.forEach(e=>{kx(e,t)})}function xM(t){t.isConnected&&t.getRootNode&&Dx(t.getRootNode())}function Dx(t){let e=vg.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=kM();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}vg.set(t,e),DM(e)}}function DM(t){for(const e of _x)kx(t,e)}function kx(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,o)=>{i=i.trim(),i&&n.insertRule(i+"}",r+o)})}let hp;function kM(){return hp===void 0&&(hp=RM()),hp}function RM(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Dx(document);var OM=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';xx(OM);class oy{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function sy(t){t.parentNode&&t.parentNode.removeChild(t)}function Mt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(TM(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function TM(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function AM(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let o=n[i].querySelectorAll(e);for(let s=0;s<o.length;s+=1)r.push(o[s])}return r}const IM=/(top|left|right|bottom|width|height)$/i;function fl(t,e){for(let n in e)Rx(t,n,e[n])}function Rx(t,e,n){n==null?t.style[e]="":typeof n=="number"&&IM.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Ox(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let SE=0;function Hf(){return SE+=1,"fc-dom-"+SE}function Uf(t){t.preventDefault()}function NM(t,e){return n=>{let r=Mt(n.target,t);r&&e.call(r,n,r)}}function Tx(t,e,n,r){let i=NM(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function PM(t,e,n,r){let i;return Tx(t,"mouseover",e,(o,s)=>{if(s!==i){i=s,n(o,s);let a=l=>{i=null,r(l,s),s.removeEventListener("mouseleave",a)};s.addEventListener("mouseleave",a)}})}const CE=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function MM(t,e){let n=r=>{e(r),CE.forEach(i=>{t.removeEventListener(i,n)})};CE.forEach(r=>{t.addEventListener(r,n)})}function Ax(t){return Object.assign({onClick:t},Ix(t))}function Ix(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let _E=0;function Uo(){return _E+=1,String(_E)}function ay(){document.body.classList.add("fc-not-allowed")}function ly(){document.body.classList.remove("fc-not-allowed")}function LM(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Uf)}function jM(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Uf)}function FM(t){t.addEventListener("contextmenu",Uf)}function BM(t){t.removeEventListener("contextmenu",Uf)}function VM(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function HM(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=UM(t,e,n[r]),i)return i;return 0}function UM(t,e,n){return n.func?n.func(t,e):WM(t[n.field],e[n.field])*(n.order||1)}function WM(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function pp(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function hl(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,o)=>r.replace("$"+o,i||""),t):n}function $M(t,e){return t-e}function mp(t){return t%1===0}function zM(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const YM=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function De(t,e){return typeof t=="string"?qM(t):typeof t=="object"&&t?xE(t):typeof t=="number"?xE({[e||"milliseconds"]:t}):null}function qM(t){let e=YM.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function xE(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function QM(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function GM(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function XM(t){return As(t)/365}function KM(t){return As(t)/30}function As(t){return Ul(t)/864e5}function Ul(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function yg(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Li(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const JM=["sun","mon","tue","wed","thu","fri","sat"];function DE(t,e){let n=mi(t);return n[2]+=e*7,tn(n)}function Lt(t,e){let n=mi(t);return n[2]+=e,tn(n)}function ji(t,e){let n=mi(t);return n[6]+=e,tn(n)}function ZM(t,e){return pa(t,e)/7}function pa(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function eL(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function tL(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function nL(t,e){return(e.valueOf()-t.valueOf())/1e3}function rL(t,e){let n=Ue(t),r=Ue(e);return{years:0,months:0,days:Math.round(pa(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function iL(t,e){let n=Fd(t,e);return n!==null&&n%7===0?n/7:null}function Fd(t,e){return gi(t)===gi(e)?Math.round(pa(t,e)):null}function Ue(t){return tn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function oL(t){return tn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function sL(t){return tn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function aL(t){return tn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function lL(t,e,n){let r=t.getUTCFullYear(),i=gp(t,r,e,n);if(i<1)return gp(t,r-1,e,n);let o=gp(t,r+1,e,n);return o>=1?Math.min(i,o):i}function gp(t,e,n,r){let i=tn([e,0,1+cL(e,n,r)]),o=Ue(t),s=Math.round(pa(i,o));return Math.floor(s/7)+1}function cL(t,e,n){let r=7+e-n;return-((7+tn([t,0,r]).getUTCDay()-e)%7)+r-1}function kE(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function RE(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function mi(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function tn(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Nx(t){return!isNaN(t.valueOf())}function gi(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function uL(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",uy(e,!0)))),r}function cy(t){return t.toISOString().replace(/T.*$/,"")}function dL(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function uy(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=Math.round(r%60);return e?`${n+pp(i,2)}:${pp(o,2)}`:`GMT${n}${i}${o?`:${pp(o,2)}`:""}`}function ke(t,e,n){let r,i;return function(...o){if(!r)i=t.apply(this,o);else if(!Li(r,o)){let s=t.apply(this,o);(!e||!e(s,i))&&(i=s)}return r=o,i}}function Ju(t,e,n){let r,i;return o=>(r?yr(r,o)||(i=t.call(this,o)):i=t.call(this,o),r=o,i)}const OE={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Bd={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},cu=/\s*([ap])\.?m\.?/i,fL=/,/g,hL=/\s+/g,pL=/\u200e/g,mL=/UTC|GMT/;class gL{constructor(e){let n={},r={},i=0;for(let o in e)o in OE?(r[o]=e[o],i=Math.max(OE[o],i)):(n[o]=e[o],o in Bd&&(i=Math.max(Bd[o],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=ke(TE)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:o,extendedSettings:s}=this,a=SL(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let d=CL(o,l),f=TE(d,s,r),h=f(e),m=f(n),y=_L(c,h,u,m),v=s.separator||i||r.defaultSeparator||"";return y?y.before+h+v+m+y.after:c+v+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function TE(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>uy(i.timeZoneOffset):r===0&&e.week?i=>EL(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):vL(t,e,n)}function vL(t,e,n){t=Object.assign({},t),e=Object.assign({},e),yL(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let o=Object.assign({},t);delete o.minute,i=new Intl.DateTimeFormat(n.locale.codes,o)}return o=>{let{marker:s}=o,a;i&&!s.getUTCMinutes()?a=i:a=r;let l=a.format(s);return bL(l,o,t,e,n)}}function yL(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function bL(t,e,n,r,i){return t=t.replace(pL,""),n.timeZoneName==="short"&&(t=wL(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":uy(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(fL,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(cu,"").trim():r.meridiem==="narrow"?t=t.replace(cu,(o,s)=>s.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(cu,(o,s)=>`${s.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(cu,o=>o.toLocaleLowerCase())),t=t.replace(hL," "),t=t.trim(),t}function wL(t,e){let n=!1;return t=t.replace(mL,()=>(n=!0,e)),n||(t+=` ${e}`),t}function EL(t,e,n,r,i){let o=[];return i==="long"?o.push(n):(i==="short"||i==="narrow")&&o.push(e),(i==="long"||i==="short")&&o.push(" "),o.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&o.reverse(),o.join("")}function SL(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:gi(t)!==gi(e)?1:0}function CL(t,e){let n={};for(let r in t)(!(r in Bd)||Bd[r]<=e)&&(n[r]=t[r]);return n}function _L(t,e,n,r){let i=0;for(;i<t.length;){let o=t.indexOf(e,i);if(o===-1)break;let s=t.substr(0,o);i=o+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let d=n.substr(l);if(s===u&&a===d)return{before:s,after:a}}}return null}function AE(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Vd(t,e,n,r){let i=AE(t,n.calendarSystem),o=e?AE(e,n.calendarSystem):null;return{date:i,start:i,end:o,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class xL{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Vd(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Vd(e,n,r,i))}}class DL{constructor(e){this.func=e}format(e,n,r){return this.func(Vd(e,null,n,r))}formatRange(e,n,r,i){return this.func(Vd(e,n,r,i))}}function mt(t){return typeof t=="object"&&t?new gL(t):typeof t=="string"?new xL(t):typeof t=="function"?new DL(t):null}const IE={navLinkDayClick:F,navLinkWeekClick:F,duration:De,bootstrapFontAwesome:F,buttonIcons:F,customButtons:F,defaultAllDayEventDuration:De,defaultTimedEventDuration:De,nextDayThreshold:De,scrollTime:De,scrollTimeReset:Boolean,slotMinTime:De,slotMaxTime:De,dayPopoverFormat:mt,slotDuration:De,snapDuration:De,headerToolbar:F,footerToolbar:F,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:mt,dayHeaderClassNames:F,dayHeaderContent:F,dayHeaderDidMount:F,dayHeaderWillUnmount:F,dayCellClassNames:F,dayCellContent:F,dayCellDidMount:F,dayCellWillUnmount:F,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:F,weekNumbers:Boolean,weekNumberClassNames:F,weekNumberContent:F,weekNumberDidMount:F,weekNumberWillUnmount:F,editable:Boolean,viewClassNames:F,viewDidMount:F,viewWillUnmount:F,nowIndicator:Boolean,nowIndicatorClassNames:F,nowIndicatorContent:F,nowIndicatorDidMount:F,nowIndicatorWillUnmount:F,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:F,locale:F,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:F,eventOrder:VM,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:F,contentHeight:F,direction:String,weekNumberFormat:mt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:F,initialDate:F,now:F,eventDataTransform:F,stickyHeaderDates:F,stickyFooterScrollbar:F,viewHeight:F,defaultAllDay:Boolean,eventSourceFailure:F,eventSourceSuccess:F,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:F,eventConstraint:F,eventAllow:F,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:F,eventContent:F,eventDidMount:F,eventWillUnmount:F,selectConstraint:F,selectOverlap:F,selectAllow:F,droppable:Boolean,unselectCancel:String,slotLabelFormat:F,slotLaneClassNames:F,slotLaneContent:F,slotLaneDidMount:F,slotLaneWillUnmount:F,slotLabelClassNames:F,slotLabelContent:F,slotLabelDidMount:F,slotLabelWillUnmount:F,dayMaxEvents:F,dayMaxEventRows:F,dayMinWidth:Number,slotLabelInterval:De,allDayText:String,allDayClassNames:F,allDayContent:F,allDayDidMount:F,allDayWillUnmount:F,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:mt,rerenderDelay:Number,moreLinkText:F,moreLinkHint:F,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:F,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:De,hiddenDays:F,fixedWeekCount:Boolean,validRange:F,visibleRange:F,titleFormat:F,eventInteractive:Boolean,noEventsText:String,viewHint:F,navLinkHint:F,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:F,moreLinkClassNames:F,moreLinkContent:F,moreLinkDidMount:F,moreLinkWillUnmount:F,monthStartFormat:mt,handleCustomRendering:F,customRenderingMetaMap:F,customRenderingReplaces:Boolean},pl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},NE={datesSet:F,eventsSet:F,eventAdd:F,eventChange:F,eventRemove:F,windowResize:F,eventClick:F,eventMouseEnter:F,eventMouseLeave:F,select:F,unselect:F,loading:F,_unmount:F,_beforeprint:F,_afterprint:F,_noEventDrop:F,_noEventResize:F,_resize:F,_scrollRequest:F},PE={buttonText:F,buttonHints:F,views:F,plugins:F,initialEvents:F,events:F,eventSources:F},ro={headerToolbar:io,footerToolbar:io,buttonText:io,buttonHints:io,buttonIcons:io,dateIncrement:io,plugins:uu,events:uu,eventSources:uu,resources:uu};function io(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?yr(t,e):t===e}function uu(t,e){return Array.isArray(t)&&Array.isArray(e)?Li(t,e):t===e}const kL={type:String,component:F,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:F,usesMinMaxTime:Boolean,classNames:F,content:F,didMount:F,willUnmount:F};function vp(t){return fy(t,ro)}function dy(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function F(t){return t}const{hasOwnProperty:Hd}=Object.prototype;function fy(t,e){let n={};if(e){for(let r in e)if(e[r]===io){let i=[];for(let o=t.length-1;o>=0;o-=1){let s=t[o][r];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){n[r]=s;break}}i.length&&(n[r]=fy(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let o in i)o in n||(n[o]=i[o])}return n}function Po(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Wo(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Px(t){let e={};for(let n of t)e[n]=!0;return e}function hy(t){let e=[];for(let n in t)e.push(t[n]);return e}function yr(t,e){if(t===e)return!0;for(let n in t)if(Hd.call(t,n)&&!(n in e))return!1;for(let n in e)if(Hd.call(e,n)&&t[n]!==e[n])return!1;return!0}const RL=/^on[A-Z]/;function OL(t,e){const n=bg(t,e);for(let r of n)if(!RL.test(r))return!1;return!0}function bg(t,e){let n=[];for(let r in t)Hd.call(t,r)&&(r in e||n.push(r));for(let r in e)Hd.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function yp(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&TL(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function TL(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function AL(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let o=e;o<n;o+=r){let s=t[o];s!==void 0&&i.push(s)}return i}let Mx={};function IL(t,e){Mx[t]=e}function NL(t){return new Mx[t]}class PL{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return tn(e)}markerToArray(e){return mi(e)}}IL("gregory",PL);const ML=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function LL(t){let e=ML.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Nx(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class jL{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=NL(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):tn(kE(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=tn(e)),n===null||!Nx(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=LL(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return gi(e)===gi(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return gi(e)===gi(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=iL(e,n),r!==null?{unit:"week",value:r}:(r=Fd(e,n),r!==null?{unit:"day",value:r}:(r=eL(e,n),mp(r)?{unit:"hour",value:r}:(r=tL(e,n),mp(r)?{unit:"minute",value:r}:(r=nL(e,n),mp(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/XM(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/KM(r):r.days&&(i=Fd(e,n),i!==null)?i/As(r):(n.valueOf()-e.valueOf())/Ul(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ue(e):n==="hour"?oL(e):n==="minute"?sL(e):n==="second"?aL(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):lL(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=ji(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),uL(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?tn(kE(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):tn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-RE(mi(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(mi(e)):null}toDate(e,n){return this.timeZone==="local"?RE(mi(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(mi(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class dc{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}dc.prototype.classes={};dc.prototype.iconClasses={};dc.prototype.baseIconClass="";dc.prototype.iconOverridePrefix="";function Ud(t){t();let e=se.debounceRendering,n=[];function r(i){n.push(i)}for(se.debounceRendering=r,Hl(B(FL,{}),document.createElement("div"));n.length;)n.shift()();se.debounceRendering=e}class FL extends pn{render(){return B("div",{})}componentDidMount(){this.setState({})}}function Lx(t){let e=uM(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(a=>{a.context=s.value,a.forceUpdate()})},this.sub=s=>{o.push(s);let a=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),a&&a.call(s)}}}return i},e}class BL{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const $o=Lx({});function VL(t,e,n,r,i,o,s,a,l,c,u,d,f){return{dateEnv:i,options:n,pluginHooks:s,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(h){c.on("_resize",h)},removeResizeHandler(h){c.off("_resize",h)},createScrollResponder(h){return new BL(h,c,De(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:f}}class zo extends pn{shouldComponentUpdate(e,n){return this.debug&&console.log(bg(e,this.props),bg(n,this.state)),!yp(this.props,e,this.propEquality)||!yp(this.state,n,this.stateEquality)}safeSetState(e){yp(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}zo.addPropsEquality=HL;zo.addStateEquality=UL;zo.contextType=$o;zo.prototype.propEquality={};zo.prototype.stateEquality={};class Ge extends zo{}Ge.contextType=$o;function HL(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function UL(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Vr(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class py extends Ge{constructor(){super(...arguments),this.id=Uo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!wg(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Vr(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:o,renderProps:s}=e,a=jx(e,[],this.handleEl);let l=!1,c,u=[],d;if(i!=null){const f=typeof i=="function"?i(s,B):i;if(f===!0)l=!0;else{const h=f&&typeof f=="object";h&&"html"in f?a.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?u=Array.prototype.slice.call(f.domNodes):(h?ax(f):typeof f!="function")?c=f:d=f}}else l=!wg(e.generatorName,r);return l&&o&&(c=o(s)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,B(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=i.options;if(o){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:s==null?void 0:s[r.generatorName];a&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(WL)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Li(e,n)){n.forEach(sy);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}py.addPropsEquality({elClasses:Li,elStyle:yr,elAttrs:OL,renderProps:yr});function wg(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function jx(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function WL(t){return!!t}const Fx=Lx(0);class zr extends pn{constructor(){super(...arguments),this.InnerContent=$L.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Vr(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=zL(e.classNameGenerator,e.renderProps);if(e.children){const r=jx(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?B(e.elTag,r,i):i}else return B(py,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}zr.contextType=Fx;function $L(t,e){const n=t.props;return B(py,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function zL(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class ME extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return B(zr,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Bx(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function Bx(t){return[`fc-${t.type}-view`,"fc-view"]}function YL(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function LE(t,e){let n=[],{start:r}=e,i,o;for(t.sort(qL),i=0;i<t.length;i+=1)o=t[i],o.start>r&&n.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&n.push({start:r,end:e.end}),n}function qL(t,e){return t.start.valueOf()-e.start.valueOf()}function ea(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function QL(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function my(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Wf(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Oi(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function GL(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Vx(t){let e=Math.floor(pa(t.start,t.end))||1,n=Ue(t.start),r=Lt(n,e);return{start:n,end:r}}function Hx(t,e=De(0)){let n=null,r=null;if(t.end){r=Ue(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Ul(e)&&(r=Lt(r,1))}return t.start&&(n=Ue(t.start),r&&r<=n&&(r=Lt(n,1))),{start:n,end:r}}function Cs(t,e,n,r){return r==="year"?De(n.diffWholeYears(t,e),"year"):r==="month"?De(n.diffWholeMonths(t,e),"month"):rL(t,e)}function XL(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function KL(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):fc(t.now,e)}function fc(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class Ux{constructor(e){this.props=e,this.nowDate=fc(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,o=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,o=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)}build(e,n,r=!0){let{props:i}=this,o,s,a,l,c,u;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=GL(e,o)),s=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=ea(c,s.range)),c=this.adjustActiveRange(c),c=ea(c,o),u=my(s.range,o),Oi(l,e)||(e=l.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,o=null,s=null,a;return r.duration?(i=r.duration,o=r.durationUnit,s=this.buildRangeFromDuration(e,n,i,o)):(a=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,n,a)):(s=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),o=yg(i).unit,s=this.buildRangeFromDuration(e,n,i,o)),{duration:i,unit:o,range:s}}getFallbackDuration(){return De({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:o}=this.props,{start:s,end:a}=e;return r&&(As(i)<0&&(s=Ue(s),s=n.add(s,i)),As(o)>1&&(a=Ue(a),a=Lt(a,-1),a=n.add(a,o))),{start:s,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:o,dateAlignment:s}=this.props,a,l,c;if(!s){let{dateIncrement:d}=this.props;d&&Ul(d)<Ul(r)?s=yg(d).unit:s=i}As(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Ue(a));function u(){a=o.startOf(e,s),l=o.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:o}=this.props,s=0,a=e,l;o&&(a=i.startOf(a,o)),a=Ue(a),a=this.skipHiddenDays(a,n),l=a;do l=Lt(l,1),this.isHiddenDay(l)||(s+=1);while(s<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,o=this.refineRange(i);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?De(1,r):e||De({days:1}))}refineRange(e){if(e){let n=YL(e,this.props.dateEnv);return n&&(n=Hx(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Lt(e,n);return e}}function gy(t,e,n,r){return{instanceId:Uo(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function JL(t,e,n,r){for(let i=0;i<r.length;i+=1){let o=r[i].parse(t,n);if(o){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}function Mo(t,e,n){let{dateEnv:r,pluginHooks:i,options:o}=n,{defs:s,instances:a}=t;a=Po(a,l=>!s[l.defId].recurringDef);for(let l in s){let c=s[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let d=ZL(c,u,e,r,i.recurringTypes);for(let f of d){let h=gy(l,{start:f,end:r.add(f,u)});a[h.instanceId]=h}}}return{defs:s,instances:a}}function ZL(t,e,n,r,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(s=s.map(Ue)),s}const Zu={id:String,groupId:String,title:String,url:String,interactive:Boolean},Wx={start:F,end:F,date:F,allDay:Boolean},e2=Object.assign(Object.assign(Object.assign({},Zu),Wx),{extendedProps:F});function $x(t,e,n,r,i=vy(n),o,s){let{refined:a,extra:l}=zx(t,n,i),c=n2(e,n),u=JL(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let f=Eg(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,o);return f.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:f,instance:null}}let d=t2(a,c,n,r);if(d){let f=Eg(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,o),h=gy(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&f.publicId&&s[f.publicId]&&(h.instanceId=s[f.publicId]),{def:f,instance:h}}return null}function zx(t,e,n=vy(e)){return dy(t,n)}function vy(t){return Object.assign(Object.assign(Object.assign({},Wd),e2),t.pluginHooks.eventRefiners)}function Eg(t,e,n,r,i,o,s){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||Uo(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:$d(t,o),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function t2(t,e,n,r){let{allDay:i}=t,o,s=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(o=n.dateEnv.createMarkerMeta(u),o)s=o.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!o||o.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=Ue(s)),l&&(c=l.marker,i&&(c=Ue(c)),s&&c<=s&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(s,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:s,end:c},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function n2(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Wl(t,e,n,r,i,o){let s=Wn(),a=vy(n);for(let l of t){let c=$x(l,e,n,r,a,i,o);c&&Sg(c,s)}return s}function Sg(t,e=Wn()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function yy(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=$f(t,o=>r2(r,o));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Wn()}function r2(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Wn(){return{defs:{},instances:{}}}function by(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function $f(t,e){let n=Po(t.defs,e),r=Po(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function i2(t,e){let{defs:n,instances:r}=t,i={},o={};for(let s in n)e.defs[s]||(i[s]=n[s]);for(let s in r)!e.instances[s]&&i[r[s].defId]&&(o[s]=r[s]);return{defs:i,instances:o}}function o2(t,e){return Array.isArray(t)?Wl(t,null,e,!0):typeof t=="object"&&t?Wl([t],null,e,!0):t!=null?String(t):null}function jE(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Wd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:F,overlap:F,allow:F,className:jE,classNames:jE,color:String,backgroundColor:String,borderColor:String,textColor:String},s2={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function $d(t,e){let n=o2(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function a2(t){return t.reduce(l2,s2)}function l2(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const c2={id:String,defaultAllDay:Boolean,url:String,format:String,events:F,eventDataTransform:F,success:F,failure:F};function Yx(t,e,n=qx(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:o}=dy(r,n),s=u2(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Uo(),sourceDefId:s.sourceDefId,meta:s.meta,ui:$d(i,e),extendedProps:o}}return null}function qx(t){return Object.assign(Object.assign(Object.assign({},Wd),c2),t.pluginHooks.eventSourceRefiners)}function u2(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let o=n[r].parseMeta(t);if(o)return{sourceDefId:r,meta:o}}return null}function d2(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return f2(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return h2(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return p2(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return by(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Mo(t,r.activeRange,i):t;case"REMOVE_EVENTS":return i2(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Gx(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return $f(t,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return Wn();default:return t}}function f2(t,e,n,r,i,o){if(e&&n===e.latestFetchId){let s=Wl(Qx(i,e,o),e,o);return r&&(s=Mo(s,r,o)),by(Gx(t,e.sourceId),s)}return t}function h2(t,e,n,r,i){const{defIdMap:o,instanceIdMap:s}=g2(t);let a=Wl(Qx(n,e,i),e,i,!1,o,s);return Mo(a,r,i)}function Qx(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=FE(t,i)),r&&(t=FE(t,r)),t}function FE(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function p2(t,e,n,r){return n&&(e=Mo(e,n,r)),by(t,e)}function BE(t,e,n){let{defs:r}=t,i=Wo(t.instances,o=>r[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:n.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:n.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:o.forcedEndTzo}));return{defs:r,instances:i}}function Gx(t,e){return $f(t,n=>n.sourceId!==e)}function m2(t,e){return{defs:t.defs,instances:Po(t.instances,n=>!e[n.instanceId])}}function g2(t){const{defs:e,instances:n}=t,r={},i={};for(let o in e){const s=e[o],{publicId:a}=s;a&&(r[a]=o)}for(let o in n){const s=n[o],a=e[s.defId],{publicId:l}=a;l&&(i[l]=o)}return{defIdMap:r,instanceIdMap:i}}class zf{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){v2(this.handlers,e,n)}off(e,n){y2(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],o=[].concat(i||[],r);for(let s of o)s.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function v2(t,e,n){(t[e]||(t[e]=[])).push(n)}function y2(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const b2={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function w2(t,e){return Wl(E2(t),null,e)}function E2(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},b2),n)),e}function Xx(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},wy(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function S2(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function wy(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,j2(t,e.dateEnv)),n}function VE(t,e,n){let{dateEnv:r,options:i}=n,o=e;return t?(o=Ue(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function Ey(t,e,n,r){let i=zd(t.defs,e),o=Wn();for(let s in t.defs){let a=t.defs[s];o.defs[s]=C2(a,i[s],n,r)}for(let s in t.instances){let a=t.instances[s],l=o.defs[a.defId];o.instances[s]=_2(a,l,i[a.defId],n,r)}return o}function C2(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(o,n,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function _2(t,e,n,r,i){let{dateEnv:o}=i,s=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=Vx(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:o.add(l.range.start,r.datesDelta),end:o.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:o.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:VE(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Ue(l.range.start),end:Ue(l.range.end)}),l.range.end<l.range.start&&(l.range.end=VE(e.allDay,l.range.start,i)),l}class cs{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class We{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in Wx)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Zu[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Zu)n=Zu[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Wd){let r=Wd[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let o=this._instance.range,s=Cs(o.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let o=Cs(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,o={allDay:r.allDay},s=i.createMarker(e),a;if(s&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=Vx(l));let c=Cs(l.start,s,i,r.granularity);if(a){let u=Cs(l.end,a,i,r.granularity);QM(c,u)?this.mutate({datesDelta:c,standardProps:o}):this.mutate({startDelta:c,endDelta:u,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:c,standardProps:o})}}moveStart(e){let n=De(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=De(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=De(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=mt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:o}=i.getCurrentData(),s=yy(o,n.instanceId);s=Ey(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new We(i,r,n);this._def=s.defs[r.defId],this._instance=s.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Co(s,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,n=Kx(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new cs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:o}=this,s={allDay:n.allDay};return n.title&&(s.title=n.title),i&&(s.start=i),o&&(s.end=o),n.publicId&&(s.id=n.publicId),n.groupId&&(s.groupId=n.groupId),n.url&&(s.url=n.url),r.display&&r.display!=="auto"&&(s.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.color=r.backgroundColor:(r.backgroundColor&&(s.backgroundColor=r.backgroundColor),r.borderColor&&(s.borderColor=r.borderColor)),r.textColor&&(s.textColor=r.textColor),r.classNames.length&&(s.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,n.extendedProps):s.extendedProps=n.extendedProps),s}toJSON(){return this.toPlainObject()}}function Kx(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Co(t,e,n){let{defs:r,instances:i}=t,o=[],s=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==s&&o.push(new We(e,c,l))}return o}function HE(t,e,n,r){let i={},o={},s={},a=[],l=[],c=zd(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],s[d.groupId]||(s[d.groupId]=d)):o[u]=[])}for(let u in t.instances){let d=t.instances[u],f=t.defs[d.defId],h=c[f.defId],m=d.range,y=!f.allDay&&r?Hx(m,r):m,v=ea(y,n);v&&(h.display==="inverse-background"?f.groupId?i[f.groupId].push(v):o[d.defId].push(v):h.display!=="none"&&(h.display==="background"?a:l).push({def:f,ui:h,instance:d,range:v,isStart:y.start&&y.start.valueOf()===v.start.valueOf(),isEnd:y.end&&y.end.valueOf()===v.end.valueOf()}))}for(let u in i){let d=i[u],f=LE(d,n);for(let h of f){let m=s[u],y=c[m.defId];a.push({def:m,ui:y,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let u in o){let d=o[u],f=LE(d,n);for(let h of f)a.push({def:t.defs[u],ui:c[u],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function UE(t,e){t.fcSeg=e}function ta(t){return t.fcSeg||t.parentNode.fcSeg||null}function zd(t,e){return Wo(t,n=>Jx(n,e))}function Jx(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),a2(n)}function x2(t,e){let n=t.map(D2);return n.sort((r,i)=>HM(r,i,e)),n.map(r=>r._seg)}function D2(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:o,duration:o-i,allDay:Number(n.allDay),_seg:t})}function k2(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:o}=t.eventRange,s=o.startEditable;for(let a of r)s=a(s,i,o,e);return s}function R2(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function O2(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Zx(t,e,n,r,i,o,s){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,f=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let h=f.range.start,m=f.range.end,y=t.start||t.eventRange.range.start,v=t.end||t.eventRange.range.end,p=Ue(h).valueOf()===Ue(y).valueOf(),b=Ue(ji(m,-1)).valueOf()===Ue(ji(v,-1)).valueOf();return c&&!d.allDay&&(p||b)?(y=p?h:y,v=b?m:v,u&&d.hasEnd?a.formatRange(y,v,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):a.format(y,e,{forcedTzo:f.forcedStartTzo})):""}function ml(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Oi(e,r.start)}}function T2(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function A2(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function eD(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:o,options:s}=e,{eventInteractive:a}=s;return a==null&&(a=n.interactive,a==null&&(a=!!o.hasHandlers("eventClick"))),a?Ix(l=>{o.trigger("eventClick",{el:l.target,event:new We(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const I2={start:F,end:F,allDay:Boolean};function N2(t,e,n){let r=P2(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function P2(t,e){let{refined:n,extra:r}=dy(t,I2),i=n.start?e.createMarkerMeta(n.start):null,o=n.end?e.createMarkerMeta(n.end):null,{allDay:s}=n;return s==null&&(s=i&&i.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:o?o.marker:null},allDay:s},r)}function M2(t,e){return QL(t.range,e.range)&&t.allDay===e.allDay&&L2(t,e)}function L2(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function j2(t,e){return Object.assign(Object.assign({},nD(t.range,e,t.allDay)),{allDay:t.allDay})}function tD(t,e,n){return Object.assign(Object.assign({},nD(t,e,n)),{timeZone:e.timeZone})}function nD(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function F2(t,e,n){let r=zx({editable:!1},n),i=Eg(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Jx(i,e),instance:gy(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function B2(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},o=function(a){r||(r=!0,n(a))},s=t(i,o);s&&typeof s.then=="function"&&s.then(i,o)}class WE extends Error{constructor(e,n){super(e),this.response=n}}function V2(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(o=>[o,i],()=>{throw new WE("Failure parsing JSON",i)});throw new WE("Request failed",i)})}let bp;function rD(){return bp==null&&(bp=H2()),bp}function H2(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class U2 extends Ge{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Ud(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Ud(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",o=!i&&n.height!=null?n.height:"",s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return rD()||s.push("fc-liquid-hack"),e.children(s,o,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class ma{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function W2(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Sy(t){return{[t.component.uid]:t}}const Cg={};class $2{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,s;for(let a in n)i.push(a);for(o=0;o<i.length;o+=1)if(s=n[i[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:fc(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=De(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),mt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),mt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),o=N2(r,i.dateEnv,De({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),Xx(o,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),S2(e,n))}addEvent(e,n){if(e instanceof We){let s=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Sg({def:s,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof cs)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=hy(r.eventSources));else if(n!=null){let s=this.getEventSourceById(n);if(!s)return console.warn(`Could not find an event source with ID "${n}"`),null;i=s.internalEventSource}let o=$x(e,i,r,!1);if(o){let s=new We(r,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Sg(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Kx(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let o in r){let s=r[o];if(s.publicId===e){if(s.recurringDef)return new We(n,s,null);for(let a in i){let l=i[a];if(l.defId===s.defId)return new We(n,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Co(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new cs(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new cs(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof cs)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Yx(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new cs(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=De(e);n&&this.trigger("_scrollRequest",{time:n})}}function z2(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function iD(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function Y2(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function q2(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Q2(t,e){return{left:t.left-e.left,top:t.top-e.top}}function oD(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Oi(r.activeRange,t)),isOther:!!(r&&!Oi(r.currentRange,t)),isToday:!!(e&&Oi(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Cy(t,e){let n=["fc-day",`fc-day-${JM[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const G2=mt({year:"numeric",month:"long",day:"numeric"}),X2=mt({week:"long"});function _g(t,e,n="day",r=!0){const{dateEnv:i,options:o,calendarApi:s}=t;let a=i.format(e,n==="week"?X2:G2);if(o.navLinks){let l=i.toDate(e);const c=u=>{let d=n==="day"?o.navLinkDayClick:n==="week"?o.navLinkWeekClick:null;typeof d=="function"?d.call(s,i.toDate(e),u):(typeof d=="string"&&(n=d),s.zoomTo(e,n))};return Object.assign({title:hl(o.navLinkHint,[a,l],a),"data-navlink":""},r?Ax(c):{onClick:c})}return{"aria-label":a}}let wp=null;function K2(){return wp===null&&(wp=J2()),wp}function J2(){let t=document.createElement("div");fl(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return sy(t),n}let Ep;function Z2(){return Ep||(Ep=ej()),Ep}function ej(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=sD(t);return document.body.removeChild(t),e}function sD(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function tj(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,a=sD(t),l=a.y-r-i,c=a.x-o-s,u={borderLeft:r,borderRight:i,borderTop:o,borderBottom:s,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return K2()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function nj(t,e=!1,n){let r=_y(t),i=tj(t,e),o={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(o.left+=i.paddingLeft,o.right-=i.paddingRight,o.top+=i.paddingTop,o.bottom-=i.paddingBottom),o}function _y(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function rj(t){let e=aD(t),n=t.getBoundingClientRect();for(let r of e){let i=iD(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function aD(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Yd{constructor(e,n,r,i){this.els=n;let o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let o=i.getBoundingClientRect();n.push(o.left-e),r.push(o.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let o=i.getBoundingClientRect();n.push(o.top-e),r.push(o.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,o;for(o=0;o<i;o+=1)if(e>=n[o]&&e<r[o])return o}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,o;for(o=0;o<i;o+=1)if(e>=n[o]&&e<r[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return du(this.tops||[],e.tops||[])&&du(this.bottoms||[],e.bottoms||[])&&du(this.lefts||[],e.lefts||[])&&du(this.rights||[],e.rights||[])}}function du(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class xy{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ij extends xy{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class oj extends xy{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Yo extends Ge{constructor(){super(...arguments),this.uid=Uo()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Mt(e,".fc-event-mirror")}isValidDateDownEl(e){return!Mt(e,".fc-event:not(.fc-bg-event)")&&!Mt(e,".fc-more-link")&&!Mt(e,"a[data-navlink]")&&!Mt(e,".fc-popover")}}class sj{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:lD(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,o=n.span;i.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:o.start}},r),i.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(Sp(i,n.level,n.levelCoord),Sp(r,n.level,[e])):Sp(r[n.level],n.lateral,e),this.stackCnts[gl(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:o}=this,s=n.length,a=0,l=-1,c=-1,u=null,d=0;for(let m=0;m<s;m+=1){const y=n[m];if(!i&&y>=a+this.getEntryThickness(e))break;let v=r[m],p,b=zE(v,e.span.start,$E),w=b[0]+b[1];for(;(p=v[w])&&p.span.start<e.span.end;){let _=y+this.getEntryThickness(p);_>a&&(a=_,u=p,l=m,c=w),_===a&&(d=Math.max(d,o[gl(p)]+1)),w+=1}}let f=0;if(u)for(f=l+1;f<s&&n[f]<a;)f+=1;let h=-1;return f<s&&n[f]===a&&(h=zE(r[f],e.span.end,$E)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:a,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let o=0;o<r;o+=1){let s=e[o],a=n[o];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function $E(t){return t.span.end}function gl(t){return t.index+":"+t.span.start}function lD(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Sp(t,e,n){t.splice(e,0,n)}function zE(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let o=Math.floor(r+(i-r)/2),s=n(t[o]);if(e<s)i=o;else if(e>s)r=o+1;else return[o,1]}return[r,0]}class aj{constructor(e,n){this.emitter=new zf}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Dy={};function lj(t,e){return!t||e>10?mt({weekday:"short"}):e>1?mt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):mt({weekday:"long"})}const cD="fc-col-header-cell";function uD(t){return t.text}class cj extends Ge{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:o}=this,{date:s,dateProfile:a}=o,l=oD(s,o.todayRange,null,a),c=[cD].concat(Cy(l,r)),u=e.format(s,o.dayHeaderFormat),d=!l.isDisabled&&o.colCnt>1?_g(this.context,s):{},f=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:i},o.extraRenderProps),{text:u}),l);return B(zr,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":l.isDisabled?void 0:cy(s)},o.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:uD,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},h=>B("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&B(h,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}}const uj=mt({weekday:"long"});class dj extends Ge{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:o}=this.context,s=Lt(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:i}),e.extraRenderProps),{text:l});return B(zr,{elTag:"th",elClasses:[cD,...Cy(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:uD,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},u=>B("div",{className:"fc-scrollgrid-sync-inner"},B(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(s,uj)}})))}}class ky extends pn{constructor(e,n){super(e,n),this.initialNowDate=fc(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=ji(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),o=n.dateEnv.add(i,De(1,e.unit)),s=o.valueOf()-r.valueOf();return s=Math.min(1e3*60*60*24,s),{currentState:{nowDate:i,todayRange:YE(i)},nextState:{nowDate:o,todayRange:YE(o)},waitMs:s}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}ky.contextType=$o;function YE(t){let e=Ue(t),n=Lt(e,1);return{start:e,end:n}}class fj extends Ge{constructor(){super(...arguments),this.createDayHeaderFormatter=ke(hj)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return B(ky,{unit:"day"},(a,l)=>B("tr",{role:"row"},o&&o("day"),n.map(c=>i?B(cj,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:s}):B(dj,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:s}))))}}function hj(t,e,n){return t||lj(e,n)}class pj{constructor(e,n){let r=e.start,{end:i}=e,o=[],s=[],a=-1;for(;r<i;)n.isHiddenDay(r)?o.push(a+.5):(a+=1,o.push(a),s.push(r)),r=Lt(r,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Lt(e.end,-1)),i=Math.max(0,n),o=Math.min(this.cnt-1,r);return i=Math.ceil(i),o=Math.floor(o),i<=o?{firstIndex:i,lastIndex:o,isStart:n===i,isEnd:r===o}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(pa(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class mj{constructor(e,n){let{dates:r}=e,i,o,s;if(n){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:o,lastIndex:s}=r,a=o;for(;a<=s;){let l=Math.floor(a/n),c=Math.min((l+1)*n,s+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===o,isEnd:r.isEnd&&c-1===s}),a=c}}return i}}class gj{constructor(){this.sliceBusinessHours=ke(this._sliceBusinessHours),this.sliceDateSelection=ke(this._sliceDateSpan),this.sliceEventStore=ke(this._sliceEventStore),this.sliceEventDrag=ke(this._sliceInteraction),this.sliceEventResize=ke(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...o){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,n,r,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,s,i,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...o),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,n,r,...o),eventResize:this.sliceEventResize(e.eventResize,s,n,r,...o),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...o){return this._sliceDateSpan({range:{start:e,end:ji(e,1)},allDay:!1},n,r,{},i,...o)}_sliceBusinessHours(e,n,r,i,...o){return e?this._sliceEventStore(Mo(e,fu(n,!!r),i),{},n,r,...o).bg:[]}_sliceEventStore(e,n,r,i,...o){if(e){let s=HE(e,n,fu(r,!!i),i);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...o){if(!e)return null;let s=HE(e.mutatedEvents,n,fu(r,!!i),i);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,o,...s){if(!e)return[];let a=fu(n,!!r),l=ea(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=F2(e,i,o),u=this.sliceRange(e.range,...s);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Lt(r.start,1)});let i=this.sliceRange(r,...n);for(let o of i)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return i}}function fu(t,e){let n=t.activeRange;return e?n:{start:ji(n.start,t.slotMinTime.milliseconds),end:ji(n.end,t.slotMaxTime.milliseconds-864e5)}}function dD(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Wf(e.validRange,r[i].range))return!1;return fD({eventDrag:t},n)}function vj(t,e,n){return Wf(e.validRange,t.range)?fD({dateSelection:t},n):!1}function fD(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||yj)(r,e)}function yj(t,e,n={},r){return!(t.eventDrag&&!bj(t,e,n,r)||t.dateSelection&&!wj(t,e,n,r))}function bj(t,e,n,r){let i=e.getCurrentData(),o=t.eventDrag,s=o.mutatedEvents,a=s.defs,l=s.instances,c=zd(a,o.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=Wo(c,r));let u=m2(t.eventStore,o.affectedEvents.instances),d=u.defs,f=u.instances,h=zd(d,t.eventUiBases);for(let m in l){let y=l[m],v=y.range,p=c[y.defId],b=a[y.defId];if(!hD(p.constraints,v,u,t.businessHours,e))return!1;let{eventOverlap:w}=e.options,_=typeof w=="function"?w:null;for(let M in f){let O=f[M];if(my(v,O.range)&&(h[O.defId].overlap===!1&&o.isEvent||p.overlap===!1||_&&!_(new We(e,d[O.defId],O),new We(e,b,y))))return!1}let R=i.eventStore;for(let M of p.allows){let O=Object.assign(Object.assign({},n),{range:y.range,allDay:b.allDay}),E=R.defs[b.defId],N=R.instances[m],H;if(E?H=new We(e,E,N):H=new We(e,b),!M(wy(O,e),H))return!1}}return!0}function wj(t,e,n,r){let i=t.eventStore,o=i.defs,s=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!hD(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let f in s){let h=s[f];if(my(l,h.range)&&(c.overlap===!1||d&&!d(new We(e,o[h.defId],h),null)))return!1}for(let f of c.allows){let h=Object.assign(Object.assign({},n),a);if(!f(wy(h,e),null))return!1}return!0}function hD(t,e,n,r,i){for(let o of t)if(!Sj(Ej(o,e,n,r,i),e))return!1;return!0}function Ej(t,e,n,r,i){return t==="businessHours"?Cp(Mo(r,e,i)):typeof t=="string"?Cp($f(n,o=>o.groupId===t)):typeof t=="object"&&t?Cp(Mo(t,e,i)):[]}function Cp(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Sj(t,e){for(let n of t)if(Wf(n,e))return!0;return!1}const hu=/^(visible|hidden)$/;class Cj extends Ge{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Vr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,o=["fc-scroller"];return n&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),B("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(hu.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(hu.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return hu.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return hu.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ho{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:o}=this,s=!1,a=!1;n!==null?(s=r in o,o[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete o[r],delete this.callbackMap[r],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return AL(this.currentMap,e,n,r)}getAll(){return hy(this.currentMap)}}function _j(t){let e=AM(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,zM(r));return Math.ceil(n)}function pD(t,e){return t.liquid&&e.liquid}function xj(t,e){return e.maxHeight!=null||pD(t,e)}function Dj(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):B("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,B(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function kj(t,e){return Li(t,e,yr)}function Rj(t,e){let n=[];for(let r of t){let i=r.span||1;for(let o=0;o<i;o+=1)n.push(B("col",{style:{width:r.width==="shrink"?Oj(e):r.width||"",minWidth:r.minWidth||""}}))}return B("colgroup",{},...n)}function Oj(t){return t??4}function Tj(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Aj(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Ij(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Nj(t){return B("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function qE(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Pj(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class mD extends Ge{constructor(){super(...arguments),this.processCols=ke(e=>e,kj),this.renderMicroColGroup=ke(Rj),this.scrollerRefs=new ho,this.scrollerElRefs=new ho(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,n.shrinkWidth),a=Aj(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],f=[],h=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,s,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)f.push(this.renderSection(u,s,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)h.push(this.renderSection(u,s,!0)),c+=1;let m=!rD();const y={role:"rowgroup"};return B("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!m&&d.length)&&B("thead",y,...d),!!(!m&&f.length)&&B("tbody",y,...f),!!(!m&&h.length)&&B("tfoot",y,...h),m&&B("tbody",y,...d,...f,...h))}renderSection(e,n,r){return"outerContent"in e?B(it,{key:e.key},e.outerContent):B("tr",{key:e.key,role:"presentation",className:Ij(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=xj(o,e),u=pD(o,e),d=o.liquid?s?"scroll":c?"auto":"hidden":"visible",f=e.key,h=Dj(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&a[f]!==void 0?a[f]:null,clientHeight:l[f]!==void 0?l[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return B(i?"th":"td",{ref:r.elRef,role:"presentation"},B("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},B(Cj,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let r=Mj(this.props.sections,n);r&&Vr(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Tj(this.props.cols)?_j(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Z2(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,o={},s={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;o[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:o,scrollerClientHeights:s}}}mD.addStateEquality({scrollerClientWidths:yr,scrollerClientHeights:yr});function Mj(t,e){for(let n of t)if(n.key===e)return n;return null}class Ry extends Ge{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&UE(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:o}=i,{ui:s}=o,a={event:new We(n,o.def,o.instance),view:n.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&k2(i,n),isStartResizable:!e.disableResizing&&R2(i,n),isEndResizable:!e.disableResizing&&O2(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return B(zr,Object.assign({},e,{elRef:this.handleEl,elClasses:[...T2(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&UE(this.el,this.props.seg)}}class Lj extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:o}=i.eventRange,s=r.eventTimeFormat||e.defaultTimeFormat,a=Zx(i,s,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return B(Ry,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:eD(i,n),defaultGenerator:jj,timeText:a}),(l,c)=>B(it,null,B(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&B("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&B("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function jj(t){return B("div",{className:"fc-event-main-frame"},t.timeText&&B("div",{className:"fc-event-time"},t.timeText),B("div",{className:"fc-event-title-container"},B("div",{className:"fc-event-title fc-sticky"},t.event.title||B(it,null," "))))}const Fj=mt({day:"numeric"});class gD extends Ge{constructor(){super(...arguments),this.refineRenderProps=Ju(Bj)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return B(zr,Object.assign({},e,{elClasses:[...Cy(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":cy(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function vD(t){return!!(t.dayCellContent||wg("dayCellContent",t))}function Bj(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,o=oD(e,t.todayRange,null,r),s=t.showDayNumber?n.format(e,i?t.monthStartFormat:Fj):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},o),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class Vj extends Ge{render(){let{props:e}=this,{seg:n}=e;return B(Ry,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Hj,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Hj(t){let{title:e}=t.event;return e&&B("div",{className:"fc-event-title"},t.event.title)}function Uj(t){return B("div",{className:`fc-${t}`})}const Wj=t=>B($o.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,o=r.weekNumberFormat||t.defaultFormat,s=n.computeWeekNumber(i),a=n.format(i,o);return B(zr,Object.assign({},t,{renderProps:{num:s,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:$j,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function $j(t){return t.text}const _p=10;class zj extends Ge{constructor(){super(...arguments),this.state={titleId:Hf()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Vr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Ox(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,o=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return vM(B("div",Object.assign({},r.extraAttrs,{id:r.id,className:o.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),B("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},B("span",{className:"fc-popover-title",id:i.titleId},r.title),B("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),B("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,o=rj(n);if(o){let s=i.getBoundingClientRect(),a=r?Mt(n,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-s.width:o.left;a=Math.max(a,_p),l=Math.min(l,document.documentElement.clientWidth-_p-s.width),l=Math.max(l,_p);let c=i.offsetParent.getBoundingClientRect();fl(i,{top:a-c.top,left:l-c.left})}}}class Yj extends Yo{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:o,dateProfile:s}=r,a=n.format(i,e.dayPopoverFormat);return B(gD,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:o},(l,c,u)=>B(zj,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},vD(e)&&B(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:o,props:s}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class qj extends Ge{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Hf()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Vr(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,o=QE(n).start;function s(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new We(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:o,allDay:!!n.allDayDate,allSegs:n.allSegs.map(s),hiddenSegs:n.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(o,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return B($o.Consumer,null,r=>{let{viewApi:i,options:o,calendarApi:s}=r,{moreLinkText:a}=o,{moreCnt:l}=e,c=QE(e),u=typeof a=="function"?a.call(s,l):`+${l} ${a}`,d=hl(o.moreLinkHint,[l],u),f={num:l,shortText:`+${l}`,text:u,view:i};return B(it,null,!!e.moreCnt&&B(zr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Ax(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||Qj,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),n.isPopoverOpen&&B(Yj,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Mt(this.linkEl,".fc-view-harness"))}}function Qj(t){return t.text}function QE(t){if(t.allDayDate)return{start:t.allDayDate,end:Lt(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Gj(e),end:Kj(e)}}function Gj(t){return t.reduce(Xj).eventRange.range.start}function Xj(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Kj(t){return t.reduce(Jj).eventRange.range.end}function Jj(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Zj{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class e3 extends Zj{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const t3=[],yD={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},bD=Object.assign(Object.assign({},yD),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function n3(t){let e=t.length>0?t[0].code:"en",n=t3.concat(t),r={en:bD};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function wD(t,e){return typeof t=="object"&&!Array.isArray(t)?ED(t.code,[t.code],t):r3(t,e)}function r3(t,e){let n=[].concat(t||[]),r=i3(n,e)||bD;return ED(t,n,r)}function i3(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let o=r.slice(0,i).join("-");if(e[o])return e[o]}}return null}function ED(t,e,n){let r=fy([yD,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function qi(t){return{id:Uo(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function o3(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(let s of o){const a=s.name,l=n[a];l===void 0?(n[a]=s.id,i(s.deps),r=a3(r,s)):l!==s.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function s3(){let t=[],e=[],n;return(r,i)=>((!n||!Li(r,t)||!Li(i,e))&&(n=o3(r,i)),t=r,e=i,n)}function a3(t,e){return{premiumReleaseDate:l3(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function l3(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Qi extends dc{}Qi.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Qi.prototype.baseIconClass="fc-icon";Qi.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Qi.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Qi.prototype.iconOverrideOption="buttonIcons";Qi.prototype.iconOverrideCustomButtonOption="icon";Qi.prototype.iconOverridePrefix="fc-icon-";function c3(t,e){let n={},r;for(r in t)xg(r,n,t,e);for(r in e)xg(r,n,t,e);return n}function xg(t,e,n,r){if(e[t])return e[t];let i=u3(t,e,n,r);return i&&(e[t]=i),i}function u3(t,e,n,r){let i=n[t],o=r[t],s=u=>i&&i[u]!==null?i[u]:o&&o[u]!==null?o[u]:null,a=s("component"),l=s("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=xg(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),o?o.rawOptions:{})}:null}function GE(t){return Wo(t,d3)}function d3(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=XE(e):n&&!(n.prototype instanceof Ge)&&(n=XE(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function XE(t){return e=>B($o.Consumer,null,n=>B(zr,{elTag:"div",elClasses:Bx(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function f3(t,e,n,r){let i=GE(t),o=GE(e.views),s=c3(i,o);return Wo(s,a=>h3(a,o,e,n,r))}function h3(t,e,n,r,i){let o=t.overrides.duration||t.defaults.duration||r.duration||n.duration,s=null,a="",l="",c={};if(o&&(s=p3(o),s)){let f=yg(s);a=f.unit,f.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=f=>{let h=f.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&h[m]!=null?h[m]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null},d=f=>{let h=f.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&h[m]!=null?h[m]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(pl)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(pl)}}let KE={};function p3(t){let e=JSON.stringify(t),n=KE[e];return n===void 0&&(n=De(t),KE[e]=n),n}function m3(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function g3(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function v3(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function y3(t,e,n){let r=e?e.activeRange:null;return CD({},x3(t,n),r,n)}function b3(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return CD(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return E3(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?_D(t,i,r):t;case"FETCH_EVENT_SOURCES":return Oy(t,e.sourceIds?Px(e.sourceIds):xD(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return _3(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function w3(t,e,n){let r=e?e.activeRange:null;return Oy(t,xD(t,n),r,!0,n)}function SD(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function CD(t,e,n,r){let i={};for(let o of e)i[o.sourceId]=o;return n&&(i=_D(i,n,r)),Object.assign(Object.assign({},t),i)}function E3(t,e){return Po(t,n=>n.sourceId!==e)}function _D(t,e,n){return Oy(t,Po(t,r=>S3(r,e,n)),e,!1,n)}function S3(t,e,n){return DD(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Oy(t,e,n,r,i){let o={};for(let s in t){let a=t[s];e[s]?o[s]=C3(a,n,r,i):o[s]=a}return o}function C3(t,e,n,r){let{options:i,calendarApi:o}=r,s=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Uo();return s.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(o,c,l.response)||c),t.success&&(c=t.success.call(o,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(o,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function _3(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function xD(t,e){return Po(t,n=>DD(n,e))}function x3(t,e){let n=qx(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let o of r){let s=Yx(o,e,n);s&&i.push(s)}return i}function DD(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function D3(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function k3(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function R3(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function O3(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function T3(t,e,n,r,i){let o=t.headerToolbar?JE(t.headerToolbar,t,e,n,r,i):null,s=t.footerToolbar?JE(t.footerToolbar,t,e,n,r,i):null;return{header:o,footer:s}}function JE(t,e,n,r,i,o){let s={},a=[],l=!1;for(let c in t){let u=t[c],d=A3(u,e,n,r,i,o);s[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function A3(t,e,n,r,i,o){let s=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],m=!1;return{widgets:f.map(v=>v.split(",").map(p=>{if(p==="title")return m=!0,{buttonName:p};let b,w,_,R,M,O;if(b=a[p])_=E=>{b.click&&b.click.call(E.target,E,E.target)},(R=r.getCustomButtonIconClass(b))||(R=r.getIconClass(p,s))||(M=b.text),O=b.hint||b.text;else if(w=i[p]){h.push(p),_=()=>{o.changeView(p)},(M=w.buttonTextOverride)||(R=r.getIconClass(p,s))||(M=w.buttonTextDefault);let E=w.buttonTextOverride||w.buttonTextDefault;O=hl(w.buttonTitleOverride||w.buttonTitleDefault||e.viewHint,[E,p],E)}else if(o[p])if(_=()=>{o[p]()},(M=l[p])||(R=r.getIconClass(p,s))||(M=c[p]),p==="prevYear"||p==="nextYear"){let E=p==="prevYear"?"prev":"next";O=hl(u[E]||d[E],[c.year||"year","year"],c[p])}else O=E=>hl(u[p]||d[p],[c[E]||E,E],c[p]);return{buttonName:p,buttonClick:_,buttonIcon:R,buttonText:M,buttonHint:O}})),viewsWithButtons:h,hasTitle:m}}class I3{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let N3={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const P3=qi({name:"array-event-source",eventSourceDefs:[N3]});let M3={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;B2(i.bind(null,tD(t.range,r)),o=>e({rawEvents:o}),n)}};const L3=qi({name:"func-event-source",eventSourceDefs:[M3]}),j3={method:String,extraParams:F,startParam:String,endParam:String,timeZoneParam:String};let F3={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=V3(r,t.range,t.context);V2(r.method,r.url,i).then(([o,s])=>{e({rawEvents:o,response:s})},n)}};const B3=qi({name:"json-event-source",eventSourceRefiners:j3,eventSourceDefs:[F3]});function V3(t,e,n){let{dateEnv:r,options:i}=n,o,s,a,l,c={};return o=t.startParam,o==null&&(o=i.startParam),s=t.endParam,s==null&&(s=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[o]=r.formatIso(e.start),c[s]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const H3={daysOfWeek:F,startTime:De,endTime:De,duration:De,startRecur:F,endRecur:F};let U3={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=GM(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=ea(e,{start:t.startRecur,end:t.endRecur});return r?$3(t.daysOfWeek,t.startTime,r,n):[]}};const W3=qi({name:"simple-recurring-event",recurringTypes:[U3],eventRefiners:H3});function $3(t,e,n,r){let i=t?Px(t):null,o=Ue(n.start),s=n.end,a=[];for(;o<s;){let l;(!i||i[o.getUTCDay()])&&(e?l=r.add(o,e):l=o,a.push(l)),o=Lt(o,1)}return a}const z3=qi({name:"change-handler",optionChangeHandlers:{events(t,e){ZE([t],e)},eventSources:ZE}});function ZE(t,e){let n=hy(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let o=!1;for(let s=0;s<n.length;s+=1)if(n[s]._raw===i){n.splice(s,1),o=!0;break}o||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function Y3(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},tD(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function q3(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Co(t,e))}const Q3=[P3,L3,B3,W3,z3,qi({name:"misc",isLoadingFuncs:[t=>SD(t.eventSources)],propSetHandlers:{dateProfile:Y3,eventStore:q3}})];class G3{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new oy(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function X3(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,mt(e.titleFormat||K3(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function K3(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Fd(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class J3{constructor(e){this.computeCurrentViewData=ke(this._computeCurrentViewData),this.organizeRawLocales=ke(n3),this.buildLocale=ke(wD),this.buildPluginHooks=s3(),this.buildDateEnv=ke(Z3),this.buildTheme=ke(eF),this.parseToolbars=ke(T3),this.buildViewSpecs=ke(f3),this.buildDateProfileGenerator=Ju(tF),this.buildViewApi=ke(nF),this.buildViewUiProps=Ju(oF),this.buildEventUiBySource=ke(rF,yr),this.buildEventUiBases=ke(iF),this.parseContextBusinessHours=Ju(sF),this.buildTitle=ke(X3),this.emitter=new zf,this.actionRunner=new G3(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s=KL(r.calendarOptions,r.dateEnv),a=o.dateProfileGenerator.build(s);Oi(a.activeRange,s)||(s=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let f of r.pluginHooks.contextInit)f(l);let c=y3(r.calendarOptions,a,l),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:Wn(),renderableEventStore:Wn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},d=Object.assign(Object.assign({},l),u);for(let f of r.pluginHooks.reducers)Object.assign(u,f(null,null,d));xp(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,o=g3(r.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,o,n.calendarApi),a=m3(r.currentViewType,e),l=this.computeCurrentViewData(a,s,n.optionOverrides,o);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=XL(u,e),d=v3(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Oi(d.currentRange,u))&&(u=d.currentRange.start);let f=b3(r.eventSources,e,d,c),h=d2(r.eventStore,e,f,d,c),y=SD(f)&&!l.options.progressiveEventRendering&&r.renderableEventStore||h,{eventUiSingleBase:v,selectionConfig:p}=this.buildViewUiProps(c),b=this.buildEventUiBySource(f),w=this.buildEventUiBases(y.defs,v,b),_={dynamicOptionOverrides:o,currentViewType:a,currentDate:u,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:y,selectionConfig:p,eventUiBases:w,businessHours:this.parseContextBusinessHours(c),dateSelection:D3(r.dateSelection,e),eventSelection:k3(r.eventSelection,e),eventDrag:R3(r.eventDrag,e),eventResize:O3(r.eventResize,e)},R=Object.assign(Object.assign({},c),_);for(let E of s.pluginHooks.reducers)Object.assign(_,E(r,e,R));let M=xp(r,c),O=xp(_,c);!M&&O?i.trigger("loading",!0):M&&!O&&i.trigger("loading",!1),this.state=_,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,o.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),o),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=s.eventSources=w3(s.eventSources,n.dateProfile,s),n.eventStore=s.eventStore=BE(s.eventStore,r.dateEnv,s.dateEnv),n.renderableEventStore=s.renderableEventStore=BE(s.renderableEventStore,r.dateEnv,s.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:o,localeDefaults:s,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);e0(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,o,a,i.defaultRangeSeparator),u=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(i,o),f=this.parseToolbars(i,this.stableOptionOverrides,d,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:o,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:f,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=vp([pl,e,n]),o=this.organizeRawLocales(r),s=o.map,a=this.buildLocale(i||o.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Q3),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},IE),NE),PE),l.listenerRefiners),l.optionRefiners),u={},d=vp([pl,a,e,n]),f={},h=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,y=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===h[v]||ro[v]&&v in h&&ro[v](h[v],d[v]))?f[v]=m[v]:c[v]?(f[v]=c[v](d[v]),y=!0):u[v]=h[v];return y&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:o,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,i){let o=n.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(o,n.pluginHooks,n.localeDefaults,r,i);e0(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,o){let s=vp([pl,e.optionDefaults,r,i,e.optionOverrides,o]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},IE),NE),PE),kL),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,f={};for(let h in s)s[h]===c[h]||ro[h]&&ro[h](s[h],c[h])?l[h]=u[h]:(s[h]===this.currentCalendarOptionsInput[h]||ro[h]&&ro[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(l[h]=this.currentCalendarOptionsRefined[h]):a[h]?l[h]=a[h](s[h]):f[h]=s[h],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function Z3(t,e,n,r,i,o,s,a){let l=wD(e||s.defaultCode,s.map);return new jL({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function eF(t,e){let n=e.themeClasses[t.themeSystem]||Qi;return new n(t)}function tF(t){let e=t.dateProfileGeneratorClass||Ux;return new e(t)}function nF(t,e,n){return new I3(t,e,n)}function rF(t){return Wo(t,e=>e.ui)}function iF(t,e,n){let r={"":e};for(let i in t){let o=t[i];o.sourceId&&n[o.sourceId]&&(r[i]=n[o.sourceId])}return r}function oF(t){let{options:e}=t;return{eventUiSingleBase:$d({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:$d({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function xp(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function sF(t){return w2(t.options.businessHours,t)}function e0(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class aF extends Ge{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return B("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],o=!0;for(let s of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=s;if(a==="title")o=!1,i.push(B("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=a===n.activeButton,h=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",m=[`fc-${a}-button`,r.getClass("button")];f&&m.push(r.getClass("buttonActive")),i.push(B("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:h,"aria-pressed":f,className:m.join(" "),onClick:l},c||(u?B("span",{className:u,role:"img"}):"")))}}if(i.length>1){let s=o&&r.getClass("buttonGroup")||"";return B("div",{className:s},...i)}return i[0]}}class t0 extends Ge{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,o,s=e.sectionWidgets,a=s.center;return s.left?(r=!0,i=s.left):i=s.start,s.right?(r=!0,o=s.right):o=s.end,B("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",o||[]))}renderSection(e,n){let{props:r}=this;return B(aF,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class lF extends Ge{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Vr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return r?n.availableWidth!==null?o=n.availableWidth/r:s=`${1/r*100}%`:o=e.height||"",B("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class cF extends ma{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:o}=i,s=ta(r);if(s&&i.isValidSegDownEl(n.target)){let a=Mt(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:r,event:new We(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:o.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=Tx(e.el,"click",".fc-event",this.handleSegClick)}}class uF extends ma{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{ta(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=PM(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:o}=i,s=ta(r);(!n||i.isValidSegDownEl(n.target))&&o.emitter.trigger(e,{el:r,event:new We(o,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:o.viewApi})}}class dF extends zo{constructor(){super(...arguments),this.buildViewContext=ke(VL),this.buildViewPropTransformers=ke(hF),this.buildToolbarProps=ke(fF),this.headerRef=Br(),this.footerRef=Br(),this.interactionsStore={},this.state={viewLabelId:Hf()},this.registerInteractiveComponent=(e,n)=>{let r=W2(e,n),s=[cF,uF].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=s,Cg[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete Cg[e.uid]},this.resizeRunner=new oy(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,fc(e.options.now,e.dateEnv),e.viewTitle),o=!1,s="",a;e.isHeightAuto||e.forPrint?s="":r.height!=null?o=!0:r.contentHeight!=null?s=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return B($o.Provider,{value:l},n.header&&B(t0,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},i)),B(lF,{liquid:o,height:s,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&B(t0,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return B(it,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of o)Object.assign(i,a.transform(i,e));let s=r.component;return B(s,Object.assign({},i))}}function fF(t,e,n,r,i,o){let s=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:o,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!Oi(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function hF(t){return t.map(e=>new e)}let pF=class extends $2{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Ud(()=>{Hl(B(U2,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,o,s,a)=>(this.setClassNames(i),this.setHeight(o),B(Fx.Provider,{value:this.customContentRenderId},B(dF,Object.assign({isHeightAuto:s,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Hl(null,this.el),this.setClassNames([]),this.setHeight(""))},xM(e),this.el=e,this.renderRunner=new oy(this.handleRenderRequest),new J3({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Ud(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Li(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Rx(this.el,"height",e)}};const mF=parseInt(String(W.version).split(".")[0]),gF=mF<18;class kD extends L.Component{constructor(){super(...arguments),this.elRef=L.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(W.createElement(vF,{key:n.id,customRendering:n}));return W.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new e3;this.handleCustomRendering=e.handle.bind(e),this.calendar=new pF(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Io.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),o=!n;(gF||o||this.isUpdating||this.isUnmounting||i-n<100?RD:Io.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,o?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}kD.act=RD;class vF extends L.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Io.createPortal(r,e.containerEl)}}function RD(t){t()}class yF extends Yo{constructor(){super(...arguments),this.headerElRef=Br()}renderSimpleLayout(e,n){let{props:r,context:i}=this,o=[],s=qE(i.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),B(ME,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},B(mD,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,n,r,i){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:a}=this,l=!s.forPrint&&qE(a.options),c=!s.forPrint&&Pj(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Nj}]}),B(ME,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},B(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}}function pu(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function mu(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function n0(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const OD=mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function TD(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class AD extends Ge{render(){let{props:e}=this;return B(Lj,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:OD,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class ID extends Ge{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,o=r.eventTimeFormat||OD,s=Zx(i,o,n,!0,e.defaultDisplayEventEnd);return B(Ry,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:eD(e.seg,n),defaultGenerator:bF,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function bF(t){return B(it,null,B("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&B("div",{className:"fc-event-time"},t.timeText),B("div",{className:"fc-event-title"},t.event.title||B(it,null," ")))}class wF extends Ge{constructor(){super(...arguments),this.compileSegs=ke(EF)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return B(qj,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return B(it,null,n.map(o=>{let s=o.eventRange.instance.instanceId;return B("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},TD(o)?B(ID,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},ml(o,e.todayRange))):B(AD,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},ml(o,e.todayRange))))}))}})}}function EF(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const SF=mt({week:"narrow"});class CF extends Yo{constructor(){super(...arguments),this.rootElRef=Br(),this.state={dayNumberId:Hf()},this.handleRootEl=e=>{Vr(this.rootElRef,e),Vr(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:o,dateEnv:s}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&xF(a,l.currentRange,s);return B(gD,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:_F,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>B("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&B(Wj,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:_g(e,a,"week"),date:a,defaultFormat:SF}),!d.isDisabled&&(n.showDayNumber||vD(o)||n.forceDayTop)?B("div",{className:"fc-daygrid-day-top"},B(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},_g(e,a)),{id:r.dayNumberId})})):n.showDayNumber?B("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},B("a",{className:"fc-daygrid-day-number"}," ")):void 0,B("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,B("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},B(wF,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),B("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function _F(t){return t.dayNumberText||B(it,null," ")}function xF(t,e,n){const{start:r,end:i}=e,o=ji(i,-1),s=n.getYear(r),a=n.getMonth(r),l=n.getYear(o),c=n.getMonth(o);return!(s===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function ND(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function PD(t){return ND(t)+":"+t.lastCol}function DF(t,e,n,r,i,o,s){let a=new OF(p=>{let b=t[p.index].eventRange.instance.instanceId+":"+p.span.start+":"+(p.span.end-1);return i[b]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=o,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let p=0;p<t.length;p+=1){let b=t[p],w=PD(b);i[w]!=null?l.push({index:p,span:{start:b.firstCol,end:b.lastCol+1}}):c.push(b)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:m}=kF(d,t,s),y=[],v=[];for(let p of c){h[p.firstCol].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let b=p.firstCol;b<=p.lastCol;b+=1)f[b].push({seg:Is(p,b,b+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let p=0;p<s.length;p+=1)y.push(0);for(let p of u){let b=t[p.index],w=p.span;h[w.start].push({seg:Is(b,w.start,w.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=w.start;_<w.end;_+=1)y[_]+=1,f[_].push({seg:Is(b,_,_+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let p=0;p<s.length;p+=1)v.push(m[p]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:y,moreMarginTops:v}}function kF(t,e,n){let r=RF(t,n.length),i=[],o=[],s=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,d=0;for(let h of l){let m=e[h.index];c.push({seg:Is(m,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-u}),u=h.levelCoord+h.thickness}let f=[];u=0,d=0;for(let h of l){let m=e[h.index],y=h.span.end-h.span.start>1,v=h.span.start===a;d+=h.levelCoord-u,u=h.levelCoord+h.thickness,y?(d+=h.thickness,v&&f.push({seg:Is(m,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):v&&(f.push({seg:Is(m,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}i.push(c),o.push(f),s.push(d)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:s}}function RF(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Is(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,o=i.range,s=ea(o,{start:r[e].date,end:Lt(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===o.end.valueOf()})}class OF extends sj{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=o=>!this.forceHidden[gl(o)];for(let o=0;o<r.length;o+=1)r[o]=r[o].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:o}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const c=gl(s);if(!o[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},s),{span:lD(s.span,n.span)}),d=gl(u);o[d]=!0,i[a][l]=u,r.push(u),this.splitEntry(s,n,r)}else o[c]=!0,r.push(s)}super.handleInvalidInsertion(e,n,r)}}class MD extends Yo{constructor(){super(...arguments),this.cellElRefs=new ho,this.frameElRefs=new ho,this.fgElRefs=new ho,this.segHarnessRefs=new ho,this.rootElRef=Br(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,o=e.cells.length,s=mu(e.businessHourSegs,o),a=mu(e.bgEventSegs,o),l=mu(this.getHighlightSegs(),o),c=mu(this.getMirrorSegs(),o),{singleColPlacements:u,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=DF(x2(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return B("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,v)=>{let p=this.renderFgSegs(v,e.forPrint?u[v]:d[v],e.todayRange,m),b=this.renderFgSegs(v,TF(c[v],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return B(CF,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:f[v],moreMarginTop:h[v],singlePlacements:u[v],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:B(it,null,B(it,null,p),B(it,null,b)),bgContent:B(it,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(a[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!yr(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,o,s,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,f=o||s||a,h=[];if(u)for(let m of n){let{seg:y}=m,{instanceId:v}=y.eventRange.instance,p=m.isVisible&&!i[v],b=m.isAbsolute,w="",_="";b&&(l.isRtl?(_=0,w=u.lefts[y.lastCol]-u.lefts[y.firstCol]):(w=0,_=u.rights[y.firstCol]-u.rights[y.lastCol])),h.push(B("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:ND(y),ref:f?null:this.segHarnessRefs.createRef(PD(y)),style:{visibility:p?"":"hidden",marginTop:b?"":m.marginTop,top:b?m.absoluteTop:"",left:w,right:_}},TD(y)?B(ID,Object.assign({seg:y,isDragging:o,isSelected:v===c,defaultDisplayEventEnd:d},ml(y,r))):B(AD,Object.assign({seg:y,isDragging:o,isResizing:s,isDateSelecting:a,isSelected:v===c,defaultDisplayEventEnd:d},ml(y,r)))))}return h}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let a of e){let l=r?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};s.push(B("div",{key:A2(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?B(Vj,Object.assign({seg:a},ml(a,i))):Uj(n)))}return B(it,{},...s)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new Yd(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new Yd(c,l,!0,!1)})}}const o=this.state.segHeights,s=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}MD.addStateEquality({segHeights:yr});function TF(t,e){if(!t.length)return[];let n=AF(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function AF(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class IF extends Yo{constructor(){super(...arguments),this.splitBusinessHourSegs=ke(pu),this.splitBgEventSegs=ke(pu),this.splitFgEventSegs=ke(pu),this.splitDateSelectionSegs=ke(pu),this.splitEventDrag=ke(n0),this.splitEventResize=ke(n0),this.rowRefs=new ho}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return B(ky,{unit:"day"},(d,f)=>B(it,null,e.cells.map((h,m)=>B(MD,{ref:this.rowRefs.createRef(m),key:h.length?h[0].date.toISOString():m,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:o[m].filter(NF),fgEventSegs:s[m],dateSelectionSegs:a[m],eventDrag:l[m],eventResize:c[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Yd(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Yd(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,o=r.leftToIndex(e),s=i.topToIndex(n);if(s!=null&&o!=null){let a=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:r.lefts[o],right:r.rights[o],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=Lt(r,1);return{start:r,end:i}}}function NF(t){return t.eventRange.def.allDay}class PF extends Yo{constructor(){super(...arguments),this.elRef=Br(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,o=r===!0||n===!0;o&&!i&&(o=!1,n=null,r=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return B("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},B("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,B("tbody",{role:"presentation"},B(IF,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=MF(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function MF(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${dL(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${cy(e.currentDate)}"]`)),n}class LF extends gj{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class jF extends Yo{constructor(){super(...arguments),this.slicer=new LF,this.tableRef=Br()}render(){let{props:e,context:n}=this;return B(PF,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class FF extends yF{constructor(){super(...arguments),this.buildDayTableModel=ke(BF),this.headerRef=Br(),this.tableRef=Br()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),o=e.dayHeaders&&B(fj,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=a=>B(jF,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}}function BF(t,e){let n=new pj(t.renderRange,e);return new mj(n,/year|month|week/.test(t.currentRangeUnit))}class VF extends Ux{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:o}=this;return HF({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}}function HF(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,o;if(t.snapToWeek&&(r=e.startOfWeek(r),o=e.startOfWeek(i),o.valueOf()!==i.valueOf()&&(i=DE(o,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(Lt(n.end,-1))),a=Math.ceil(ZM(s,i));i=DE(i,6-a)}return{start:r,end:i}}var UF=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';xx(UF);var WF=qi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:FF,dateProfileGeneratorClass:VF},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Dy.touchMouseIgnoreWait=500;let Dg=0,qd=0,kg=!1;class LD{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&$F(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,zF()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new zf,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),YF()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),qF()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Mt(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){kg=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Mt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Dg||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(kg=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,o,s=0,a=0;return r&&r.length?(i=r[0].pageX,o=r[0].pageY):(i=e.pageX,o=e.pageY),n?(this.origPageX=i,this.origPageY=o):(s=i-this.origPageX,a=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:s,deltaY:a}}}function $F(t){return t.button===0&&!t.ctrlKey}function zF(){Dg+=1,setTimeout(()=>{Dg-=1},Dy.touchMouseIgnoreWait)}function YF(){qd+=1,qd===1&&window.addEventListener("touchmove",jD,{passive:!1})}function qF(){qd-=1,qd||window.removeEventListener("touchmove",jD,{passive:!1})}function jD(t){kg&&t.preventDefault()}class QF{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",fl(r,{left:i.left,top:i.top}),MM(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(sy(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&fl(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),fl(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class FD extends xy{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class BD extends FD{constructor(e,n){super(new ij(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return nj(this.scrollController.el)}}class GF extends FD{constructor(e){super(new oj,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const r0=typeof performance=="function"?performance.now:Date.now;class XF{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=r0();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,o=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(r0()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,o=i-e.distance,s=o*o/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+s*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+s*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,o=this.scrollCaches||[];for(let s of o){let a=s.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,d=a.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=r&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"top",distance:u}),d<=r&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),c<=r&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:s,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new GF(!1):new BD(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class hc extends aj{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,LM(document.body),FM(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let o=this.minDistance,s,{deltaX:a,deltaY:l}=i;s=a*a+l*l,s>=o*o&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,jM(document.body),BM(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new LD(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new QF,this.autoScroller=new XF}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class KF{constructor(e){this.el=e,this.origRect=_y(e),this.scrollCaches=aD(e).map(n=>new BD(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!JF(i.getEventTarget())&&!z2(r,i.clientRect))return!1;return!0}}function JF(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Yf{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new zf}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,o;i instanceof HTMLElement&&(o=_y(i),r=Y2(r,o));let s=this.initialHit=this.queryHitForOffset(r.left,r.top);if(s){if(this.useSubjectCenter&&o){let a=iD(o,s.rect);a&&(r=q2(a))}this.coordAdjust=Q2(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!qf(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Wo(this.droppableStore,e=>(e.component.prepareHits(),new KF(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,o=null;for(let s in r){let a=r[s].component,l=i[s];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,f=n-u,{origRect:h}=l,m=h.right-h.left,y=h.bottom-h.top;if(d>=0&&d<m&&f>=0&&f<y){let v=a.queryHit(d,f,m,y);v&&Wf(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+c-window.scrollX,f+u-window.scrollY)))&&(!o||v.layer>o.layer)&&(v.componentId=s,v.context=a.context,v.rect.left+=c,v.rect.right+=c,v.rect.top+=u,v.rect.bottom+=u,o=v)}}}return o}}function qf(t,e){return!t&&!e?!0:!!t!=!!e?!1:M2(t.dateSpan,e.dateSpan)}function VD(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,ZF(t,e.dateEnv)),n}function ZF(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class eB extends ma{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,o=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:s,finalHit:a}=this.hitDragging;if(s&&a&&qf(s,a)){let{context:l}=i,c=Object.assign(Object.assign({},VD(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new hc(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Yf(this.dragging,Sy(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class tB extends ma{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!u),l.delay=s.isTouch?nB(a):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,a)=>{let{context:l}=this.component,c=null,u=!1;if(s){let d=this.hitDragging.initialHit;s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(c=rB(d,s,l.pluginHooks.dateSelectionTransformers)),(!c||!vj(c,s.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?ay():ly(),a||(this.dragSelection=c)},this.handlePointerUp=s=>{this.dragSelection&&(Xx(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new hc(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Yf(this.dragging,Sy(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function nB(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function rB(t,e,n){let r=t.dateSpan,i=e.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort($M);let s={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:o[0],end:o[3]},s.allDay=r.allDay,s}class pc extends ma{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let a=s.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,f=l.context;this.subjectEl=s.subjectEl;let h=this.subjectSeg=ta(s.subjectEl),y=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=yy(f.getCurrentData().eventStore,y),c.minDistance=s.isTouch?0:d.eventDragMinDistance,c.delay=s.isTouch&&y!==l.props.eventSelection?oB(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=Mt(a,".fc"),u.revertDuration=d.dragRevertDuration;let v=l.isValidSegDownEl(a)&&!Mt(a,".fc-event-resizer");c.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;s.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(s),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new We(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi}))},this.handleHitUpdate=(s,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,f=null,h=null,m=!1,y={affectedEvents:l,mutatedEvents:Wn(),isEvent:!0};if(s){d=s.context;let v=d.options;u===d||v.editable&&v.droppable?(f=iB(c,s,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=Ey(l,d.getCurrentData().eventUiBases,f,d),y.mutatedEvents=h,dD(y,s.dateProfile,d)||(m=!0,f=null,h=null,y.mutatedEvents=Wn()))):d=null}this.displayDrag(d,y),m?ay():ly(),a||(u===d&&qf(c,s)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new We(a,d,f),m=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:s.origEvent,view:l}),u){if(c===a){let p=new We(a,y.defs[d.defId],f?y.instances[f.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:y});let b={oldEvent:h,event:p,relatedEvents:Co(y,a,f),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}},w={};for(let _ of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,_(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},b),w),{el:s.subjectEl,delta:u.datesDelta,jsEvent:s.origEvent,view:l})),a.emitter.trigger("eventChange",b)}else if(c){let p={event:h,relatedEvents:Co(m,a,f),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},p),{draggedEl:s.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:m}),a.emitter.trigger("eventRemove",p);let b=y.defs[d.defId],w=y.instances[f.instanceId],_=new We(c,b,w);c.dispatch({type:"MERGE_EVENTS",eventStore:y});let R={event:_,relatedEvents:Co(y,c,w),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};c.emitter.trigger("eventAdd",R),s.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},VD(v.dateSpan,c)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},R),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new hc(e.el);i.pointer.selector=pc.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Yf(this.dragging,Cg);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Wn(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}pc.SELECTOR=".fc-event-draggable, .fc-event-resizable";function iB(t,e,n,r){let i=t.dateSpan,o=e.dateSpan,s=i.range.start,a=o.range.start,l={};i.allDay!==o.allDay&&(l.allDay=o.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?s=Ue(n):s=n);let c=Cs(s,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of r)d(u,t,e);return u}function oB(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class sB extends ma{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:s}=this,a=this.querySegEl(o),l=ta(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=o=>{let{context:s}=this.component,a=this.eventRange;this.relevantEvents=yy(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(o);this.draggingSegEl=l,this.draggingSeg=ta(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new We(s,a.def,a.instance),jsEvent:o.origEvent,view:s.viewApi})},this.handleHitUpdate=(o,s,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,m=!1,y={affectedEvents:c,mutatedEvents:Wn(),isEvent:!0};o&&(o.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,o)||(f=aB(u,o,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=Ey(c,l.getCurrentData().eventUiBases,f,l),y.mutatedEvents=h,dD(y,o.dateProfile,l)||(m=!0,f=null,h=null,y.mutatedEvents=null)),h?l.dispatch({type:"SET_EVENT_RESIZE",state:y}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?ay():ly(),s||(f&&qf(u,o)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=o=>{let{context:s}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new We(s,a,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:o.origEvent,view:s.viewApi}),this.validMutation){let f=new We(s,d.defs[a.defId],l?d.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:c,event:f,relatedEvents:Co(d,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:u})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||De(0),endDelta:this.validMutation.endDelta||De(0),jsEvent:o.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",h)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new hc(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Yf(this.dragging,Sy(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Mt(e.subjectEl,".fc-event")}}function aB(t,e,n,r){let i=t.context.dateEnv,o=t.dateSpan.range.start,s=e.dateSpan.range.start,a=Cs(o,s,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class lB{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,o=Ox(r.origEvent);this.matchesCancel=!!Mt(o,i),this.matchesEvent=!!Mt(o,pc.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:o}=this,s=i.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new LD(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const cB={fixedMirrorParent:F},uB={dateClick:F,eventDragStart:F,eventDragStop:F,eventDrop:F,eventResizeStart:F,eventResizeStop:F,eventResize:F,drop:F,eventReceive:F,eventLeave:F};Dy.dataAttrPrefix="";var dB=qi({name:"@fullcalendar/interaction",componentInteractions:[eB,tB,pc,sB],calendarInteractions:[lB],elementDraggingImpl:hc,optionRefiners:cB,listenerRefiners:uB}),fB={code:"ko",buttonText:{prev:"이전달",next:"다음달",today:"오늘",year:"년도",month:"월",week:"주",day:"일",list:"일정목록"},weekText:"주",allDayText:"종일",moreLinkText:"개",noEventsText:"일정이 없습니다"};const Ty=ry(t=>({events:[],setEvents:e=>t({events:e}),selectedDate:null,setSelectedDate:e=>t({selectedDate:e}),eventData:null,setEventData:e=>t({eventData:e}),showScheduleList:!0,setShowScheduleList:e=>t({showScheduleList:e})}));function HD({onDateClick:t,height:e="550px"}){const{events:n,setEvents:r,setSelectedDate:i,setEventData:o}=Ty(),s=l=>{const c=l.getFullYear(),u=l.getMonth()+1,d=l.getDate();return`${c}년 ${u}월 ${d}일`};L.useEffect(()=>{(async()=>{try{const c=await fetch("/api/events");if(!c.ok)throw new Error("Network response was not ok");const u=await c.json();r(u);const d=new Date,f=s(d);i(f);const h=d.toISOString().split("T")[0],m=u.filter(y=>{const v=new Date(y.start).toISOString().split("T")[0],p=new Date(y.end||y.start).toISOString().split("T")[0];return h>=v&&h<=p});o(m.length>0?m:null)}catch(c){console.error("Error fetching events:",c)}})()},[r,i,o]);const a=l=>{const c=new Date(l.dateStr),u=s(c);i(u);const d=n.filter(f=>{const h=new Date(f.start).toISOString().split("T")[0],m=new Date(f.end||f.start).toISOString().split("T")[0];return l.dateStr>=h&&l.dateStr<=m});o(d.length>0?d:null),t&&t()};return g.jsx("div",{children:g.jsx(kD,{plugins:[WF,dB],initialView:"dayGridMonth",locale:fB,firstDay:0,weekends:!0,fixedWeekCount:!1,height:e,customButtons:{createButton:{text:"일정 추가하기"}},selectable:!0,headerToolbar:{start:"title",end:"today, prev,next"},eventTextColor:"#fff",titleFormat:function(l){const c=l.date.year,u=l.date.month+1;return`${c}년 ${u}월`},dayCellContent:l=>l.date.getDate().toString(),dateClick:a,events:n})})}const hB=()=>{const{selectedDate:t,eventData:e}=Ty(),n=tt(),r=()=>{n("/albums")},i=()=>{n("/paintdiary")},o=()=>{n("/schedule/list")};return g.jsxs(g.Fragment,{children:[g.jsx("h1",{className:"title-style",children:t}),g.jsxs("section",{className:"flex justify-between mt-8",children:[g.jsxs("button",{className:"half-pre-box",onClick:r,children:[g.jsx("div",{children:"앨범"}),g.jsx("div",{children:g.jsx("img",{src:"#",alt:"앨범 이미지"})}),g.jsx("button",{children:"앨범 페이지 이동"})]}),g.jsxs("button",{className:"half-pre-box",onClick:i,children:[g.jsx("div",{children:"그림일기"}),g.jsxs("div",{children:[g.jsx("img",{src:"#",alt:"그림일기 이미지"}),g.jsx("button",{children:"그림일기 페이지 이동"})]})]})]}),g.jsxs("section",{className:"pre-box mt-8",children:[g.jsx("div",{children:"일정"}),g.jsx("button",{onClick:o,children:"더보기"}),t&&g.jsx("div",{className:"schedule-list",children:e?e.map((s,a)=>g.jsx("div",{children:g.jsxs("p",{children:[g.jsx("div",{className:"circle-color"}),s.title]})},a)):g.jsx("p",{children:"해당 날짜에 이벤트가 없습니다."})})]})]})},mc=t=>{const e=tt(),n=()=>{e(t.path)};return t.name==="삭제"?g.jsx("button",{onClick:n,className:"red-font white-btn common-btn",children:t.name}):g.jsxs("button",{onClick:n,className:"list-btn common-btn gap-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",viewBox:"0 0 8 14",fill:"none",children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.03592 7L8 12.8335L6.80735 14L0.246953 7.58326C0.0888289 7.42856 0 7.21876 0 7C0 6.78124 0.0888289 6.57144 0.246953 6.41673L6.80735 0L8 1.16653L2.03592 7Z",fill:"#777777"})}),t.name]})},pB=t=>{const e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return`${e}년 ${n}월 ${r}일`},mB=()=>{const{events:t,selectedDate:e,setSelectedDate:n,eventData:r,setEventData:i}=Ty(),o=tt();L.useEffect(()=>{const a=new Date,l=pB(a);n(l);const c=a.toLocaleDateString("sv-SE"),u=t.filter(d=>{const f=new Date(d.start).toLocaleDateString("sv-SE"),h=new Date(d.end||d.start).toLocaleDateString("sv-SE");return c>=f&&c<=h});i(u.length>0?u:null)},[t,n,i]);const s=()=>{o("/schedule/new")};return g.jsxs("div",{className:"schedule-box",children:[g.jsxs("section",{className:"flex justify-between",children:[g.jsx(mc,{name:"이전",path:"/schedule"}),g.jsx("button",{className:"plus-btn",onClick:s,children:"+"})]}),e&&g.jsxs("div",{className:"schedule-list",children:[g.jsx("p",{children:e})," ",r?r.map((a,l)=>g.jsx("div",{children:g.jsxs("p",{children:[g.jsx("div",{className:"circle-color"}),a.title]})},l)):g.jsx("p",{children:"해당 날짜에 이벤트가 없습니다."})]})]})},Rg=t=>{const e=tt(),n=Yi(o=>o.setToken),r=()=>{e(t.path)},i=()=>{localStorage.removeItem("token"),n(null),e(t.path)};return t.name=="로그아웃"?g.jsx("button",{onClick:i,className:"rounded-md gray-btn common-btn",children:t.name}):t.name=="설정"?g.jsx("button",{onClick:r,className:"setting rounded-md gray-btn common-btn",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",children:g.jsx("path",{d:"M16.6931 2.311C15.813 2.11466 14.9148 2.01044 14.0131 2C13.0904 2.01067 12.1891 2.11433 11.3091 2.311C11.121 2.35261 10.9508 2.4522 10.8223 2.59573C10.6938 2.73926 10.6137 2.91948 10.5931 3.111L10.3841 4.988C10.3541 5.25275 10.2626 5.50681 10.1169 5.72984C9.97111 5.95288 9.77517 6.1387 9.54473 6.27244C9.31429 6.40618 9.05574 6.48411 8.78978 6.50001C8.52382 6.51591 8.25782 6.46933 8.01309 6.364L6.29309 5.607C6.11851 5.53014 5.92435 5.50945 5.73749 5.54779C5.55063 5.58613 5.3803 5.6816 5.25009 5.821C4.00617 7.15208 3.07999 8.74769 2.54109 10.488C2.48371 10.6712 2.48506 10.8677 2.54495 11.0501C2.60485 11.2324 2.72028 11.3915 2.87509 11.505L4.40209 12.63C4.61706 12.7879 4.79185 12.9942 4.91232 13.2322C5.03279 13.4702 5.09556 13.7332 5.09556 14C5.09556 14.2668 5.03279 14.5298 4.91232 14.7678C4.79185 15.0058 4.61706 15.2121 4.40209 15.37L2.87509 16.498C2.72048 16.6114 2.60518 16.7703 2.54529 16.9525C2.48541 17.1346 2.48394 17.331 2.54109 17.514C3.07999 19.2554 4.00536 20.8524 5.24809 22.186C5.37819 22.3256 5.54845 22.4212 5.73532 22.4598C5.92219 22.4983 6.11641 22.4777 6.29109 22.401L8.01909 21.642C8.26251 21.5362 8.52731 21.4889 8.7923 21.5038C9.05729 21.5188 9.3151 21.5955 9.54509 21.728C10.0111 21.998 10.3221 22.473 10.3831 23.009L10.5911 24.886C10.6116 25.0749 10.69 25.2529 10.8157 25.3954C10.9414 25.538 11.1082 25.6381 11.2931 25.682C13.0726 26.1051 14.9266 26.1051 16.7061 25.682C16.891 25.6381 17.0577 25.538 17.1834 25.3954C17.3091 25.2529 17.3876 25.0749 17.4081 24.886L17.6161 23.006C17.6443 22.7411 17.7346 22.4866 17.8798 22.2632C18.0249 22.0397 18.2207 21.8537 18.4512 21.7202C18.6818 21.5867 18.9406 21.5095 19.2066 21.4949C19.4726 21.4802 19.7383 21.5286 19.9821 21.636L21.7091 22.395C21.8838 22.4717 22.078 22.4923 22.2649 22.4538C22.4517 22.4152 22.622 22.3196 22.7521 22.18C23.9942 20.8479 24.9195 19.2526 25.4591 17.513C25.5165 17.3298 25.5151 17.1333 25.4552 16.9509C25.3953 16.7686 25.2799 16.6095 25.1251 16.496L23.6001 15.37C23.3851 15.2121 23.2102 15.0059 23.0896 14.7679C22.9691 14.53 22.9062 14.267 22.9061 14.0003C22.906 13.7335 22.9687 13.4705 23.0891 13.2324C23.2095 12.9944 23.3842 12.788 23.5991 12.63L25.1241 11.503C25.2785 11.3894 25.3936 11.2305 25.4533 11.0483C25.513 10.8662 25.5143 10.6699 25.4571 10.487C24.9185 8.74678 23.9926 7.15118 22.7491 5.82C22.6189 5.6806 22.4486 5.58513 22.2617 5.54679C22.0748 5.50845 21.8807 5.52914 21.7061 5.606L19.9861 6.363C19.7718 6.45732 19.5403 6.50635 19.3061 6.507C18.8871 6.50645 18.4831 6.3512 18.1716 6.07105C17.86 5.79089 17.6629 5.40556 17.6181 4.989L17.4081 3.11C17.3874 2.91893 17.3075 2.73912 17.1794 2.59582C17.0514 2.45252 16.8806 2.35292 16.6931 2.311ZM14.0001 18C12.9392 18 11.9218 17.5786 11.1717 16.8284C10.4215 16.0783 10.0001 15.0609 10.0001 14C10.0001 12.9391 10.4215 11.9217 11.1717 11.1716C11.9218 10.4214 12.9392 10 14.0001 10C15.061 10 16.0784 10.4214 16.8285 11.1716C17.5787 11.9217 18.0001 12.9391 18.0001 14C18.0001 15.0609 17.5787 16.0783 16.8285 16.8284C16.0784 17.5786 15.061 18 14.0001 18Z",fill:"white"})})}):g.jsx("button",{onClick:r,className:"gray-btn common-btn",children:t.name})},gB=()=>g.jsxs("div",{children:[g.jsxs("section",{className:"flex justify-between",children:[g.jsx(mc,{name:"목록",path:"/schedule/list"}),g.jsx(Rg,{name:"수정",path:"/schedule/edit/:scheduleId"})]}),g.jsxs("section",{children:[g.jsxs("div",{children:[g.jsx("label",{children:"제목"}),g.jsx("p",{})]}),g.jsxs("div",{children:[g.jsx("label",{children:"장소"}),g.jsx("p",{})]}),g.jsxs("div",{children:[g.jsx("label",{children:"일시"}),g.jsx("p",{})]}),g.jsxs("div",{children:[g.jsx("label",{children:"가족"}),g.jsx("p",{})]}),g.jsxs("div",{children:[g.jsx("label",{children:"알림"}),g.jsx("p",{})]})]})]}),vB=()=>g.jsxs("div",{children:[g.jsxs("section",{className:"flex justify-between",children:[g.jsx(mc,{name:"목록",path:"/schedule/list"}),g.jsx($r,{name:"등록",path:"/schedule/detail/:scheduleId"})]}),g.jsxs("section",{children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"제목"}),g.jsx("input",{id:"title",type:"text",placeholder:"제목"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"place",children:"장소"}),g.jsx("input",{id:"place",type:"text",placeholder:"장소"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"date",children:"일시"}),g.jsx("input",{id:"date",type:"text",placeholder:"일시"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"family",children:"가족"}),g.jsx("input",{id:"family",type:"text",placeholder:"가족"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"alert",children:"메모"}),g.jsx("input",{id:"content",type:"text",placeholder:"메모할 내용을 입력하세요"})]})]})]}),yB=()=>g.jsxs("div",{children:[g.jsxs("section",{className:"flex justify-between",children:[g.jsx(mc,{name:"목록",path:"/schedule/list"}),g.jsx($r,{name:"등록",path:"/schedule/detail/:scheduleId"})]}),g.jsxs("section",{children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"제목"}),g.jsx("input",{id:"title",type:"text",placeholder:"제목"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"place",children:"장소"}),g.jsx("input",{id:"place",type:"text",placeholder:"장소"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"date",children:"일시"}),g.jsx("input",{id:"date",type:"text",placeholder:"일시"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"family",children:"가족"}),g.jsx("input",{id:"family",type:"text",placeholder:"가족"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"alert",children:"알림"}),g.jsx("input",{id:"alert",type:"text",placeholder:"알림"})]})]})]}),bB=()=>g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"half-feature-box p-[20px] schedule-page",children:g.jsx(HD,{})}),g.jsx("div",{className:"half-feature-box items-center p-[20px]",children:g.jsxs(lc,{children:[g.jsx(he,{path:"",element:g.jsx(hB,{})}),g.jsx(he,{path:"list/year-month-day",element:g.jsx(mB,{})}),g.jsx(he,{path:"detail/:scheduleId",element:g.jsx(gB,{})}),g.jsx(he,{path:"new",element:g.jsx(vB,{})}),g.jsx(he,{path:"edit/:scheduleId",element:g.jsx(yB,{})})]})})]}),wB=()=>g.jsx("div",{className:"feature-box",children:g.jsx("h1",{children:"편지함"})}),EB=()=>{const t=tt(),[e,n]=L.useState([]);return L.useEffect(()=>{const r=JSON.parse(localStorage.getItem("posts")||"[]");n(r)},[]),g.jsx("div",{className:"relative w-[911px] h-[576px]",children:e.length===24?g.jsxs("div",{className:"absolute left-0 top-0 w-[911px] h-[576px] shadow-[0_0_15px_rgba(153,153,153,0.25)] rounded-xl",children:[g.jsx("div",{className:"absolute left-0 right-0 top-0 bottom-0 bg-[#fff] rounded-[20px]"}),g.jsx("div",{className:"absolute left-[764px] top-[23px]",children:g.jsx($r,{name:"만들기",path:"/albums/upload"})}),g.jsx("div",{className:"absolute left-[32px] top-[31px] text-[20px] font-['Pretendard'] font-semibold text-[#333]",children:"앨범"}),g.jsxs("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2 text-[30px] font-['Pretendard'] font-light text-[#8e8e8e] text-center",children:["아직 앨범이 없어요!",g.jsx("br",{}),"앨범을 만들러 가볼까요?"]})]}):g.jsxs("div",{className:"feature-box w-full h-full flex flex-col p-[10px] bg-[#fff] rounded-[20px] overflow-hidden",children:[g.jsxs("div",{className:"header flex items-center justify-between mb-10",children:[g.jsx("h1",{children:"사진 앨범"}),g.jsx("button",{className:"common-btn",onClick:()=>t("/albums/upload"),children:"등록"})]}),g.jsx("div",{className:"feature-box-content w-full flex flex-col items-center justify-center gap-[31px] py-[21px] px-[19px]",children:g.jsx("div",{className:"albums-container",children:e.map((r,i)=>r.photos&&r.photos.length>0&&g.jsxs(ls,{to:`/albums/${i}`,className:"album-item",children:[g.jsx("img",{src:r.photos[0].imgSrc,alt:`Image ${i+1}`}),g.jsx("div",{className:"album-item-date",children:r.date}),g.jsx("div",{className:"album-item-title",children:r.title})]},i))})})]})})},SB=()=>{const{photoId:t}=kI(),[e,n]=L.useState(null),r=tt();L.useEffect(()=>{const o=JSON.parse(localStorage.getItem("posts")||"[]"),s=parseInt(t||"0",10);!isNaN(s)&&s>=0&&s<o.length&&n(o[s])},[t]);const i=()=>{if(e){const o=JSON.parse(localStorage.getItem("posts")||"[]"),s=parseInt(t||"0",10),a=o.filter((l,c)=>c!==s);localStorage.setItem("posts",JSON.stringify(a)),r("/albums")}};return e?g.jsx("div",{className:"feature-box",children:g.jsxs("div",{className:"album-detail",children:[g.jsx("h1",{children:e.date}),g.jsx("button",{className:"delete-btn",onClick:i,children:"삭제"}),g.jsx("div",{className:"photos-container",children:e.photos.map((o,s)=>g.jsxs("div",{className:"photo-container",children:[g.jsx("img",{src:o.imgSrc,alt:`Photo ${s+1}`,className:"photo-img"}),g.jsx("p",{children:o.text})]},s))})]})}):g.jsx("div",{children:"Loading..."})};function UD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UD(t))&&(r&&(r+=" "),r+=e);return r}function CB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Og(t,e)}function Og(t,e){return Og=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Og(t,e)}function _B(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xB(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function DB(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&xB(t,e,n))return!0;t=t.parentNode||t.host}return t}function kB(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var RB=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function OB(t){return t===void 0&&(t=0),function(){return++t}}var TB=OB(),Tg,gu={},Dp={},AB=["touchstart","touchmove"],IB="ignore-react-onclickoutside";function o0(t,e){var n={},r=AB.indexOf(e)!==-1;return r&&Tg&&(n.passive=!t.props.preventDefault),n}function Qf(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(o){CB(s,o);function s(l){var c;return c=o.call(this,l)||this,c.__outsideClickHandler=function(u){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(u);return}var d=c.getInstance();if(typeof d.props.handleClickOutside=="function"){d.props.handleClickOutside(u);return}if(typeof d.handleClickOutside=="function"){d.handleClickOutside(u);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var u=c.getInstance();return typeof u.setClickOutsideRef=="function"?u.setClickOutsideRef():Io.findDOMNode(u)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||Dp[c._uid])){typeof Tg>"u"&&(Tg=RB()),Dp[c._uid]=!0;var u=c.props.eventTypes;u.forEach||(u=[u]),gu[c._uid]=function(d){if(c.componentNode!==null&&!(c.initTimeStamp>d.timeStamp)&&(c.props.preventDefault&&d.preventDefault(),c.props.stopPropagation&&d.stopPropagation(),!(c.props.excludeScrollbar&&kB(d)))){var f=d.composed&&d.composedPath&&d.composedPath().shift()||d.target;DB(f,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(d)}},u.forEach(function(d){document.addEventListener(d,gu[c._uid],o0(i0(c),d))})}},c.disableOnClickOutside=function(){delete Dp[c._uid];var u=gu[c._uid];if(u&&typeof document<"u"){var d=c.props.eventTypes;d.forEach||(d=[d]),d.forEach(function(f){return document.removeEventListener(f,u,o0(i0(c),f))}),delete gu[c._uid]}},c.getRef=function(u){return c.instanceRef=u},c._uid=TB(),c.initTimeStamp=performance.now(),c}var a=s.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var u=_B(c,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?u.ref=this.getRef:u.wrappedRef=this.getRef,u.disableOnClickOutside=this.disableOnClickOutside,u.enableOnClickOutside=this.enableOnClickOutside,L.createElement(t,u)},s}(L.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:IB,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function te(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ae(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Gi(t,e){const n=te(t);return isNaN(e)?Ae(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ay(t,e){const n=+te(t);return Ae(t,n+e)}const WD=6048e5,NB=864e5,Gf=6e4,Xf=36e5,PB=1e3;function MB(t,e){return Ay(t,e*Xf)}function Ag(t,e){return Ay(t,e*Gf)}function zn(t,e){const n=te(t);if(isNaN(e))return Ae(t,NaN);if(!e)return n;const r=n.getDate(),i=Ae(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Iy(t,e){const n=e*3;return zn(t,n)}function LB(t,e){return Ay(t,e*1e3)}function Qd(t,e){const n=e*7;return Gi(t,n)}function Ar(t,e){return zn(t,e*12)}function Lo(t){const e=te(t);return e.setHours(0,0,0,0),e}function Gd(t){const e=te(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $l(t,e){const n=Lo(t),r=Lo(e),i=+n-Gd(n),o=+r-Gd(r);return Math.round((i-o)/NB)}function Xd(t,e){const n=te(t),r=te(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function _o(t){const e=te(t);return Math.trunc(e.getMonth()/3)+1}function Kd(t,e){const n=te(t),r=te(e),i=n.getFullYear()-r.getFullYear(),o=_o(n)-_o(r);return i*4+o}function Jd(t,e){const n=te(t),r=te(e);return n.getFullYear()-r.getFullYear()}function $D(t){const e=te(t);return e.setHours(23,59,59,999),e}function jB(t){const e=te(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}let FB={};function qo(){return FB}function BB(t,e){var a,l;const n=qo(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=te(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function zD(t){const e=te(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}const VB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HB=(t,e,n)=>{let r;const i=VB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const UB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$B={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zB={date:kp({formats:UB,defaultWidth:"full"}),time:kp({formats:WB,defaultWidth:"full"}),dateTime:kp({formats:$B,defaultWidth:"full"})},YB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qB=(t,e,n,r)=>YB[t];function Fa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const QB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t4={ordinalNumber:e4,era:Fa({values:QB,defaultWidth:"wide"}),quarter:Fa({values:GB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fa({values:XB,defaultWidth:"wide"}),day:Fa({values:KB,defaultWidth:"wide"}),dayPeriod:Fa({values:JB,defaultWidth:"wide",formattingValues:ZB,defaultFormattingWidth:"wide"})};function Ba(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?r4(a,d=>d.test(s)):n4(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function n4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function r4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function i4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const o4=/^(\d+)(th|st|nd|rd)?/i,s4=/\d+/i,a4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l4={any:[/^b/i,/^(a|c)/i]},c4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u4={any:[/1/i,/2/i,/3/i,/4/i]},d4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v4={ordinalNumber:i4({matchPattern:o4,parsePattern:s4,valueCallback:t=>parseInt(t,10)}),era:Ba({matchPatterns:a4,defaultMatchWidth:"wide",parsePatterns:l4,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:c4,defaultMatchWidth:"wide",parsePatterns:u4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ba({matchPatterns:d4,defaultMatchWidth:"wide",parsePatterns:f4,defaultParseWidth:"any"}),day:Ba({matchPatterns:h4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:m4,defaultMatchWidth:"any",parsePatterns:g4,defaultParseWidth:"any"})},YD={code:"en-US",formatDistance:HB,formatLong:zB,formatRelative:qB,localize:t4,match:v4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kf(t){const e=te(t),n=Ae(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function y4(t){const e=te(t);return $l(e,Kf(e))+1}function Hr(t,e){var a,l,c,u;const n=qo(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=te(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function na(t){return Hr(t,{weekStartsOn:1})}function qD(t){const e=te(t),n=e.getFullYear(),r=Ae(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=na(r),o=Ae(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=na(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function b4(t){const e=qD(t),n=Ae(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),na(n)}function Ny(t){const e=te(t),n=+na(e)-+b4(e);return Math.round(n/WD)+1}function Py(t,e){var u,d,f,h;const n=te(t),r=n.getFullYear(),i=qo(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=Ae(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Hr(s,e),l=Ae(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=Hr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function w4(t,e){var a,l,c,u;const n=qo(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=Py(t,e),o=Ae(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Hr(o,e)}function QD(t,e){const n=te(t),r=+Hr(n,e)-+w4(n,e);return Math.round(r/WD)+1}function Te(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Kr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Te(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Te(n+1,2)},d(t,e){return Te(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Te(t.getHours()%12||12,e.length)},H(t,e){return Te(t.getHours(),e.length)},m(t,e){return Te(t.getMinutes(),e.length)},s(t,e){return Te(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Te(i,e.length)}},ns={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},s0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Kr.y(t,e)},Y:function(t,e,n,r){const i=Py(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Te(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Te(o,e.length)},R:function(t,e){const n=qD(t);return Te(n,e.length)},u:function(t,e){const n=t.getFullYear();return Te(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Te(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Kr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=QD(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Te(i,e.length)},I:function(t,e,n){const r=Ny(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Te(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Kr.d(t,e)},D:function(t,e,n){const r=y4(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Te(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Te(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Te(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ns.noon:r===0?i=ns.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ns.evening:r>=12?i=ns.afternoon:r>=4?i=ns.morning:i=ns.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Kr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Kr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Kr.s(t,e)},S:function(t,e){return Kr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return l0(r);case"XXXX":case"XX":return oo(r);case"XXXXX":case"XXX":default:return oo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return l0(r);case"xxxx":case"xx":return oo(r);case"xxxxx":case"xxx":default:return oo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+a0(r,":");case"OOOO":default:return"GMT"+oo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+a0(r,":");case"zzzz":default:return"GMT"+oo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Te(r,e.length)},T:function(t,e,n){const r=t.getTime();return Te(r,e.length)}};function a0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Te(o,2)}function l0(t,e){return t%60===0?(t>0?"-":"+")+Te(Math.abs(t)/60,2):oo(t,e)}function oo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Te(Math.trunc(r/60),2),o=Te(r%60,2);return n+i+e+o}const c0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},E4=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return c0(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",c0(r,e)).replace("{{time}}",GD(i,e))},Zd={p:GD,P:E4},S4=/^D+$/,C4=/^Y+$/,_4=["D","DD","YY","YYYY"];function XD(t){return S4.test(t)}function KD(t){return C4.test(t)}function Ig(t,e,n){const r=x4(t,e,n);if(console.warn(r),_4.includes(t))throw new RangeError(r)}function x4(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Ir(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ef(t){if(!Ir(t)&&typeof t!="number")return!1;const e=te(t);return!isNaN(Number(e))}const D4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R4=/^'([^]*?)'?$/,O4=/''/g,T4=/[a-zA-Z]/;function u0(t,e,n){var u,d,f,h,m,y,v,p;const r=qo(),i=(n==null?void 0:n.locale)??r.locale??YD,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((p=(v=r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??0,a=te(t);if(!ef(a))throw new RangeError("Invalid time value");let l=e.match(k4).map(b=>{const w=b[0];if(w==="p"||w==="P"){const _=Zd[w];return _(b,i.formatLong)}return b}).join("").match(D4).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:A4(b)};if(s0[w])return{isToken:!0,value:b};if(w.match(T4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&KD(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&XD(w))&&Ig(w,e,String(t));const _=s0[w[0]];return _(a,w,i.localize,c)}).join("")}function A4(t){const e=t.match(R4);return e?e[1].replace(O4,"'"):t}function d0(t){return te(t).getDate()}function I4(t){return te(t).getDay()}function pr(t){return te(t).getHours()}function mr(t){return te(t).getMinutes()}function Qt(t){return te(t).getMonth()}function Nr(t){return te(t).getSeconds()}function Ng(t){return te(t).getTime()}function pe(t){return te(t).getFullYear()}function Fi(t,e){const n=te(t),r=te(e);return n.getTime()>r.getTime()}function jo(t,e){const n=te(t),r=te(e);return+n<+r}function N4(t,e){const n=te(t),r=te(e);return+n==+r}function P4(t,e){const n=Lo(t),r=Lo(e);return+n==+r}function M4(t,e){const n=te(t),r=te(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Pg(t){const e=te(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function L4(t,e){const n=Pg(t),r=Pg(e);return+n==+r}function j4(t,e){const n=te(t),r=te(e);return n.getFullYear()===r.getFullYear()}function zl(t,e){const n=+te(t),[r,i]=[+te(e.start),+te(e.end)].sort((o,s)=>o-s);return n>=r&&n<=i}function f0(t){let e;return t.forEach(function(n){const r=te(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function h0(t){let e;return t.forEach(n=>{const r=te(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function F4(){return Object.assign({},qo())}function B4(t,e){const n=e instanceof Date?Ae(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const V4=10;class JD{constructor(){ee(this,"subPriority",0)}validate(e,n){return!0}}class H4 extends JD{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class U4 extends JD{constructor(){super(...arguments);ee(this,"priority",V4);ee(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ae(n,B4(n,Date))}}let Re=class{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new H4(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}};class W4 extends Re{constructor(){super(...arguments);ee(this,"priority",140);ee(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},lr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function st(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ye(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function cr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*Xf+o*Gf+s*PB),rest:e.slice(n[0].length)}}function ZD(t){return Ye(ot.anyDigitsSigned,t)}function et(t,e){switch(t){case 1:return Ye(ot.singleDigit,e);case 2:return Ye(ot.twoDigits,e);case 3:return Ye(ot.threeDigits,e);case 4:return Ye(ot.fourDigits,e);default:return Ye(new RegExp("^\\d{1,"+t+"}"),e)}}function tf(t,e){switch(t){case 1:return Ye(ot.singleDigitSigned,e);case 2:return Ye(ot.twoDigitsSigned,e);case 3:return Ye(ot.threeDigitsSigned,e);case 4:return Ye(ot.fourDigitsSigned,e);default:return Ye(new RegExp("^-?\\d{1,"+t+"}"),e)}}function My(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ek(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function tk(t){return t%400===0||t%4===0&&t%100!==0}class $4 extends Re{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return st(et(4,n),o);case"yo":return st(i.ordinalNumber(n,{unit:"year"}),o);default:return st(et(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=ek(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class z4 extends Re{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return st(et(4,n),o);case"Yo":return st(i.ordinalNumber(n,{unit:"year"}),o);default:return st(et(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=Py(n,o);if(i.isTwoDigitYear){const l=ek(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Hr(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Hr(n,o)}}class Y4 extends Re{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return tf(r==="R"?4:r.length,n)}set(n,r,i){const o=Ae(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),na(o)}}class q4 extends Re{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return tf(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Q4 extends Re{constructor(){super(...arguments);ee(this,"priority",120);ee(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return et(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class G4 extends Re{constructor(){super(...arguments);ee(this,"priority",120);ee(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return et(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class X4 extends Re{constructor(){super(...arguments);ee(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ee(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return st(Ye(ot.month,n),o);case"MM":return st(et(2,n),o);case"Mo":return st(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class K4 extends Re{constructor(){super(...arguments);ee(this,"priority",110);ee(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return st(Ye(ot.month,n),o);case"LL":return st(et(2,n),o);case"Lo":return st(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function J4(t,e,n){const r=te(t),i=QD(r,n)-e;return r.setDate(r.getDate()-i*7),r}class Z4 extends Re{constructor(){super(...arguments);ee(this,"priority",100);ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ye(ot.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return et(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Hr(J4(n,i,o),o)}}function eV(t,e){const n=te(t),r=Ny(n)-e;return n.setDate(n.getDate()-r*7),n}class tV extends Re{constructor(){super(...arguments);ee(this,"priority",100);ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ye(ot.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return et(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return na(eV(n,i))}}const nV=[31,28,31,30,31,30,31,31,30,31,30,31],rV=[31,29,31,30,31,30,31,31,30,31,30,31];class iV extends Re{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"subPriority",1);ee(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ye(ot.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return et(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=tk(i),s=n.getMonth();return o?r>=1&&r<=rV[s]:r>=1&&r<=nV[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class oV extends Re{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"subpriority",1);ee(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ye(ot.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return et(r.length,n)}}validate(n,r){const i=n.getFullYear();return tk(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Ly(t,e,n){var d,f,h,m;const r=qo(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,o=te(t),s=o.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return Gi(o,u)}class sV extends Re{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Ly(n,i,o),n.setHours(0,0,0,0),n}}class aV extends Re{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return st(et(r.length,n),s);case"eo":return st(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Ly(n,i,o),n.setHours(0,0,0,0),n}}class lV extends Re{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return st(et(r.length,n),s);case"co":return st(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Ly(n,i,o),n.setHours(0,0,0,0),n}}function cV(t){let n=te(t).getDay();return n===0&&(n=7),n}function uV(t,e){const n=te(t),r=cV(n),i=e-r;return Gi(n,i)}class dV extends Re{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return et(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return st(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return st(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return st(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return st(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=uV(n,i),n.setHours(0,0,0,0),n}}class fV extends Re{constructor(){super(...arguments);ee(this,"priority",80);ee(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(My(i),0,0,0),n}}class hV extends Re{constructor(){super(...arguments);ee(this,"priority",80);ee(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(My(i),0,0,0),n}}class pV extends Re{constructor(){super(...arguments);ee(this,"priority",80);ee(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(My(i),0,0,0),n}}class mV extends Re{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ye(ot.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return et(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class gV extends Re{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ye(ot.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return et(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class vV extends Re{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ye(ot.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return et(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class yV extends Re{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ye(ot.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return et(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class bV extends Re{constructor(){super(...arguments);ee(this,"priority",60);ee(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ye(ot.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return et(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class wV extends Re{constructor(){super(...arguments);ee(this,"priority",50);ee(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ye(ot.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return et(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class EV extends Re{constructor(){super(...arguments);ee(this,"priority",30);ee(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return st(et(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class SV extends Re{constructor(){super(...arguments);ee(this,"priority",10);ee(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return cr(lr.basicOptionalMinutes,n);case"XX":return cr(lr.basic,n);case"XXXX":return cr(lr.basicOptionalSeconds,n);case"XXXXX":return cr(lr.extendedOptionalSeconds,n);case"XXX":default:return cr(lr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ae(n,n.getTime()-Gd(n)-i)}}class CV extends Re{constructor(){super(...arguments);ee(this,"priority",10);ee(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return cr(lr.basicOptionalMinutes,n);case"xx":return cr(lr.basic,n);case"xxxx":return cr(lr.basicOptionalSeconds,n);case"xxxxx":return cr(lr.extendedOptionalSeconds,n);case"xxx":default:return cr(lr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ae(n,n.getTime()-Gd(n)-i)}}class _V extends Re{constructor(){super(...arguments);ee(this,"priority",40);ee(this,"incompatibleTokens","*")}parse(n){return ZD(n)}set(n,r,i){return[Ae(n,i*1e3),{timestampIsSet:!0}]}}class xV extends Re{constructor(){super(...arguments);ee(this,"priority",20);ee(this,"incompatibleTokens","*")}parse(n){return ZD(n)}set(n,r,i){return[Ae(n,i),{timestampIsSet:!0}]}}const DV={G:new W4,y:new $4,Y:new z4,R:new Y4,u:new q4,Q:new Q4,q:new G4,M:new X4,L:new K4,w:new Z4,I:new tV,d:new iV,D:new oV,E:new sV,e:new aV,c:new lV,i:new dV,a:new fV,b:new hV,B:new pV,h:new mV,H:new gV,K:new vV,k:new yV,m:new bV,s:new wV,S:new EV,X:new SV,x:new CV,t:new _V,T:new xV},kV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OV=/^'([^]*?)'?$/,TV=/''/g,AV=/\S/,IV=/[a-zA-Z]/;function Rp(t,e,n,r){var y,v,p,b,w,_,R,M;const i=F4(),o=(r==null?void 0:r.locale)??i.locale??YD,s=(r==null?void 0:r.firstWeekContainsDate)??((v=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(p=i.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((M=(R=i.locale)==null?void 0:R.options)==null?void 0:M.weekStartsOn)??0;if(e==="")return t===""?te(n):Ae(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},c=[new U4],u=e.match(RV).map(O=>{const E=O[0];if(E in Zd){const N=Zd[E];return N(O,o.formatLong)}return O}).join("").match(kV),d=[];for(let O of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&KD(O)&&Ig(O,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&XD(O)&&Ig(O,e,t);const E=O[0],N=DV[E];if(N){const{incompatibleTokens:H}=N;if(Array.isArray(H)){const j=d.find(S=>H.includes(S.token)||S.token===E);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${O}\` at the same time`)}else if(N.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);d.push({token:E,fullToken:O});const z=N.run(t,O,o.match,l);if(!z)return Ae(n,NaN);c.push(z.setter),t=z.rest}else{if(E.match(IV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(O==="''"?O="'":E==="'"&&(O=NV(O)),t.indexOf(O)===0)t=t.slice(O.length);else return Ae(n,NaN)}}if(t.length>0&&AV.test(t))return Ae(n,NaN);const f=c.map(O=>O.priority).sort((O,E)=>E-O).filter((O,E,N)=>N.indexOf(O)===E).map(O=>c.filter(E=>E.priority===O).sort((E,N)=>N.subPriority-E.subPriority)).map(O=>O[0]);let h=te(n);if(isNaN(h.getTime()))return Ae(n,NaN);const m={};for(const O of f){if(!O.validate(h,l))return Ae(n,NaN);const E=O.set(h,m,l);Array.isArray(E)?(h=E[0],Object.assign(m,E[1])):h=E}return Ae(n,h)}function NV(t){return t.match(OV)[1].replace(TV,"'")}function PV(t,e){const r=FV(t);let i;if(r.date){const l=BV(r.date,2);i=VV(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=HV(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=UV(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(o+s+a)}const vu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},MV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FV(t){const e={},n=t.split(vu.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],vu.timeZoneDelimiter.test(e.date)&&(e.date=t.split(vu.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=vu.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function BV(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function VV(t,e){if(e===null)return new Date(NaN);const n=t.match(MV);if(!n)return new Date(NaN);const r=!!n[4],i=Va(n[1]),o=Va(n[2])-1,s=Va(n[3]),a=Va(n[4]),l=Va(n[5])-1;if(r)return qV(e,a,l)?WV(e,a,l):new Date(NaN);{const c=new Date(0);return!zV(e,o,s)||!YV(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function Va(t){return t?parseInt(t):1}function HV(t){const e=t.match(LV);if(!e)return NaN;const n=Op(e[1]),r=Op(e[2]),i=Op(e[3]);return QV(n,r,i)?n*Xf+r*Gf+i*1e3:NaN}function Op(t){return t&&parseFloat(t.replace(",","."))||0}function UV(t){if(t==="Z")return 0;const e=t.match(jV);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return GV(r,i)?n*(r*Xf+i*Gf):NaN}function WV(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const $V=[31,null,31,30,31,30,31,31,30,31,30,31];function nk(t){return t%400===0||t%4===0&&t%100!==0}function zV(t,e,n){return e>=0&&e<=11&&n>=1&&n<=($V[e]||(nk(t)?29:28))}function YV(t,e){return e>=1&&e<=(nk(t)?366:365)}function qV(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function QV(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function GV(t,e){return e>=0&&e<=59}function XV(t){const e=te(t),n=e.getFullYear(),r=e.getMonth(),i=Ae(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function un(t,e){const n=te(t),r=n.getFullYear(),i=n.getDate(),o=Ae(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=XV(o);return n.setMonth(e,Math.min(i,s)),n}function KV(t,e){let n=te(t);return isNaN(+n)?Ae(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=un(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function ed(t,e){const n=te(t);return n.setHours(e),n}function td(t,e){const n=te(t);return n.setMinutes(e),n}function us(t,e){const n=te(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return un(n,n.getMonth()+i*3)}function nd(t,e){const n=te(t);return n.setSeconds(e),n}function tr(t,e){const n=te(t);return isNaN(+n)?Ae(t,NaN):(n.setFullYear(e),n)}function rk(t){const e=te(t);return e.setDate(1),e.setHours(0,0,0,0),e}function JV(t,e){return Gi(t,-e)}function ra(t,e){return zn(t,-e)}function ik(t,e){return Iy(t,-e)}function p0(t,e){return Qd(t,-e)}function ia(t,e){return Ar(t,-e)}function ga(t){return ok(t)?(t.nodeName||"").toLowerCase():"#document"}function mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(t){var e;return(e=(ok(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ok(t){return t instanceof Node||t instanceof mn(t).Node}function Gt(t){return t instanceof Element||t instanceof mn(t).Element}function br(t){return t instanceof HTMLElement||t instanceof mn(t).HTMLElement}function m0(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mn(t).ShadowRoot}function gc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=On(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ZV(t){return["table","td","th"].includes(ga(t))}function Jf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jy(t){const e=Fy(),n=Gt(t)?On(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function eH(t){let e=Bi(t);for(;br(e)&&!oa(e);){if(jy(e))return e;if(Jf(e))return null;e=Bi(e)}return null}function Fy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oa(t){return["html","body","#document"].includes(ga(t))}function On(t){return mn(t).getComputedStyle(t)}function Zf(t){return Gt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bi(t){if(ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||m0(t)&&t.host||Yr(t);return m0(e)?e.host:e}function sk(t){const e=Bi(t);return oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:br(e)&&gc(e)?e:sk(e)}function Yl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sk(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=mn(i);if(o){const a=Mg(s);return e.concat(s,s.visualViewport||[],gc(i)?i:[],a&&n?Yl(a):[])}return e.concat(i,Yl(i,[],n))}function Mg(t){return Object.getPrototypeOf(t.parent)?t.frameElement:null}const sa=Math.min,xo=Math.max,nf=Math.round,yu=Math.floor,Vi=t=>({x:t,y:t}),tH={left:"right",right:"left",bottom:"top",top:"bottom"},nH={start:"end",end:"start"};function rH(t,e,n){return xo(t,sa(e,n))}function eh(t,e){return typeof t=="function"?t(e):t}function aa(t){return t.split("-")[0]}function vc(t){return t.split("-")[1]}function iH(t){return t==="x"?"y":"x"}function By(t){return t==="y"?"height":"width"}function ql(t){return["top","bottom"].includes(aa(t))?"y":"x"}function Vy(t){return iH(ql(t))}function oH(t,e,n){n===void 0&&(n=!1);const r=vc(t),i=Vy(t),o=By(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=rf(s)),[s,rf(s)]}function sH(t){const e=rf(t);return[Lg(t),e,Lg(e)]}function Lg(t){return t.replace(/start|end/g,e=>nH[e])}function aH(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function lH(t,e,n,r){const i=vc(t);let o=aH(aa(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Lg)))),o}function rf(t){return t.replace(/left|right|bottom|top/g,e=>tH[e])}function cH(t){return{top:0,right:0,bottom:0,left:0,...t}}function ak(t){return typeof t!="number"?cH(t):{top:t,right:t,bottom:t,left:t}}function of(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function g0(t,e,n){let{reference:r,floating:i}=t;const o=ql(e),s=Vy(e),a=By(s),l=aa(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(vc(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const uH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=g0(c,r,l),f=r,h={},m=0;for(let y=0;y<a.length;y++){const{name:v,fn:p}=a[y],{x:b,y:w,data:_,reset:R}=await p({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=b??u,d=w??d,h={...h,[v]:{...h[v],..._}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:u,y:d}=g0(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function dH(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=eh(e,t),m=ak(h),v=a[f?d==="floating"?"reference":"floating":d],p=of(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},R=of(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(p.top-R.top+m.top)/_.y,bottom:(R.bottom-p.bottom+m.bottom)/_.y,left:(p.left-R.left+m.left)/_.x,right:(R.right-p.right+m.right)/_.x}}const fH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=eh(t,e)||{};if(c==null)return{};const d=ak(u),f={x:n,y:r},h=Vy(i),m=By(h),y=await s.getDimensions(c),v=h==="y",p=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[h]-f[h]-o.floating[m],R=f[h]-o.reference[h],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let O=M?M[w]:0;(!O||!await(s.isElement==null?void 0:s.isElement(M)))&&(O=a.floating[w]||o.floating[m]);const E=_/2-R/2,N=O/2-y[m]/2-1,H=sa(d[p],N),z=sa(d[b],N),j=H,S=O-y[m]-z,k=O/2-y[m]/2+E,A=rH(j,k,S),D=!l.arrow&&vc(i)!=null&&k!==A&&o.reference[m]/2-(k<j?H:z)-y[m]/2<0,C=D?k<j?k-j:k-S:0;return{[h]:f[h]+C,data:{[h]:A,centerOffset:k-A-C,...D&&{alignmentOffset:C}},reset:D}}}),hH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...v}=eh(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const p=aa(i),b=ql(a),w=aa(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=f||(w||!y?[rf(a)]:sH(a)),M=m!=="none";!f&&M&&R.push(...lH(a,y,m,_));const O=[a,...R],E=await dH(e,v),N=[];let H=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&N.push(E[p]),d){const k=oH(i,s,_);N.push(E[k[0]],E[k[1]])}if(H=[...H,{placement:i,overflows:N}],!N.every(k=>k<=0)){var z,j;const k=(((z=o.flip)==null?void 0:z.index)||0)+1,A=O[k];if(A)return{data:{index:k,overflows:H},reset:{placement:A}};let D=(j=H.filter(C=>C.overflows[0]<=0).sort((C,x)=>C.overflows[1]-x.overflows[1])[0])==null?void 0:j.placement;if(!D)switch(h){case"bestFit":{var S;const C=(S=H.filter(x=>{if(M){const T=ql(x.placement);return T===b||T==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(T=>T>0).reduce((T,I)=>T+I,0)]).sort((x,T)=>x[1]-T[1])[0])==null?void 0:S[0];C&&(D=C);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function pH(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=aa(n),a=vc(n),l=ql(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=eh(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const mH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await pH(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function lk(t){const e=On(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=br(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=nf(n)!==o||nf(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Hy(t){return Gt(t)?t:t.contextElement}function Ns(t){const e=Hy(t);if(!br(e))return Vi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=lk(e);let s=(o?nf(n.width):n.width)/r,a=(o?nf(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const gH=Vi(0);function ck(t){const e=mn(t);return!Fy()||!e.visualViewport?gH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mn(t)?!1:e}function Fo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Hy(t);let s=Vi(1);e&&(r?Gt(r)&&(s=Ns(r)):s=Ns(t));const a=vH(o,n,r)?ck(o):Vi(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=mn(o),h=r&&Gt(r)?mn(r):r;let m=f,y=Mg(m);for(;y&&r&&h!==m;){const v=Ns(y),p=y.getBoundingClientRect(),b=On(y),w=p.left+(y.clientLeft+parseFloat(b.paddingLeft))*v.x,_=p.top+(y.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=w,c+=_,m=mn(y),y=Mg(m)}}return of({width:u,height:d,x:l,y:c})}function yH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Yr(r),a=e?Jf(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Vi(1);const u=Vi(0),d=br(r);if((d||!d&&!o)&&((ga(r)!=="body"||gc(s))&&(l=Zf(r)),br(r))){const f=Fo(r);c=Ns(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function bH(t){return Array.from(t.getClientRects())}function uk(t){return Fo(Yr(t)).left+Zf(t).scrollLeft}function wH(t){const e=Yr(t),n=Zf(t),r=t.ownerDocument.body,i=xo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=xo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+uk(t);const a=-n.scrollTop;return On(r).direction==="rtl"&&(s+=xo(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function EH(t,e){const n=mn(t),r=Yr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Fy();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function SH(t,e){const n=Fo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=br(t)?Ns(t):Vi(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function v0(t,e,n){let r;if(e==="viewport")r=EH(t,n);else if(e==="document")r=wH(Yr(t));else if(Gt(e))r=SH(e,n);else{const i=ck(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return of(r)}function dk(t,e){const n=Bi(t);return n===e||!Gt(n)||oa(n)?!1:On(n).position==="fixed"||dk(n,e)}function CH(t,e){const n=e.get(t);if(n)return n;let r=Yl(t,[],!1).filter(a=>Gt(a)&&ga(a)!=="body"),i=null;const o=On(t).position==="fixed";let s=o?Bi(t):t;for(;Gt(s)&&!oa(s);){const a=On(s),l=jy(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gc(s)&&!l&&dk(t,s))?r=r.filter(u=>u!==s):i=a,s=Bi(s)}return e.set(t,r),r}function _H(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Jf(e)?[]:CH(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=v0(e,u,i);return c.top=xo(d.top,c.top),c.right=sa(d.right,c.right),c.bottom=sa(d.bottom,c.bottom),c.left=xo(d.left,c.left),c},v0(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xH(t){const{width:e,height:n}=lk(t);return{width:e,height:n}}function DH(t,e,n){const r=br(e),i=Yr(e),o=n==="fixed",s=Fo(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Vi(0);if(r||!r&&!o)if((ga(e)!=="body"||gc(i))&&(a=Zf(e)),r){const d=Fo(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=uk(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function Tp(t){return On(t).position==="static"}function y0(t,e){return!br(t)||On(t).position==="fixed"?null:e?e(t):t.offsetParent}function fk(t,e){const n=mn(t);if(Jf(t))return n;if(!br(t)){let i=Bi(t);for(;i&&!oa(i);){if(Gt(i)&&!Tp(i))return i;i=Bi(i)}return n}let r=y0(t,e);for(;r&&ZV(r)&&Tp(r);)r=y0(r,e);return r&&oa(r)&&Tp(r)&&!jy(r)?n:r||eH(t)||n}const kH=async function(t){const e=this.getOffsetParent||fk,n=this.getDimensions,r=await n(t.floating);return{reference:DH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RH(t){return On(t).direction==="rtl"}const OH={convertOffsetParentRelativeRectToViewportRelativeRect:yH,getDocumentElement:Yr,getClippingRect:_H,getOffsetParent:fk,getElementRects:kH,getClientRects:bH,getDimensions:xH,getScale:Ns,isElement:Gt,isRTL:RH};function TH(t,e){let n=null,r;const i=Yr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=yu(u),m=yu(i.clientWidth-(c+d)),y=yu(i.clientHeight-(u+f)),v=yu(c),b={rootMargin:-h+"px "+-m+"px "+-y+"px "+-v+"px",threshold:xo(0,sa(1,l))||1};let w=!0;function _(R){const M=R[0].intersectionRatio;if(M!==l){if(!w)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(t)}return s(!0),o}function AH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Hy(t),u=i||o?[...c?Yl(c):[],...Yl(e)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const d=c&&a?TH(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(p=>{let[b]=p;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,y=l?Fo(t):null;l&&v();function v(){const p=Fo(t);y&&(p.x!==y.x||p.y!==y.y||p.width!==y.width||p.height!==y.height)&&n(),y=p,m=requestAnimationFrame(v)}return n(),()=>{var p;u.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),d==null||d(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const IH=mH,NH=hH,b0=fH,PH=(t,e,n)=>{const r=new Map,i={platform:OH,...n},o={...i.platform,_c:r};return uH(t,e,{...i,platform:o})};var rd=typeof document<"u"?L.useLayoutEffect:L.useEffect;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!sf(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function hk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function w0(t,e){const n=hk(t);return Math.round(e*n)/n}function E0(t){const e=L.useRef(t);return rd(()=>{e.current=t}),e}function MH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=L.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=L.useState(r);sf(f,r)||h(r);const[m,y]=L.useState(null),[v,p]=L.useState(null),b=L.useCallback(C=>{C!==M.current&&(M.current=C,y(C))},[]),w=L.useCallback(C=>{C!==O.current&&(O.current=C,p(C))},[]),_=o||m,R=s||v,M=L.useRef(null),O=L.useRef(null),E=L.useRef(u),N=l!=null,H=E0(l),z=E0(i),j=L.useCallback(()=>{if(!M.current||!O.current)return;const C={placement:e,strategy:n,middleware:f};z.current&&(C.platform=z.current),PH(M.current,O.current,C).then(x=>{const T={...x,isPositioned:!0};S.current&&!sf(E.current,T)&&(E.current=T,Io.flushSync(()=>{d(T)}))})},[f,e,n,z]);rd(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(C=>({...C,isPositioned:!1})))},[c]);const S=L.useRef(!1);rd(()=>(S.current=!0,()=>{S.current=!1}),[]),rd(()=>{if(_&&(M.current=_),R&&(O.current=R),_&&R){if(H.current)return H.current(_,R,j);j()}},[_,R,j,H,N]);const k=L.useMemo(()=>({reference:M,floating:O,setReference:b,setFloating:w}),[b,w]),A=L.useMemo(()=>({reference:_,floating:R}),[_,R]),D=L.useMemo(()=>{const C={position:n,left:0,top:0};if(!A.floating)return C;const x=w0(A.floating,u.x),T=w0(A.floating,u.y);return a?{...C,transform:"translate("+x+"px, "+T+"px)",...hk(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:x,top:T}},[n,a,A.floating,u.x,u.y]);return L.useMemo(()=>({...u,update:j,refs:k,elements:A,floatingStyles:D}),[u,j,k,A,D])}const LH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?b0({element:r.current,padding:i}).fn(n):{}:r?b0({element:r,padding:i}).fn(n):{}}}},jH=(t,e)=>({...IH(t),options:[t,e]}),FH=(t,e)=>({...NH(t),options:[t,e]}),BH=(t,e)=>({...LH(t),options:[t,e]}),pk={...vC},VH=pk.useInsertionEffect,HH=VH||(t=>t());function UH(t){const e=L.useRef(()=>{});return HH(()=>{e.current=t}),L.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var af=typeof document<"u"?L.useLayoutEffect:L.useEffect;function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}let S0=!1,WH=0;const C0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+WH++;function $H(){const[t,e]=L.useState(()=>S0?C0():void 0);return af(()=>{t==null&&e(C0())},[]),L.useEffect(()=>{S0=!0},[]),t}const zH=pk.useId,mk=zH||$H,YH=L.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o}},width:s=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:d,d:f,style:{transform:h,...m}={},...y}=e,v=mk(),[p,b]=L.useState(!1);if(af(()=>{if(!i)return;On(i).direction==="rtl"&&b(!0)},[i]),!i)return null;const w=c*2,_=w/2,R=s/2*(l/-8+1),M=a/2*l/4,[O,E]=r.split("-"),N=!!f,H=O==="top"||O==="bottom",z=u&&E==="end"?"bottom":"top";let j=u&&E==="end"?"right":"left";u&&p&&(j=E==="end"?"left":"right");const S=(o==null?void 0:o.x)!=null?u||o.x:"",k=(o==null?void 0:o.y)!=null?u||o.y:"",A=f||"M0,0"+(" H"+s)+(" L"+(s-R)+","+(a-M))+(" Q"+s/2+","+a+" "+R+","+(a-M))+" Z",D={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[O];return L.createElement("svg",jg({},y,{"aria-hidden":!0,ref:n,width:N?s:s+w,height:s,viewBox:"0 0 "+s+" "+(a>s?a:s),style:{position:"absolute",pointerEvents:"none",[j]:S,[z]:k,[O]:H||N?"100%":"calc(100% - "+w/2+"px)",transform:""+D+(h??""),...m}}),w>0&&L.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:d,strokeWidth:w+(f?0:1),d:A}),L.createElement("path",{stroke:w&&!f?y.fill:"none",d:A}),L.createElement("clipPath",{id:v},L.createElement("rect",{x:-_,y:_*(N?-1:1),width:s+w,height:s})))});function qH(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const QH=L.createContext(null),GH=L.createContext(null),XH=()=>{var t;return((t=L.useContext(QH))==null?void 0:t.id)||null},KH=()=>L.useContext(GH);function JH(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=mk(),o=L.useRef({}),[s]=L.useState(()=>qH()),a=XH()!=null,[l,c]=L.useState(r.reference),u=UH((h,m,y)=>{o.current.openEvent=h?m:void 0,s.emit("openchange",{open:h,event:m,reason:y,nested:a}),n==null||n(h,m,y)}),d=L.useMemo(()=>({setPositionReference:c}),[]),f=L.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return L.useMemo(()=>({dataRef:o,open:e,onOpenChange:u,elements:f,events:s,floatingId:i,refs:d}),[e,u,f,s,i,d])}function ZH(t){t===void 0&&(t={});const{nodeId:e}=t,n=JH({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=L.useState(null),[a,l]=L.useState(null),u=(i==null?void 0:i.reference)||o,d=L.useRef(null),f=KH();af(()=>{u&&(d.current=u)},[u]);const h=MH({...t,elements:{...i,...a&&{reference:a}}}),m=L.useCallback(w=>{const _=Gt(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(_),h.refs.setReference(_)},[h.refs]),y=L.useCallback(w=>{(Gt(w)||w===null)&&(d.current=w,s(w)),(Gt(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Gt(w))&&h.refs.setReference(w)},[h.refs]),v=L.useMemo(()=>({...h.refs,setReference:y,setPositionReference:m,domReference:d}),[h.refs,y,m]),p=L.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),b=L.useMemo(()=>({...h,...r,refs:v,elements:p,nodeId:e}),[h,v,p,e,r]);return af(()=>{r.dataRef.current.floatingContext=b;const w=f==null?void 0:f.nodesRef.current.find(_=>_.id===e);w&&(w.context=b)}),L.useMemo(()=>({...h,context:b,refs:v,elements:p}),[h,v,p,b])}/*!
  react-datepicker v7.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Fg=function(e,n){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Fg(e,n)};function yt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var be=function(){return be=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},be.apply(this,arguments)};function ur(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var eU=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,o=t.className,s=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return W.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},K;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(K||(K={}));function gk(){var t=typeof window<"u"?window:globalThis;return t}var yc=12,tU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ie(t){if(t==null)return new Date;var e=typeof t=="string"?PV(t):te(t);return Dr(e)?e:new Date}function nU(t,e,n,r,i){var o,s=null,a=Do(n)||Do(vl()),l=!0;if(Array.isArray(e))return e.forEach(function(u){var d=Rp(t,u,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Dr(d,i)&&t===Be(d,u,n)),Dr(d,i)&&l&&(s=d)}),s;if(s=Rp(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Dr(s)&&t===Be(s,e,n);else if(!Dr(s)){var c=((o=e.match(tU))!==null&&o!==void 0?o:[]).map(function(u){var d=u[0];if(d==="p"||d==="P"){var f=Zd[d];return a?f(u,a.formatLong):d}return u}).join("");t.length>0&&(s=Rp(t,c.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Dr(s)||(s=new Date(t))}return Dr(s)&&l?s:null}function Dr(t,e){return ef(t)&&!jo(t,e??new Date("1/1/1800"))}function Be(t,e,n){if(n==="en")return u0(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Do(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&vl()&&Do(vl())&&(r=Do(vl())),u0(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Sn(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Be(t,i,r)||""}function rU(t,e,n){if(!t)return"";var r=Sn(t,n),i=e?Sn(e,n):"";return"".concat(r," - ").concat(i)}function iU(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Sn(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Sn(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Ap(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return ed(td(nd(t,a),o),r)}function oU(t){return Ny(t)}function sU(t,e){return Be(t,"ddd",e)}function id(t){return Lo(t)}function Ti(t,e,n){var r=Do(e||vl());return Hr(t,{locale:r,weekStartsOn:n})}function Ai(t){return rk(t)}function Za(t){return Kf(t)}function _0(t){return Pg(t)}function x0(){return Lo(Ie())}function D0(t){return $D(t)}function aU(t){return BB(t)}function sr(t,e){return t&&e?j4(t,e):!t&&!e}function $t(t,e){return t&&e?M4(t,e):!t&&!e}function lf(t,e){return t&&e?L4(t,e):!t&&!e}function ye(t,e){return t&&e?P4(t,e):!t&&!e}function po(t,e){return t&&e?N4(t,e):!t&&!e}function el(t,e,n){var r,i=Lo(e),o=$D(n);try{r=zl(t,{start:i,end:o})}catch{r=!1}return r}function vl(){var t=gk();return t.__localeId__}function Do(t){if(typeof t=="string"){var e=gk();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function lU(t,e,n){return e(Be(t,"EEEE",n))}function cU(t,e){return Be(t,"EEEEEE",e)}function uU(t,e){return Be(t,"EEE",e)}function Uy(t,e){return Be(un(Ie(),t),"LLLL",e)}function vk(t,e){return Be(un(Ie(),t),"LLL",e)}function dU(t,e){return Be(us(Ie(),t),"QQQ",e)}function vi(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return bc(t,{minDate:r,maxDate:i})||o&&o.some(function(u){var d;return u instanceof Date?ye(t,u):ye(t,(d=u.date)!==null&&d!==void 0?d:new Date)})||s&&s.some(function(u){var d=u.start,f=u.end;return zl(t,{start:d,end:f})})||a&&!a.some(function(u){return ye(t,u)})||l&&!l.some(function(u){var d=u.start,f=u.end;return zl(t,{start:d,end:f})})||c&&!c(Ie(t))||!1}function Wy(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return zl(t,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?ye(t,o):ye(t,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function yk(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return bc(t,{minDate:r?rk(r):void 0,maxDate:i?jB(i):void 0})||(o==null?void 0:o.some(function(l){return $t(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return $t(t,l)})||a&&!a(Ie(t))||!1}function bu(t,e,n,r){var i=pe(t),o=Qt(t),s=pe(e),a=Qt(e),l=pe(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:!1}function fU(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates;return bc(t,{minDate:r,maxDate:i})||o&&o.some(function(a){return $t(a instanceof Date?a:a.date,t)})||s&&!s.some(function(a){return $t(a,t)})||!1}function Ip(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return bc(t,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(l){return lf(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return lf(t,l)})||a&&!a(Ie(t))||!1}function wu(t,e,n){if(!e||!n||!ef(e)||!ef(n))return!1;var r=pe(e),i=pe(n);return r<=t&&i>=t}function Bg(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return bc(l,{minDate:r?Kf(r):void 0,maxDate:i?zD(i):void 0})||(o==null?void 0:o.some(function(c){return sr(l,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return sr(l,c)})||a&&!a(Ie(l))||!1}function Eu(t,e,n,r){var i=pe(t),o=_o(t),s=pe(e),a=_o(e),l=pe(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:!1}function bc(t,e){var n,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(n=i&&$l(t,i)<0||o&&$l(t,o)>0)!==null&&n!==void 0?n:!1}function k0(t,e){return e.some(function(n){return pr(n)===pr(t)&&mr(n)===mr(t)&&Nr(n)===Nr(t)})}function R0(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&k0(t,r)||i&&!k0(t,i)||o&&!o(t)||!1}function O0(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ie();i=ed(i,pr(t)),i=td(i,mr(t)),i=nd(i,Nr(t));var o=Ie();o=ed(o,pr(n)),o=td(o,mr(n)),o=nd(o,Nr(n));var s=Ie();s=ed(s,pr(r)),s=td(s,mr(r)),s=nd(s,Nr(r));var a;try{a=!zl(i,{start:o,end:s})}catch{a=!1}return a}function T0(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=ra(t,1);return r&&Xd(r,o)>0||i&&i.every(function(s){return Xd(s,o)>0})||!1}function A0(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=zn(t,1);return r&&Xd(o,r)>0||i&&i.every(function(s){return Xd(o,s)>0})||!1}function hU(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=Kf(t),s=ik(o,1);return r&&Kd(r,s)>0||i&&i.every(function(a){return Kd(a,s)>0})||!1}function pU(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=zD(t),s=Iy(o,1);return r&&Kd(s,r)>0||i&&i.every(function(a){return Kd(s,a)>0})||!1}function I0(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=ia(t,1);return r&&Jd(r,o)>0||i&&i.every(function(s){return Jd(s,o)>0})||!1}function mU(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,o=i===void 0?yc:i,s=Za(ia(t,o)),a=yi(s,o).endPeriod,l=r&&pe(r);return l&&l>a||!1}function N0(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Ar(t,1);return r&&Jd(o,r)>0||i&&i.every(function(s){return Jd(o,s)>0})||!1}function gU(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?yc:i,s=Ar(t,o),a=yi(s,o).startPeriod,l=r&&pe(r);return l&&l<a||!1}function bk(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return $l(i,e)>=0});return h0(r)}else return n?h0(n):e}function wk(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return $l(i,e)<=0});return f0(r)}else return n?f0(n):e}function P0(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=t.length;i<o;i++){var s=t[i];if(Ir(s)){var a=Be(s,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof s=="object"){var c=Object.keys(s),u=(n=c[0])!==null&&n!==void 0?n:"",d=s[u];if(typeof u=="string"&&Array.isArray(d))for(var f=0,h=d.length;f<h;f++){var m=d[f];if(m){var a=Be(m,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function vU(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function yU(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,o=r.holidayName;if(Ir(i)){var s=Be(i,"MM.dd.yyyy"),a=n.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&vU(a.holidayNames,[o]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?ur(ur([],l,!0),[o],!1):[o],n.set(s,a)}}}),n}function bU(t,e,n,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=t,c=i[a];c&&(l=MB(l,pr(c)),l=Ag(l,mr(c)),l=LB(l,Nr(c)));var u=Ag(t,(n+1)*r);Fi(l,e)&&jo(l,u)&&c!=null&&s.push(c)}return s}function M0(t){return t<10?"0".concat(t):"".concat(t)}function yi(t,e){e===void 0&&(e=yc);var n=Math.ceil(pe(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function wU(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function L0(t){var e=t.getSeconds(),n=t.getMilliseconds();return te(t.getTime()-e*1e3-n)}function EU(t,e){return L0(t).getTime()===L0(e).getTime()}function j0(t){if(!Ir(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function F0(t,e){if(!Ir(t)||!Ir(e))throw new Error("Invalid date received");var n=j0(t),r=j0(e);return jo(n,r)}function Ek(t){return t.key===K.Space}var SU=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),d=u[0],f=u[1];c.setHours(Number(d)),c.setMinutes(Number(f))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,c)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?L.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):W.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return W.createElement("div",{className:"react-datepicker__input-time-container"},W.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),W.createElement("div",{className:"react-datepicker-time__input-container"},W.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(L.Component),CU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=L.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===K.Space&&(r.preventDefault(),r.key=K.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return ye(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),vi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Wy(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ye(n.props.day,Ti(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&ye(r,Ti(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=Be(i,"MM.dd.yyyy");return o.get(s)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=Be(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:el(i,o,s)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,u=i.startDate,d=i.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||a||l)||!f||!c&&n.isDisabled()?!1:s&&d&&(jo(f,d)||po(f,d))?el(o,f,d):a&&u&&(Fi(f,u)||po(f,u))||l&&u&&!d&&(Fi(f,u)||po(f,u))?el(o,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?ye(o,l):ye(o,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?ye(o,c):ye(o,s)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:ye(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:ye(s,i)},n.isWeekend=function(){var r=I4(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Qt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Qt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ie())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return gt("react-datepicker__day",i,"react-datepicker__day--"+sU(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:s;return"".concat(c," ").concat(Be(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,l=Be(i,"MM.dd.yyyy"),c=[];return s.has(l)&&c.push.apply(c,s.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?ye(u,i):ye(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&ye(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(d0(n.props.day),n.props.day):d0(n.props.day)},n.render=function(){return W.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&W.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(L.Component),_U=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=L.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===K.Space&&(r.preventDefault(),r.key=K.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ye(n.props.date,n.props.selected)&&ye(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ye(n.props.date,n.props.selected)&&ye(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ye(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,s=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s,"react-datepicker__week-number--selected":!!s&&ye(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{ref:this.weekNumberEl,className:gt(a),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(L.Component),xU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return vi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var s,a,l,c=new Date(r),u=0;u<7;u++){var d=new Date(r);d.setDate(d.getDate()+u);var f=!n.isDisabled(d);if(f){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,o),n.props.showWeekPicker&&n.handleDayClick(c,o),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):oU(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(W.createElement(_U,be({key:"W"},e.defaultProps,n.props,{weekNumber:o,date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=Gi(r,a);return W.createElement(CU,be({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Ti(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ye(n.startOfWeek(),n.props.selected)&&ye(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ye(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{className:gt(n)},this.renderDays())},e}(L.Component),Ha,DU=6,Ps={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Np=(Ha={},Ha[Ps.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ha[Ps.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ha[Ps.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ha),Su=1;function B0(t,e){return t?Ps.FOUR_COLUMNS:e?Ps.TWO_COLUMNS:Ps.THREE_COLUMNS}var kU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=ur([],Array(12),!0).map(function(){return L.createRef()}),n.QUARTER_REFS=ur([],Array(4),!0).map(function(){return L.createRef()}),n.isDisabled=function(r){return vi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Wy(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,s;(s=(o=n.props).onDayClick)===null||s===void 0||s.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:$t(un(o,r),s)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:lf(us(o,r),s)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:$t(un(o,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:lf(us(o,r),a)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?bu(f,d,r,s):l&&u||c&&u&&!d?bu(u,f,r,s):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.startDate,l=o.selectsStart,c=un(s,r),u=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?$t(c,u):$t(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=un(s,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||c?$t(u,d):$t(u,a)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?Eu(f,d,r,s):l&&u||c&&u&&!d?Eu(u,f,r,s):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=Gi(r,6);return $t(r,i)||$t(o,i)},n.isCurrentMonth=function(r,i){return pe(r)===pe(Ie())&&i===Qt(Ie())},n.isCurrentQuarter=function(r,i){return pe(r)===pe(Ie())&&i===_o(Ie())},n.isSelectedMonth=function(r,i,o){return Qt(o)===i&&pe(r)===pe(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(s){return n.isSelectedMonth(r,i,s)})},n.isSelectedQuarter=function(r,i,o){return _o(r)===i&&pe(r)===pe(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,s=!1,a=Ti(Ai(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(m){return n.props.showWeekPicker?Ti(m,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(m){return n.props.showWeekPicker?Ti(m,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;r.push(W.createElement(xU,be({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:a,month:Qt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!s;){o++,a=Qd(a,1);var f=i&&o>=DU,h=!i&&!n.isWeekInMonth(a);if(f||h)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||n.handleDayClick(Ai(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||n.handleDayMouseEnter(Ai(s))},n.handleMonthNavigation=function(r,i){var o,s,a,l;(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,o){var s,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,f=a.maxDate,h=a.showFourColumnMonthYearPicker,m=a.showTwoColumnMonthYearPicker;if(c){var y=B0(h,m),v=n.getVerticalOffset(y),p=(s=Np[y])===null||s===void 0?void 0:s.grid,b=function(O,E,N){var H,z,j=E,S=N;switch(O){case K.ArrowRight:j=zn(E,Su),S=N===11?0:N+Su;break;case K.ArrowLeft:j=ra(E,Su),S=N===0?11:N-Su;break;case K.ArrowUp:j=ra(E,v),S=!((H=p==null?void 0:p[0])===null||H===void 0)&&H.includes(N)?N+12-v:N-v;break;case K.ArrowDown:j=zn(E,v),S=!((z=p==null?void 0:p[p.length-1])===null||z===void 0)&&z.includes(N)?N-12+v:N+v;break}return{newCalculatedDate:j,newCalculatedMonth:S}},w=function(O,E,N){for(var H=40,z=O,j=!1,S=0,k=b(z,E,N),A=k.newCalculatedDate,D=k.newCalculatedMonth;!j;){if(S>=H){A=E,D=N;break}if(d&&A<d){z=K.ArrowRight;var C=b(z,A,D);A=C.newCalculatedDate,D=C.newCalculatedMonth}if(f&&A>f){z=K.ArrowLeft;var C=b(z,A,D);A=C.newCalculatedDate,D=C.newCalculatedMonth}if(fU(A,n.props)){var C=b(z,A,D);A=C.newCalculatedDate,D=C.newCalculatedMonth}else j=!0;S++}return{newCalculatedDate:A,newCalculatedMonth:D}};if(i===K.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),u==null||u(l));return}var _=w(i,c,o),R=_.newCalculatedDate,M=_.newCalculatedMonth;switch(i){case K.ArrowRight:case K.ArrowLeft:case K.ArrowUp:case K.ArrowDown:n.handleMonthNavigation(M,R);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=Np[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,l=r.key;l!==K.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var o=us(n.props.day,i);Ip(o,n.props)||n.handleDayClick(_0(o),r)},n.onQuarterMouseEnter=function(r){var i=us(n.props.day,r);Ip(i,n.props)||n.handleDayMouseEnter(_0(i))},n.handleQuarterNavigation=function(r,i){var o,s,a,l;n.isDisabled(i)||n.isExcluded(i)||((s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case K.Enter:n.onQuarterClick(r,i),(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,n.props.selected);break;case K.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,Iy(n.props.preSelection,1));break;case K.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,ik(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,s=o.day,a=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=un(s,r);return{isDisabled:(i=(a||l||c||u)&&yk(d,n.props))!==null&&i!==void 0?i:!1,labelDate:d}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,u=c?c(un(o,r)):void 0,d=n.getSelection();return gt("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(o,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?bu(s,a,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Qt(n.props.preSelection),o=!n.props.disabledKeyboardNavigation&&r===i?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=_o(n.props.preSelection),o=!n.props.disabledKeyboardNavigation&&r===i?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,u=i.locale,d=un(c,r),f=n.isDisabled(d)||n.isExcluded(d)?l:s;return"".concat(f," ").concat(Be(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,u=i.maxDate,d=i.excludeDates,f=i.includeDates,h=i.filterDate,m=i.preSelection,y=i.disabledKeyboardNavigation,v=(c||u||d||f||h)&&Ip(us(o,r),n.props);return gt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&m&&n.isSelectedQuarter(o,r,m)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?Eu(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,l=i.day,c=vk(r,a),u=Uy(r,a);return s?s(r,c,u,l):o?u:c},n.getQuarterContent=function(r){var i,o=n.props,s=o.renderQuarterContent,a=o.locale,l=dU(r,a);return(i=s==null?void 0:s(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=Np[B0(s,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,d){return W.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(f,h){return W.createElement("div",{ref:n.MONTH_REFS[f],key:h,onClick:function(m){n.onMonthClick(m,f)},onKeyDown:function(m){Ek(m)&&(m.preventDefault(),m.key=K.Enter),n.onMonthKeyDown(m,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,s=[1,2,3,4];return W.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,l){return W.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":o?n.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return gt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,s=n.ariaLabelPrefix,a=s===void 0?"Month ":s,l=a?a.trim()+" ":"";return W.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Be(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(L.Component),RU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return W.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?W.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return W.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},e}(L.Component),OU=Qf(RU),TU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return W.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return W.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return W.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return W.createElement(OU,be({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return vk(o,n.props.locale)}:function(o){return Uy(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return W.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(L.Component);function AU(t,e){for(var n=[],r=Ai(t),i=Ai(e);!Fi(r,i);)n.push(Ie(r)),r=zn(r,1);return n}var IU=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=Ng(i),s=sr(r.props.date,i)&&$t(r.props.date,i);return W.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?W.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Be(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:AU(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=gt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return W.createElement("div",{className:n},this.renderOptions())},e}(L.Component),NU=Qf(IU),PU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Ai(n.props.minDate),i=Ai(n.props.maxDate),o=[];!Fi(r,i);){var s=Ng(r);o.push(W.createElement("option",{key:s,value:s},Be(r,n.props.dateFormat,n.props.locale))),r=zn(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return W.createElement("select",{value:Ng(Ai(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Be(n.props.date,n.props.dateFormat,n.props.locale);return W.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return W.createElement(NU,be({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Ie(r);sr(n.props.date,i)&&$t(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(L.Component),MU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&O0(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&R0(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&EU(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&O0(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&R0(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(pr(r)*3600+mr(r)*60+Nr(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,s;r.key===K.Space&&(r.preventDefault(),r.key=K.Enter),(r.key===K.ArrowUp||r.key===K.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===K.ArrowDown||r.key===K.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===K.Enter&&n.handleClick(i),(s=(o=n.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=n.props.format?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Ie(),l=id(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(v,p){return v.getTime()-p.getTime()}),u=60*wU(a),d=u/s,f=0;f<d;f++){var h=Ag(l,f*s);if(i.push(h),c){var m=bU(l,h,f,s,c);i=i.concat(m)}}var y=i.reduce(function(v,p){return p.getTime()<=a.getTime()?p:v},i[0]);return i.map(function(v){return W.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(p){v===y&&(n.centerLi=p)},onKeyDown:function(p){n.handleOnKeyDown(p,v)},tabIndex:v===y?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Be(v,o,n.props.locale))})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return W.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},W.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},W.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),W.createElement("div",{className:"react-datepicker__time"},W.createElement("div",{className:"react-datepicker__time-box"},W.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(L.Component),V0=3,LU=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=ur([],Array(r.props.yearItemNumber),!0).map(function(){return L.createRef()}),r.isDisabled=function(i){return vi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return Wy(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,l,c,u=r.props,d=u.date,f=u.yearItemNumber;if(!(d===void 0||f===void 0)){var h=yi(d,f).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-h<0?r.updateFocusOnPaginate(f-(h-i)):i-h>=f?r.updateFocusOnPaginate(Math.abs(f-(i-h))):(c=(l=r.YEAR_REFS[i-h])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,o){return ye(i,o)},r.isCurrentYear=function(i){return i===pe(Ie())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&sr(tr(Ie(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&sr(tr(Ie(),i),r.props.endDate)},r.isInRange=function(i){return wu(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,c=o.startDate,u=o.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&u?wu(i,r.selectingDate(),u):a&&c||l&&c&&!u?wu(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,l=s.selectsStart,c=tr(Ie(),i);return l?sr(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):sr(c,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=tr(Ie(),i);return l||c?sr(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):sr(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,l=o.excludeDates,c=o.includeDates,u=o.filterDate,d=Za(tr(r.props.date,i)),f=(s||a||l||c||u)&&Bg(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ye(d,Za(r.props.selected))&&ye(d,Za(r.props.preSelection))&&!f}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(Za(tr(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,l=i.key,c=r.props,u=c.date,d=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==K.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case K.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case K.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Ar(r.props.preSelection,1));break;case K.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,ia(r.props.preSelection,1));break;case K.ArrowUp:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var h=yi(u,d).startPeriod,m=V0,y=o-m;if(y<h){var v=d%m;o>=h&&o<h+v?m=v:m+=v,y=o-m}r.handleYearNavigation(y,ia(r.props.preSelection,m));break}case K.ArrowDown:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var p=yi(u,d).endPeriod,m=V0,y=o+m;if(y>p){var v=d%m;o<=p&&o>p-v?m=v:m+=v,y=o+m}r.handleYearNavigation(y,Ar(r.props.preSelection,m));break}}f&&f(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,l=o.maxDate,c=o.selected,u=o.excludeDates,d=o.includeDates,f=o.filterDate,h=o.yearClassName;return gt("react-datepicker__year-text","react-datepicker__year-".concat(i),s?h==null?void 0:h(tr(s,i)):void 0,{"react-datepicker__year-text--selected":c?i===pe(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||f)&&Bg(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=pe(r.props.preSelection);return i===o?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return gt("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var c=yi(o,s),u=c.startPeriod,d=c.endPeriod,f=function(y){r.push(W.createElement("div",{ref:h.YEAR_REFS[y-u],onClick:function(v){n.onYearClick(v,y)},onKeyDown:function(v){Ek(v)&&(v.preventDefault(),v.key=K.Enter),n.onYearKeyDown(v,y)},tabIndex:Number(h.getYearTabIndex(y)),className:h.getYearClassNames(y),onMouseEnter:h.props.usePointerEvent?void 0:function(v){return a(v,y)},onPointerEnter:h.props.usePointerEvent?function(v){return a(v,y)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(v){return l(v,y)},onPointerLeave:h.props.usePointerEvent?function(v){return l(v,y)}:void 0,key:y,"aria-current":h.isCurrentYear(y)?"date":void 0},h.getYearContent(y)))},h=this,m=u;m<=d;m++)f(m);return W.createElement("div",{className:this.getYearContainerClassNames()},W.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(L.Component);function jU(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var s=t+e-o,a=!0;n&&(a=pe(n)<=s),r&&a&&(a=pe(r)>=s),a&&i.push(s)}return i}var FU=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return W.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?W.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=r.props.minDate?pe(r.props.minDate):null,u=r.props.maxDate?pe(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift(W.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push(W.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:jU(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=L.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=gt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return W.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())},e}(L.Component),BU=Qf(FU),VU=function(t){yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?pe(n.props.minDate):1900,i=n.props.maxDate?pe(n.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push(W.createElement("option",{key:s,value:s},s));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return W.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return W.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},W.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return W.createElement(BU,be({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){n.onSelect(r,i),n.setOpen()},n.onSelect=function(r,i){n.props.onSelect&&n.props.onSelect(r,i)},n.setOpen=function(){n.props.setOpen&&n.props.setOpen(!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(L.Component),HU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],UU=function(t){var e=(t.className||"").split(/\s+/);return HU.some(function(n){return e.indexOf(n)>=0})},WU=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;UU(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=bk(r.props),c=wk(r.props),u=Ie(),d=a||s||o;return d||(l&&jo(u,l)?l:c&&Fi(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:zn(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:ra(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:tr(Ie(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleMonthChange=function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:tr(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:un(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:tr(un(s,Qt(i)),pe(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Ti(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(W.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=Gi(o,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return W.createElement("div",{key:a,"aria-label":Be(l,"EEEE",r.props.locale),className:gt("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?lU(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?uU(i,o):cU(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:ia(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=I0(r.state.date,r.props);break;case r.props.showYearPicker:o=mU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=hU(r.state.date,r.props);break;default:o=T0(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,f=d===void 0?e.defaultProps.previousMonthButtonLabel:d,h=u.previousYearButtonLabel,m=h===void 0?e.defaultProps.previousYearButtonLabel:h,y=r.props,v=y.previousMonthAriaLabel,p=v===void 0?typeof f=="string"?f:"Previous Month":v,b=y.previousYearAriaLabel,w=b===void 0?typeof m=="string"?m:"Previous Year":b;return W.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?w:p},W.createElement("span",{className:s.join(" ")},c?m:f))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Ar(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=N0(r.state.date,r.props);break;case r.props.showYearPicker:o=gU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=pU(r.state.date,r.props);break;default:o=A0(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=d===void 0?e.defaultProps.nextMonthButtonLabel:d,h=u.nextYearButtonLabel,m=h===void 0?e.defaultProps.nextYearButtonLabel:h,y=r.props,v=y.nextMonthAriaLabel,p=v===void 0?typeof f=="string"?f:"Next Month":v,b=y.nextYearAriaLabel,w=b===void 0?typeof m=="string"?m:"Next Year":b;return W.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?w:p},W.createElement("span",{className:a.join(" ")},c?m:f))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),W.createElement("h2",{className:o.join(" ")},Be(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return W.createElement(VU,be({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:pe(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return W.createElement(TU,be({},e.defaultProps,r.props,{month:Qt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return W.createElement(PU,be({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(x0(),i),r.props.setPreSelection&&r.props.setPreSelection(x0())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return W.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return W.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),W.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),W.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=T0(r.state.date,r.props),u=A0(r.state.date,r.props),d=I0(r.state.date,r.props),f=N0(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return W.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,be(be({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),h&&W.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=yi(o,c),d=u.startPeriod,f=u.endPeriod;return W.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(f):pe(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,l={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ar(r.state.date,l):ra(r.state.date,l),u=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,d=0;d<a;++d){var f=d-u+l,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ar(c,f):zn(c,f),m="month-".concat(d),y=d<a-1,v=d>0;s.push(W.createElement("div",{key:m,ref:function(p){r.monthContainer=p??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:d}),W.createElement(kU,be({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:v}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return W.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),W.createElement(LU,be({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return W.createElement(MU,be({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Dr(i)&&!!r.props.selected,s=o?"".concat(M0(i.getHours()),":").concat(M0(i.getMinutes())):"";if(r.props.showTimeInput)return W.createElement(SU,be({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=yi(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,l;return r.props.showYearPicker?l="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=pe(r.state.date):l="".concat(Uy(Qt(r.state.date),r.props.locale)," ").concat(pe(r.state.date)),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return W.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:yc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!ye(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!$t(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ye(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||eU;return W.createElement("div",{style:{display:"contents"},ref:this.containerRef},W.createElement(n,{className:gt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(L.Component),$U=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?W.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):W.isValidElement(e)?W.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):W.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},W.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Sk=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return XA.createPortal(this.props.children,this.el)},e}(L.Component),zU="[tabindex], a, button, input, select, textarea",YU=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},Ck=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(zU),1,-1).filter(YU)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=L.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?W.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},W.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,W.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(L.Component);function qU(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=L.useRef(null),s=ZH(be({open:!i,whileElementsMounted:AH,placement:n.popperPlacement,middleware:ur([FH({padding:15}),jH(10),BH({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=be(be({},n),{hidePopper:i,popperProps:be(be({},s),{arrowRef:o})});return W.createElement(t,be({},a))};return e}var QU=function(t){yt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,d=n.portalId,f=n.portalHost,h=n.popperProps,m=n.showArrow,y=void 0;if(!s){var v=gt("react-datepicker-popper",r);y=W.createElement(Ck,{enableTabLoop:c},W.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:u},a,m&&W.createElement(YH,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=L.createElement(this.props.popperContainer,{},y)),d&&!s&&(y=W.createElement(Sk,{portalId:d,portalHost:f},y));var p=gt("react-datepicker-wrapper",i);return W.createElement(W.Fragment,null,W.createElement("div",{ref:h.refs.setReference,className:p},l),y)},e}(L.Component),GU=qU(QU),H0="react-datepicker-ignore-onclickoutside",XU=Qf(WU);function KU(t,e){return t&&e?Qt(t)!==Qt(e)||pe(t)!==pe(e):t!==e}var Pp="Date input not valid.",JU=function(t){yt(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ie()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return Dr(a)?ur(ur([],o,!0),[be(be({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=bk(r.props),a=wk(r.props),l=s&&jo(o,id(s))?s:a&&Fi(o,D0(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:P0(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(be(be({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(be(be({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Mp},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ir(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!s||typeof s.isDefaultPrevented!="function"||s.isDefaultPrevented()))){r.setState({inputValue:(s==null?void 0:s.target)instanceof HTMLInputElement?s.target.value:null,lastPreSelectChange:ZU});var a=r.props,l=a.dateFormat,c=l===void 0?e.defaultProps.dateFormat:l,u=a.strictParsing,d=u===void 0?e.defaultProps.strictParsing:u,f=nU((s==null?void 0:s.target)instanceof HTMLInputElement?s.target.value:"",c,r.props.locale,d,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&f&&!ye(f,r.props.selected)&&(f=KV(r.props.selected,{hours:pr(f),minutes:mr(f),seconds:Nr(f)})),(f||!((s==null?void 0:s.target)instanceof HTMLInputElement)||!(s!=null&&s.target.value))&&r.setSelected(f,s,!0)}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!F0(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var l,c=i;if(r.props.showYearPicker){if(c!==null&&Bg(pe(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&yk(c,r.props))return}else if(c!==null&&vi(c,r.props))return;var u=r.props,d=u.onChange,f=u.selectsRange,h=u.startDate,m=u.endDate,y=u.selectsMultiple,v=u.selectedDates,p=u.minTime,b=u.swapRange;if(!po(r.props.selected,c)||r.props.allowSameDay||f||y)if(c!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Ap(c,{hour:pr(r.props.selected),minute:mr(r.props.selected),second:Nr(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&p&&(c=Ap(c,{hour:p.getHours(),minute:p.getMinutes(),second:p.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),f){var w=!h&&!m,_=h&&!m,R=h&&m;w?d?d([c,null],o):e.defaultProps.onChange:_&&(c===null?d?d([null,null],o):e.defaultProps.onChange:F0(c,h)?b?d?d([c,h],o):e.defaultProps.onChange:d?d([c,null],o):e.defaultProps.onChange:d?d([h,c],o):e.defaultProps.onChange),R&&(d?d([c,null],o):e.defaultProps.onChange)}else if(y){if(c!==null)if(!(v!=null&&v.length))d?d([c],o):e.defaultProps.onChange;else{var M=v.some(function(N){return ye(N,c)});if(M){var O=v.filter(function(N){return!ye(N,c)});d?d(O,o):e.defaultProps.onChange}else d?d(ur(ur([],v,!0),[c],!1),o):e.defaultProps.onChange}}else d?d(c,o):e.defaultProps.onChange;if(!s){var E=(l=r.props.onSelect)!==null&&l!==void 0?l:e.defaultProps.onSelect;E(c,o),r.setState({inputValue:null})}},r.setPreSelection=function(i){var o=Ir(r.props.minDate),s=Ir(r.props.maxDate),a=!0;if(i){var l=id(i);if(o&&s)a=el(i,r.props.minDate,r.props.maxDate);else if(o){var c=id(r.props.minDate);a=Fi(i,c)||po(l,c)}else if(s){var u=D0(r.props.maxDate);a=jo(i,u)||po(l,u)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var s=r.props.selected?r.props.selected:r.getPreSelection(),a=r.props.selected?i:Ap(s,{hour:pr(i),minute:mr(i)});r.setState({preSelection:a});var l=(o=r.props.onChange)!==null&&o!==void 0?o:e.defaultProps.onChange;l(a),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,l,c;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var u=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(u===K.ArrowDown||u===K.ArrowUp||u===K.Enter)&&r.onInputClick();return}if(r.state.open){if(u===K.ArrowDown||u===K.ArrowUp){i.preventDefault();var d=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((a=r.calendar)===null||a===void 0?void 0:a.componentNode)instanceof Element&&r.calendar.componentNode.querySelector(d);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var h=Ie(r.state.preSelection);u===K.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Mp?(r.handleSelect(h,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(h)):r.setOpen(!1)):u===K.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):u===K.Tab&&r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Pp})}},r.onPortalKeyDown=function(i){var o=i.key;o===K.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,l,c=r.props,u=c.minDate,d=c.maxDate,f=c.disabledKeyboardNavigation,h=c.showWeekPicker,m=c.shouldCloseOnSelect,y=c.locale,v=c.calendarStartDay,p=c.adjustDateOnChange,b=c.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!f){var w=i.key,_=i.shiftKey,R=Ie(r.state.preSelection),M=function(S,k){var A=k;switch(S){case K.ArrowRight:A=h?Qd(k,1):Gi(k,1);break;case K.ArrowLeft:A=h?p0(k,1):JV(k,1);break;case K.ArrowUp:A=p0(k,1);break;case K.ArrowDown:A=Qd(k,1);break;case K.PageUp:A=_?ia(k,1):ra(k,1);break;case K.PageDown:A=_?Ar(k,1):zn(k,1);break;case K.Home:A=Ti(k,y,v);break;case K.End:A=aU(k);break}return A},O=function(S,k){for(var A=40,D=S,C=!1,x=0,T=M(S,k);!C;){if(x>=A){T=k;break}u&&T<u&&(D=K.ArrowRight,T=vi(u,r.props)?M(D,T):u),d&&T>d&&(D=K.ArrowLeft,T=vi(d,r.props)?M(D,T):d),vi(T,r.props)?((D===K.PageUp||D===K.Home)&&(D=K.ArrowRight),(D===K.PageDown||D===K.End)&&(D=K.ArrowLeft),T=M(D,T)):C=!0,x++}return T};if(w===K.Enter){i.preventDefault(),r.handleSelect(R,i),!m&&r.setPreSelection(R);return}else if(w===K.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Pp});return}var E=null;switch(w){case K.ArrowLeft:case K.ArrowRight:case K.ArrowUp:case K.ArrowDown:case K.PageUp:case K.PageDown:case K.Home:case K.End:E=O(w,R);break}if(!E){r.props.onInputError&&r.props.onInputError({code:1,msg:Pp});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Mp}),p&&r.setSelected(E),r.setPreSelection(E),b){var N=Qt(R),H=Qt(E),z=pe(R),j=pe(E);N!==H||z!==j?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===K.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a?a([null,null],i):e.defaultProps.onChange():a?a(null,i):e.defaultProps.onChange(),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:W.createElement(XU,be({ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:yU(r.modifyHolidays()),outsideClickIgnoreClass:H0,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(Sn(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+Sn(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(Sn(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(Sn(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(Sn(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(Sn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(Sn(r.props.selected,{dateFormat:c,locale:a})),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,o,s,a=gt(r.props.className,(i={},i[H0]=r.state.open,i)),l=r.props.customInput||W.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,d=u.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,h=u.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?rU(r.props.startDate,r.props.endDate,{dateFormat:f,locale:h}):r.props.selectsMultiple?iU((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:f,locale:h}):Sn(r.props.selected,{dateFormat:f,locale:h});return L.cloneElement(l,(o={},o[c]=function(y){r.input=y},o.value=m,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=gt(l.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,d=i.clearButtonClassName,f=d===void 0?"":d,h=i.ariaLabelClose,m=h===void 0?"Close":h,y=i.selectedDates;return o&&(a!=null||l!=null||c!=null||y!=null&&y.length)?W.createElement("button",{type:"button",className:gt("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":m,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:yc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,o,s,a;n.inline&&KU(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:P0(this.props.highlightDates)}),!r.focused&&!po(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,s=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),W.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&W.createElement($U,be({icon:i,className:gt(s,!s&&o,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?W.createElement(Ck,{enableTabLoop:this.props.enableTabLoop},W.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=W.createElement(Sk,be({portalId:this.props.portalId},this.props),r)),W.createElement("div",null,this.renderInputContainer(),r)}return W.createElement(GU,be({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(L.Component),ZU="input",Mp="navigate";const e5=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(new Date),[i,o]=L.useState([]),[s,a]=L.useState(""),[l,c]=L.useState(!1),[u,d]=L.useState(null),[f,h]=L.useState(null),m=L.useRef(null),y=tt();L.useEffect(()=>{(async()=>{try{const E=await $e.get("/api/user/info");d(E.data.familyId)}catch(E){console.error("Failed to fetch user info",E),o(N=>(l&&console.log("임시로 작성된 코드입니다."),N))}})()},[]);const v=O=>{O.target.files&&O.target.files[0]&&h(O.target.files[0])},p=()=>{m.current&&m.current.click()},b=O=>{const E=O.target.value;E.length>20?alert("글자는 최대 20자까지 입니다"):a(E)},w=O=>{O.key==="Enter"&&_()},_=()=>{c(!1)},R=()=>{c(!0)},M=async()=>{if(!t){alert("제목을 입력해주세요!");return}try{const O=await $e.post("https://i11b306.p.ssafy.io/api/album",{familyId:u,title:t,date:n.toISOString().split("T")[0]});y("/albums",{state:{albumId:O.data.albumId,title:t,date:n.toISOString().split("T")[0],photos:i}})}catch(O){console.error("Failed to create album",O)}};return g.jsxs("div",{className:"feature-box relative w-[911px] h-[576px] overflow-x-hidden overflow-y-hidden",children:[g.jsxs("div",{className:" left-88 top-37 w-[911px] h-[150px] bg-[#fff] z-50",children:[g.jsx("div",{className:"absolute left-0 top-0 w-[911px] h-[150px] bg-[#fff] rounded-[20px] "}),g.jsx("div",{className:"absolute left-[94px] top-[20px] w-[726px] h-[50px] border-[solid] border-#ddd border",children:g.jsx("input",{type:"text",value:t,onChange:O=>e(O.target.value),placeholder:"제목을 입력하세요",className:"absolute -translate-y-1/2 left-[-10px] top-1/2 w-[750px] form-control",style:{fontSize:"20px",fontWeight:"400",color:"black",textAlign:"center",borderRadius:"0",border:"none",borderBottom:"2px solid #ddd",paddingBottom:"10px",backgroundColor:"transparent",outline:"none"}})}),g.jsxs("div",{className:"absolute -translate-x-1/2 left-1/2 top-[77px] w-[701px] h-[30px]",children:[g.jsx(mc,{name:"목록",path:"/albums",className:"absolute left-0 top-0 w-[80px] h-[30px]"}),g.jsx("div",{className:"absolute left-1/2 top-0 transform -translate-x-1/2",children:g.jsx(JU,{selected:n,onChange:O=>{O&&r(O)},dateFormat:"yyyy/MM/dd",className:"text-center w-full"})})]}),g.jsx("div",{className:"absolute translate-x-[45%] left-1/2 top-[77px] w-[701px] h-[30px]",children:g.jsx($r,{name:"등록",path:"/albums",className:"submit-btn",onClick:M})})]}),g.jsx("img",{className:"absolute left-[347px] top-[60px] overflow-hidden",width:"543",height:"494",src:"/src/assets/frame1.png",alt:"frame1"}),g.jsxs("div",{className:"absolute left-[78px] top-[154px] w-[302px] h-[358px]",children:[g.jsx("div",{className:"absolute left-[35px] top-[12px] w-[99px] h-[29px]",children:g.jsxs("div",{className:"absolute left-[2px] top-[3px] w-[94px] h-[23px] bg-[#fff] rounded-[39px]",style:{boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},onClick:p,children:[g.jsx("input",{type:"file",onChange:v,ref:m,className:"hidden"}),g.jsx("div",{className:"absolute left-[23px] top-[3px] text-[12px] font-['Adamina'] text-[#777] whitespace-nowrap cursor-pointer",children:"파일 찾기"})]})}),g.jsx("div",{className:"absolute left-[187px] top-[312px] w-[99px] h-[29px]",children:g.jsx("div",{className:"absolute left-[23px] top-[6px] w-[67px] h-[23px] bg-[#fff] rounded-[39px]",style:{boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},children:g.jsx("div",{className:"absolute left-[23px] top-[3px] text-[12px] font-['Adamina'] text-[#777]",children:"캡션등록"})})}),g.jsxs("div",{className:"absolute left-[21px] top-[41px] w-[256px] flex flex-col items-end justify-start gap-[8px] py-[15px] px-[21px] overflow-hidden",children:[g.jsx("div",{className:"relative w-[214px] h-[204px] shrink-0 bg-[#fff] border-[1px] border-solid border-[#00000033] overflow-hidden",children:f?g.jsx("img",{src:URL.createObjectURL(f),alt:"Selected",className:"absolute left-[6px] top-[9px] w-[208px] h-[184px] object-cover"}):g.jsxs("div",{className:"absolute left-[6px] top-[9px] w-[208px] h-[184px] text-[15px] font-['Inter'] text-[#000] text-center flex flex-col justify-center",children:["이미지를",g.jsx("br",{}),"업로드 업로드하세요."]})}),g.jsx("div",{className:"w-[213px] h-[26px] shrink-0 flex flex-col items-start justify-start bg-[#fff] border-[1px] border-solid border-[#00000066] rounded-md",children:g.jsxs("div",{className:"relative w-[190px] h-[24px] shrink-0 ",children:[g.jsx("input",{type:"text",value:s,onChange:b,onKeyDown:w,placeholder:"↳ 사진 캡션을 작성하세요.",onBlur:_,autoFocus:!0,className:"absolute inset-0 w-full h-full px-2 text-[14px] font-['Inter'] text-[#868585] text-center outline-none rounded-md",maxLength:20}),g.jsx("div",{className:"absolute left-[180px] top-[-5px] w-[36px] h-[35px] flex flex-row items-center justify-start p-[0px]",children:g.jsx("img",{width:"14",height:"14",src:"/src/assets/write.png",alt:"write",onClick:R})})]})})]})]})]})},t5=()=>g.jsxs("div",{className:"relative w-[911px] h-[576px] ",children:[g.jsx("div",{className:"absolute left-0 top-0 w-[911px] h-[576px] shadow-[0_0_15px_rgba(153,153,153,0.25)] rounded-xl",children:g.jsx("div",{className:"absolute left-0 right-0 top-0 bottom-0 bg-[#fff] rounded-[20px]"})}),g.jsx("div",{className:"absolute left-[764px] top-[23px]",children:g.jsx($r,{name:"만들기",path:"/albums/upload"})}),g.jsx("div",{className:"absolute left-[32px] top-[31px] text-[20px] font-['Pretendard'] font-semibold text-[#333] whitespace-nowrap",children:"그림일기"}),g.jsxs("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2 text-[30px] font-['Pretendard'] font-light text-[#8e8e8e] text-center whitespace-nowrap",children:["아직 그림일기가 없어요!",g.jsx("br",{}),"그림일기를 만들러 가볼까요?"]})]}),n5=()=>g.jsxs("div",{className:"relative w-[911px] h-[576px] ",children:[g.jsx("div",{className:"absolute left-0 top-0 w-[911px] h-[576px] shadow-[0_0_15px_rgba(153,153,153,0.25)] rounded-xl",children:g.jsx("div",{className:"absolute left-0 right-0 top-0 bottom-0 bg-[#fff] rounded-[20px]"})}),g.jsx("div",{className:"absolute left-[764px] top-[23px]",children:g.jsx($r,{name:"만들기",path:"/albums/upload"})}),g.jsx("div",{className:"absolute left-[32px] top-[31px] text-[20px] font-['Pretendard'] font-semibold text-[#333] whitespace-nowrap",children:"성장일지"}),g.jsxs("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2 text-[30px] font-['Pretendard'] font-light text-[#8e8e8e] text-center whitespace-nowrap",children:["아직 성장일지가 없어요!",g.jsx("br",{}),"성장일지를 만들러 가볼까요?"]})]}),r5="/assets/game_quiz-DU_ePgsk.png",i5="/assets/game_callmyname-MQFEeu4V.png",o5=()=>{const t=tt(),e=()=>{t("/quiz")},n=()=>{t("/callMyName")};return g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:e,children:g.jsx("img",{src:r5,alt:"QuizButton",className:"half-feature-box hover:border-solid border-8 border-[#FFBF33]"})}),g.jsx("button",{onClick:n,children:g.jsx("img",{src:i5,alt:"CallMyNameButton",className:"half-feature-box hover:border-solid border-8 border-[#9F6AD5]"})})]})},s5=()=>{const t=tt(),e=()=>{t("./ready")},n=()=>{t("./qna")},r=()=>{t("./history")};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"flex justify-evenly items-center w-full",children:[g.jsx("button",{className:"quiz-select-box",onClick:e,children:"퀴즈 시작"}),g.jsx("button",{className:"quiz-select-box",onClick:n,children:"질문 목록"}),g.jsx("button",{className:"quiz-select-box",onClick:r,children:"결과 기록"})]})})},cf=t=>{const e=tt(),n=()=>{e(t.path)},r=["돌아가기","준비 취소","초기화"];return(()=>{for(let o=0;o<r.length;o++)if(r[o]==t.name)return!0;return!1})()?g.jsx("button",{onClick:n,className:"rounded-md gray-btn game-btn-common common-btn",children:t.name}):g.jsx("button",{onClick:n,className:"rounded-md game-btn-quiz game-btn-common common-btn",children:t.name})},a5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFfSURBVHgBtZaBbcMgEEXPUgdIN+gI3qBkg47gDZIN6k6QbJBugjdwOoGzgbvBzyETiSQchgBPOiHLx33fHWCIHgCg2DTbbMcN1YQFDnimp1rYrHzMVbIVMqyXLQdssU7ZbDnYCXEcqRANBxt5bCN8/5umeV9z4nhfPNyqMvCci88plqhMbbtmpy1tqqiZ1Kf2c1XYefnIiTIICpueCqIdZSIJv7H9kX8hfbL9BgLueNhTPKZFmudtzeQOMpuAaI/X0I0NPAuxf3jJ94KoqU7MVts5fme27S2AFr4q6yTiud9OrPEuFpbfmURK3+IEHadJEB0pkShB67gPZKsoEiwL82JtQKg95iXkg0JTLRDeBor8H5r3y1vJdmL7sH5m4R2sr/9QTxQO9RbVyg9534ZQlIMpI+QyV822QzqKckH6oV5ma70gXObWiKXUU4TgQCXBsrhM1mfc3wbM8xEJ/bwCUubKsvC728EAAAAASUVORK5CYII=",l5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFhSURBVHgBtZaBccMgDADlTpARPEJGYIRukIzgDcIG6QZkg3QDZ4NmA7qBu4EqzvjqMxKohvwd54tl9AgwDgADIhpqI87c4ZWQ4EDtiikDvIIo/EKeKcShNZTUYR4LLaGEZyzTrNq3eD0png1CcW1pQH0mZribE+rwQtJjzOGY2CX2vWwDWmxGuOAY4cKglYaEFoX1RH7XO0bocb0EKHMFBZh/3VJh7OSFh99BSUacCJfd+xRyGVDSdd0PXT6Z0INi38CMchAqVb+bmK7hGsd1OGQ62B1CT+2uEY+CdCoIDSPsY+y2iZ22nXNHoSmI7Va4ii3iG9cxTLF0Mo1QAOd90QuxMyhG/O9qd1NbbY04V20P/EDrPnmFaj3+7cywa118NrQj1FCoFoVB1U8/5g9wCQM1YPqd1NCkWs1/p7bVRnFpfdtXu0cMrcB5qr3C+YCWUMKe2ge150oyxd/hvtHk+QWRW0kTpCcH7gAAAABJRU5ErkJggg==";var _k={},$y={};(function(t){var e=J&&J.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();function n(r){if(!r)return n.__;Array.prototype.reduce||(Array.prototype.reduce=function(s,a){for(var l=a,c=0;c<this.length;c++)l=s(l,this[c],c,this);return l});var i="",o=("."+r).split(".").reduce(function(s,a,l,c){i?i+="."+a:i=a;var u=s["__"+i];return u===void 0&&(n.Logger.prototype=s,u=new n.Logger(i),s["__"+i]=u),u},n.__);return o}(function(r){r.requestId="",r.entryId=0,r._createXMLHttpRequest=function(){return new XMLHttpRequest},r._getTime=function(){return new Date().getTime()},r._console=console,r._appenderNames=[];function i(D,C,x){if(C[D]!==void 0){if(C[D]===null){delete x[D];return}x[D]=C[D]}}function o(D){if(r.enabled!=null&&!r.enabled)return!1;try{if(D.userAgentRegex&&!new RegExp(D.userAgentRegex).test(navigator.userAgent))return!1}catch{}try{if(D.ipRegex&&r.clientIP&&!new RegExp(D.ipRegex).test(r.clientIP))return!1}catch{}return!0}function s(D,C){try{if(D.disallow&&new RegExp(D.disallow).test(C))return!1}catch{}return!0}function a(D){return typeof D=="function"?D instanceof RegExp?D.toString():D():D}var l=function(){function D(C,x,T){this.msg=C,this.meta=x,this.finalString=T}return D}();function c(D){var C=a(D),x;switch(typeof C){case"string":return new l(C,null,C);case"number":return x=C.toString(),new l(x,null,x);case"boolean":return x=C.toString(),new l(x,null,x);case"undefined":return new l("undefined",null,"undefined");case"object":return C instanceof RegExp||C instanceof String||C instanceof Number||C instanceof Boolean?(x=C.toString(),new l(x,null,x)):(typeof r.serialize=="function"?x=r.serialize.call(this,C):x=JSON.stringify(C),new l("",C,x));default:return new l("unknown",null,"unknown")}}function u(D){return i("enabled",D,this),i("maxMessages",D,this),i("defaultAjaxUrl",D,this),i("clientIP",D,this),i("requestId",D,this),i("defaultBeforeSend",D,this),i("serialize",D,this),this}r.setOptions=u;function d(){return-2147483648}r.getAllLevel=d;function f(){return 1e3}r.getTraceLevel=f;function h(){return 2e3}r.getDebugLevel=h;function m(){return 3e3}r.getInfoLevel=m;function y(){return 4e3}r.getWarnLevel=y;function v(){return 5e3}r.getErrorLevel=v;function p(){return 6e3}r.getFatalLevel=p;function b(){return 2147483647}r.getOffLevel=b;function w(D){return D<=1e3?"trace":D<=2e3?"debug":D<=3e3?"info":D<=4e3?"warn":D<=5e3?"error":"fatal"}var _=function(){function D(C,x){this.inner=x,this.name="JL.Exception",this.message=c(C).finalString}return D}();r.Exception=_,_.prototype=new Error;var R=function(){function D(C,x,T,I,U){this.l=C,this.m=x,this.n=T,this.t=I,this.u=U}return D}();r.LogItem=R;function M(D,C,x){return r.entryId++,new R(D,C,x,r._getTime(),r.entryId)}function O(D){D.id&&(clearTimeout(D.id),D.id=null)}function E(D,C,x){var T=this;D.id||(D.id=setTimeout(function(){x.call(T)},C))}var N=function(){function D(C,x){this.appenderName=C,this.sendLogItems=x,this.level=r.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var T="Trying to create an appender without a name or with an empty name";if(C==null)throw T;if(r._appenderNames.indexOf(C)!=-1)throw C?"Multiple appenders use the same name "+C:T;r._appenderNames.push(C)}return D.prototype.addLogItemsToBuffer=function(C){if(this.batchBuffer.length>=this.maxBatchSize){this.nbrLogItemsSkipped+=C.length;return}if(r.maxMessages!=null){if(r.maxMessages<1)return;r.maxMessages-=C.length}this.batchBuffer=this.batchBuffer.concat(C);var x=this;E(this.batchTimeoutTimer,this.batchTimeout,function(){x.sendBatch.call(x)})},D.prototype.batchBufferHasOverdueMessages=function(){for(var C=0;C<this.batchBuffer.length;C++){var x=r._getTime()-this.batchBuffer[C].t;if(x>this.batchTimeout)return!0}return!1},D.prototype.batchBufferHasStrandedMessage=function(){return r.maxMessages!=null&&r.maxMessages<1&&this.batchBuffer.length>0},D.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},D.prototype.onSendingEnded=function(){O(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},D.prototype.setOptions=function(C){if(i("level",C,this),i("ipRegex",C,this),i("userAgentRegex",C,this),i("disallow",C,this),i("sendWithBufferLevel",C,this),i("storeInBufferLevel",C,this),i("bufferSize",C,this),i("batchSize",C,this),i("maxBatchSize",C,this),i("batchTimeout",C,this),i("sendTimeout",C,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new r.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},D.prototype.log=function(C,x,T,I,U,$,re){var G;if(o(this)&&s(this,$)&&!(U<this.storeInBufferLevel)){if(G=M(U,$,re),U<this.level){this.bufferSize>0&&(this.buffer.push(G),this.buffer.length>this.bufferSize&&this.buffer.shift());return}this.addLogItemsToBuffer([G]),U>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete()}},D.prototype.sendBatch=function(){if(!(this.nbrLogItemsBeingSent>0)&&(O(this.batchTimeoutTimer),this.batchBuffer.length!=0)){this.nbrLogItemsBeingSent=this.batchBuffer.length;var C=this;E(this.sendTimeoutTimer,this.sendTimeout,function(){C.onSendingEnded.call(C)}),this.sendLogItems(this.batchBuffer,function(){C.batchBuffer.splice(0,C.nbrLogItemsBeingSent),C.nbrLogItemsSkipped>0&&(C.batchBuffer.push(M(y(),"Lost "+C.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",C.appenderName)),C.nbrLogItemsSkipped=0),C.onSendingEnded.call(C)})}},D}();r.Appender=N;var H=function(D){e(C,D);function C(x){return D.call(this,x,C.prototype.sendLogItemsAjax)||this}return C.prototype.setOptions=function(x){return i("url",x,this),i("beforeSend",x,this),D.prototype.setOptions.call(this,x),this},C.prototype.sendLogItemsAjax=function(x,T){try{if(!o(this))return;this.xhr&&this.xhr.readyState!=0&&this.xhr.readyState!=4&&this.xhr.abort(),this.xhr=r._createXMLHttpRequest();var I="/jsnlog.logger";r.defaultAjaxUrl!=null&&(I=r.defaultAjaxUrl),this.url&&(I=this.url),this.xhr.open("POST",I),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",r.requestId);var U=this;this.xhr.onreadystatechange=function(){U.xhr.readyState==4&&U.xhr.status>=200&&U.xhr.status<300&&T()};var $={r:r.requestId,lg:x};typeof this.beforeSend=="function"?this.beforeSend.call(this,this.xhr,$):typeof r.defaultBeforeSend=="function"&&r.defaultBeforeSend.call(this,this.xhr,$);var re=JSON.stringify($);this.xhr.send(re)}catch{}},C}(N);r.AjaxAppender=H;var z=function(D){e(C,D);function C(x){return D.call(this,x,C.prototype.sendLogItemsConsole)||this}return C.prototype.clog=function(x){r._console.log(x)},C.prototype.cerror=function(x){r._console.error?r._console.error(x):this.clog(x)},C.prototype.cwarn=function(x){r._console.warn?r._console.warn(x):this.clog(x)},C.prototype.cinfo=function(x){r._console.info?r._console.info(x):this.clog(x)},C.prototype.cdebug=function(x){r._console.debug?r._console.debug(x):this.cinfo(x)},C.prototype.sendLogItemsConsole=function(x,T){try{if(!o(this)||!r._console)return;var I;for(I=0;I<x.length;++I){var U=x[I],$=U.n+": "+U.m;typeof window>"u"&&($=new Date(U.t)+" | "+$),U.l<=r.getDebugLevel()?this.cdebug($):U.l<=r.getInfoLevel()?this.cinfo($):U.l<=r.getWarnLevel()?this.cwarn($):this.cerror($)}}catch{}T()},C}(N);r.ConsoleAppender=z;var j=function(){function D(C){this.loggerName=C,this.seenRegexes=[]}return D.prototype.setOptions=function(C){return i("level",C,this),i("userAgentRegex",C,this),i("disallow",C,this),i("ipRegex",C,this),i("appenders",C,this),i("onceOnly",C,this),this.seenRegexes=[],this},D.prototype.buildExceptionObject=function(C){var x={};return C.stack?x.stack=C.stack:x.e=C,C.message&&(x.message=C.message),C.name&&(x.name=C.name),C.data&&(x.data=C.data),C.inner&&(x.inner=this.buildExceptionObject(C.inner)),x},D.prototype.log=function(C,x,T){var I=0,U,$;if(!this.appenders)return this;if(C>=this.level&&o(this)&&(T?($=this.buildExceptionObject(T),$.logData=a(x)):$=x,U=c($),s(this,U.finalString))){if(this.onceOnly)for(I=this.onceOnly.length-1;I>=0;){if(new RegExp(this.onceOnly[I]).test(U.finalString)){if(this.seenRegexes[I])return this;this.seenRegexes[I]=!0}I--}for(U.meta=U.meta||{},I=this.appenders.length-1;I>=0;)this.appenders[I].log(w(C),U.msg,U.meta,function(){},C,U.finalString,this.loggerName),I--}return this},D.prototype.trace=function(C){return this.log(f(),C)},D.prototype.debug=function(C){return this.log(h(),C)},D.prototype.info=function(C){return this.log(m(),C)},D.prototype.warn=function(C){return this.log(y(),C)},D.prototype.error=function(C){return this.log(v(),C)},D.prototype.fatal=function(C){return this.log(p(),C)},D.prototype.fatalException=function(C,x){return this.log(p(),C,x)},D}();r.Logger=j;function S(D){return new H(D)}r.createAjaxAppender=S;function k(D){return new z(D)}r.createConsoleAppender=k;var A;typeof window<"u"?A=new H(""):A=new z(""),r.__=new r.Logger(""),r.__.setOptions({level:r.getDebugLevel(),appenders:[A]})})(n||(n={})),t.__esModule=!0,t.JL=n,typeof __jsnlog_configure=="function"&&__jsnlog_configure(n),typeof window<"u"&&!window.onerror&&(window.onerror=function(r,i,o,s,a){return n("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:r?r.message||r:"",url:i,"line number":o,column:s},a),!1}),typeof window<"u"&&!window.onunhandledrejection&&(window.onunhandledrejection=function(r){n("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:r.reason?r.reason.message:r.message||null},r.reason)})})($y);var th={},wc={},zy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRecorderState=void 0,function(e){e.READY="READY",e.RECORDING="RECORDING",e.PAUSED="PAUSED",e.FINISHED="FINISHED"}(t.LocalRecorderState||(t.LocalRecorderState={}))})(zy);var ft={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.ConsoleLogger=void 0;var c5=function(){function t(e){this.logger=e,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error}return t}();nh.ConsoleLogger=c5;var Yy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduLoggerConfiguration=void 0,function(e){e.disabled="disabled",e.debug="debug",e.debug_app="debug_app"}(t.OpenViduLoggerConfiguration||(t.OpenViduLoggerConfiguration={}))})(Yy);Object.defineProperty(ft,"__esModule",{value:!0});ft.OpenViduLogger=void 0;var bn=$y,u5=nh,Lp=Yy,d5=function(){function t(){this.JSNLOG_URL="/openvidu/elk/openvidu-browser-logs",this.MAX_JSNLOG_BATCH_LOG_MESSAGES=100,this.MAX_MSECONDS_BATCH_MESSAGES=5e3,this.MAX_LENGTH_STRING_JSON=1e3,this.defaultConsoleLogger=new u5.ConsoleLogger(globalThis.console),this.isProdMode=!1,this.isJSNLogSetup=!1}return t.configureJSNLog=function(e,n){var r=this;try{if(globalThis.LOG_JSNLOG_RESULTS||this.instance&&e.isAtLeastPro&&this.instance.isOpenViduBrowserLogsDebugActive(e)&&this.instance.canConfigureJSNLog(e,this.instance)){e.sendBrowserLogs===Lp.OpenViduLoggerConfiguration.debug_app&&this.instance.replaceWindowConsole(),this.instance.isJSNLogSetup=!1,this.instance.info("Configuring JSNLogs.");var i=e.finalUserId,o=e.session.sessionId,s=function(l){var c=l.onreadystatechange;l.onreadystatechange=function(){r.isInvalidResponse(l)&&(Object.defineProperty(l,"readyState",{value:4}),Object.defineProperty(l,"status",{value:200}),r.instance.disableLogger()),c()},l.setRequestHeader("Authorization","Basic "+btoa("".concat(i,"%/%").concat(o)+":"+n)),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("OV-Final-User-Id",i),l.setRequestHeader("OV-Session-Id",o),l.setRequestHeader("OV-Token",n)};this.instance.currentAppender=bn.JL.createAjaxAppender("appender-".concat(i,"-").concat(o)),this.instance.currentAppender.setOptions({beforeSend:s,maxBatchSize:1e3,batchSize:this.instance.MAX_JSNLOG_BATCH_LOG_MESSAGES,batchTimeout:this.instance.MAX_MSECONDS_BATCH_MESSAGES});var a=function(l){var c=function(){var d=new WeakSet;return function(f,h){if(typeof h=="object"&&h!=null){if(d.has(h)||globalThis.HTMLElement&&h instanceof HTMLElement)return;d.add(h)}return h}},u=JSON.stringify(l,c());return u.length>r.instance.MAX_LENGTH_STRING_JSON&&(u="".concat(u.substring(0,r.instance.MAX_LENGTH_STRING_JSON),"...")),globalThis.LOG_JSNLOG_RESULTS&&console.log(u),u};bn.JL.setOptions({defaultAjaxUrl:e.httpUri+this.instance.JSNLOG_URL,serialize:a,enabled:!0}),(0,bn.JL)().setOptions({appenders:[this.instance.currentAppender]}),this.instance.isJSNLogSetup=!0,this.instance.loggingSessionId=o,this.instance.info("JSNLog configured.")}}catch(l){console.error("Error configuring JSNLog: "),console.error(l),this.instance.disableLogger()}},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.isInvalidResponse=function(e){return e.status==401||e.status==403||e.status==404||e.status==0},t.prototype.canConfigureJSNLog=function(e,n){return e.session.sessionId!=n.loggingSessionId},t.prototype.isOpenViduBrowserLogsDebugActive=function(e){return e.sendBrowserLogs===Lp.OpenViduLoggerConfiguration.debug||e.sendBrowserLogs===Lp.OpenViduLoggerConfiguration.debug_app},t.prototype.getConsoleWithJSNLog=function(){return function(e){return{log:function(){e.defaultConsoleLogger.log.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,bn.JL)().info(arguments)},info:function(){e.defaultConsoleLogger.info.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,bn.JL)().info(arguments)},debug:function(){e.defaultConsoleLogger.debug.apply(e.defaultConsoleLogger.logger,arguments)},warn:function(){e.defaultConsoleLogger.warn.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,bn.JL)().warn(arguments)},error:function(){e.defaultConsoleLogger.error.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,bn.JL)().error(arguments)}}}(this)},t.prototype.replaceWindowConsole=function(){globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.getConsoleWithJSNLog().log,globalThis.console.info=this.getConsoleWithJSNLog().info,globalThis.console.debug=this.getConsoleWithJSNLog().debug,globalThis.console.warn=this.getConsoleWithJSNLog().warn,globalThis.console.error=this.getConsoleWithJSNLog().error},t.prototype.disableLogger=function(){bn.JL.setOptions({enabled:!1}),this.isJSNLogSetup=!1,this.loggingSessionId=void 0,this.currentAppender=void 0,globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.defaultConsoleLogger.log,globalThis.console.info=this.defaultConsoleLogger.info,globalThis.console.debug=this.defaultConsoleLogger.debug,globalThis.console.warn=this.defaultConsoleLogger.warn,globalThis.console.error=this.defaultConsoleLogger.error},t.prototype.log=function(){this.isProdMode||this.defaultConsoleLogger.log.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,bn.JL)().info(arguments)},t.prototype.debug=function(){this.isProdMode||this.defaultConsoleLogger.debug.apply(this.defaultConsoleLogger.logger,arguments)},t.prototype.info=function(){this.isProdMode||this.defaultConsoleLogger.info.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,bn.JL)().info(arguments)},t.prototype.warn=function(){this.defaultConsoleLogger.warn.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,bn.JL)().warn(arguments)},t.prototype.error=function(){this.defaultConsoleLogger.error.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,bn.JL)().error(arguments)},t.prototype.flush=function(){this.isJSNLogSetup&&this.currentAppender!=null&&this.currentAppender.sendBatch()},t.prototype.enableProdMode=function(){this.isProdMode=!0},t}();ft.OpenViduLogger=d5;var Qn={},uf={exports:{}};/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */uf.exports;(function(t,e){(function(){var n={function:!0,object:!0},r=n[typeof window]&&window||this,i=e,o=t&&!t.nodeType&&t,s=i&&o&&typeof window=="object"&&window;s&&(s.global===s||s.window===s||s.self===s)&&(r=s);var a=Math.pow(2,53)-1,l=/\bOpera/,c=Object.prototype,u=c.hasOwnProperty,d=c.toString;function f(E){return E=String(E),E.charAt(0).toUpperCase()+E.slice(1)}function h(E,N,H){var z={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return N&&H&&/^Win/i.test(E)&&!/^Windows Phone /i.test(E)&&(z=z[/[\d.]+$/.exec(E)])&&(E="Windows "+z),E=String(E),N&&H&&(E=E.replace(RegExp(N,"i"),H)),E=y(E.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),E}function m(E,N){var H=-1,z=E?E.length:0;if(typeof z=="number"&&z>-1&&z<=a)for(;++H<z;)N(E[H],H,E);else v(E,N)}function y(E){return E=R(E),/^(?:webOS|i(?:OS|P))/.test(E)?E:f(E)}function v(E,N){for(var H in E)u.call(E,H)&&N(E[H],H,E)}function p(E){return E==null?f(E):d.call(E).slice(8,-1)}function b(E,N){var H=E!=null?typeof E[N]:"number";return!/^(?:boolean|number|string|undefined)$/.test(H)&&(H=="object"?!!E[N]:!0)}function w(E){return String(E).replace(/([ -])(?!$)/g,"$1?")}function _(E,N){var H=null;return m(E,function(z,j){H=N(H,z,j,E)}),H}function R(E){return String(E).replace(/^ +| +$/g,"")}function M(E){var N=r,H=E&&typeof E=="object"&&p(E)!="String";H&&(N=E,E=null);var z=N.navigator||{},j=z.userAgent||"";E||(E=j);var S=H?!!z.likeChrome:/\bChrome\b/.test(E)&&!/internal|\n/i.test(d.toString()),k="Object",A=H?k:"ScriptBridgingProxyObject",D=H?k:"Environment",C=H&&N.java?"JavaPackage":p(N.java),x=H?k:"RuntimeObject",T=/\bJava/.test(C)&&N.java,I=T&&p(N.environment)==D,U=T?"a":"α",$=T?"b":"β",re=N.document||{},G=N.operamini||N.opera,ce=l.test(ce=H&&G?G["[[Class]]"]:p(G))?ce:G=null,P,fe=E,oe=[],at=null,Xe=E==j,Z=Xe&&G&&typeof G.version=="function"&&G.version(),Bt,ae=vO([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),q=bO(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),ie=yb([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),_e=yO({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),X=wO(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function vO(_t){return _(_t,function(Ve,xe){return Ve||RegExp("\\b"+(xe.pattern||w(xe))+"\\b","i").exec(E)&&(xe.label||xe)})}function yO(_t){return _(_t,function(Ve,xe,In){return Ve||(xe[ie]||xe[/^[a-z]+(?: +[a-z]+\b)*/i.exec(ie)]||RegExp("\\b"+w(In)+"(?:\\b|\\w*\\d)","i").exec(E))&&In})}function bO(_t){return _(_t,function(Ve,xe){return Ve||RegExp("\\b"+(xe.pattern||w(xe))+"\\b","i").exec(E)&&(xe.label||xe)})}function wO(_t){return _(_t,function(Ve,xe){var In=xe.pattern||w(xe);return!Ve&&(Ve=RegExp("\\b"+In+"(?:/[\\d.]+|[ \\w.]*)","i").exec(E))&&(Ve=h(Ve,In,xe.label||xe)),Ve})}function yb(_t){return _(_t,function(Ve,xe){var In=xe.pattern||w(xe);return!Ve&&(Ve=RegExp("\\b"+In+" *\\d+[.\\w_]*","i").exec(E)||RegExp("\\b"+In+" *\\w+-[\\w]*","i").exec(E)||RegExp("\\b"+In+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(E))&&((Ve=String(xe.label&&!RegExp(In,"i").test(xe.label)?xe.label:Ve).split("/"))[1]&&!/[\d.]+/.test(Ve[0])&&(Ve[0]+=" "+Ve[1]),xe=xe.label||xe,Ve=y(Ve[0].replace(RegExp(In,"i"),xe).replace(RegExp("; *(?:"+xe+"[_-])?","i")," ").replace(RegExp("("+xe+")[-_.]?(\\w)","i"),"$1 $2"))),Ve})}function bb(_t){return _(_t,function(Ve,xe){return Ve||(RegExp(xe+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(E)||0)[1]||null})}function EO(){return this.description||""}if(ae&&(ae=[ae]),/\bAndroid\b/.test(X)&&!ie&&(P=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(E))&&(ie=R(P[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),_e&&!ie?ie=yb([_e]):_e&&ie&&(ie=ie.replace(RegExp("^("+w(_e)+")[-_.\\s]","i"),_e+" ").replace(RegExp("^("+w(_e)+")[-_.]?(\\w)","i"),_e+" $2")),(P=/\bGoogle TV\b/.exec(ie))&&(ie=P[0]),/\bSimulator\b/i.test(E)&&(ie=(ie?ie+" ":"")+"Simulator"),q=="Opera Mini"&&/\bOPiOS\b/.test(E)&&oe.push("running in Turbo/Uncompressed mode"),q=="IE"&&/\blike iPhone OS\b/.test(E)?(P=M(E.replace(/like iPhone OS/,"")),_e=P.manufacturer,ie=P.product):/^iP/.test(ie)?(q||(q="Safari"),X="iOS"+((P=/ OS ([\d_]+)/i.exec(E))?" "+P[1].replace(/_/g,"."):"")):q=="Konqueror"&&/^Linux\b/i.test(X)?X="Kubuntu":_e&&_e!="Google"&&(/Chrome/.test(q)&&!/\bMobile Safari\b/i.test(E)||/\bVita\b/.test(ie))||/\bAndroid\b/.test(X)&&/^Chrome/.test(q)&&/\bVersion\//i.test(E)?(q="Android Browser",X=/\bAndroid\b/.test(X)?X:"Android"):q=="Silk"?(/\bMobi/i.test(E)||(X="Android",oe.unshift("desktop mode")),/Accelerated *= *true/i.test(E)&&oe.unshift("accelerated")):q=="UC Browser"&&/\bUCWEB\b/.test(E)?oe.push("speed mode"):q=="PaleMoon"&&(P=/\bFirefox\/([\d.]+)\b/.exec(E))?oe.push("identifying as Firefox "+P[1]):q=="Firefox"&&(P=/\b(Mobile|Tablet|TV)\b/i.exec(E))?(X||(X="Firefox OS"),ie||(ie=P[1])):!q||(P=!/\bMinefield\b/i.test(E)&&/\b(?:Firefox|Safari)\b/.exec(q))?(q&&!ie&&/[\/,]|^[^(]+?\)/.test(E.slice(E.indexOf(P+"/")+8))&&(q=null),(P=ie||_e||X)&&(ie||_e||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(X))&&(q=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(X)?X:P)+" Browser")):q=="Electron"&&(P=(/\bChrome\/([\d.]+)\b/.exec(E)||0)[1])&&oe.push("Chromium "+P),Z||(Z=bb(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",w(q),"(?:Firefox|Minefield|NetFront)"])),(P=ae=="iCab"&&parseFloat(Z)>3&&"WebKit"||/\bOpera\b/.test(q)&&(/\bOPR\b/.test(E)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(E)&&!/^(?:Trident|EdgeHTML)$/.test(ae)&&"WebKit"||!ae&&/\bMSIE\b/i.test(E)&&(X=="Mac OS"?"Tasman":"Trident")||ae=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(q)&&"NetFront")&&(ae=[P]),q=="IE"&&(P=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(E)||0)[1])?(q+=" Mobile",X="Windows Phone "+(/\+$/.test(P)?P:P+".x"),oe.unshift("desktop mode")):/\bWPDesktop\b/i.test(E)?(q="IE Mobile",X="Windows Phone 8.x",oe.unshift("desktop mode"),Z||(Z=(/\brv:([\d.]+)/.exec(E)||0)[1])):q!="IE"&&ae=="Trident"&&(P=/\brv:([\d.]+)/.exec(E))&&(q&&oe.push("identifying as "+q+(Z?" "+Z:"")),q="IE",Z=P[1]),Xe){if(b(N,"global"))if(T&&(P=T.lang.System,fe=P.getProperty("os.arch"),X=X||P.getProperty("os.name")+" "+P.getProperty("os.version")),I){try{Z=N.require("ringo/engine").version.join("."),q="RingoJS"}catch{(P=N.system)&&P.global.system==N.system&&(q="Narwhal",X||(X=P[0].os||null))}q||(q="Rhino")}else typeof N.process=="object"&&!N.process.browser&&(P=N.process)&&(typeof P.versions=="object"&&(typeof P.versions.electron=="string"?(oe.push("Node "+P.versions.node),q="Electron",Z=P.versions.electron):typeof P.versions.nw=="string"&&(oe.push("Chromium "+Z,"Node "+P.versions.node),q="NW.js",Z=P.versions.nw)),q||(q="Node.js",fe=P.arch,X=P.platform,Z=/[\d.]+/.exec(P.version),Z=Z?Z[0]:null));else p(P=N.runtime)==A?(q="Adobe AIR",X=P.flash.system.Capabilities.os):p(P=N.phantom)==x?(q="PhantomJS",Z=(P=P.version||null)&&P.major+"."+P.minor+"."+P.patch):typeof re.documentMode=="number"&&(P=/\bTrident\/(\d+)/i.exec(E))?(Z=[Z,re.documentMode],(P=+P[1]+4)!=Z[1]&&(oe.push("IE "+Z[1]+" mode"),ae&&(ae[1]=""),Z[1]=P),Z=q=="IE"?String(Z[1].toFixed(1)):Z[0]):typeof re.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(q)&&(oe.push("masking as "+q+" "+Z),q="IE",Z="11.0",ae=["Trident"],X="Windows");X=X&&y(X)}if(Z&&(P=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Z)||/(?:alpha|beta)(?: ?\d)?/i.exec(E+";"+(Xe&&z.appMinorVersion))||/\bMinefield\b/i.test(E)&&"a")&&(at=/b/i.test(P)?"beta":"alpha",Z=Z.replace(RegExp(P+"\\+?$"),"")+(at=="beta"?$:U)+(/\d+\+?/.exec(P)||"")),q=="Fennec"||q=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(X))q="Firefox Mobile";else if(q=="Maxthon"&&Z)Z=Z.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(ie))ie=="Xbox 360"&&(X=null),ie=="Xbox 360"&&/\bIEMobile\b/.test(E)&&oe.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(q)||q&&!ie&&!/Browser|Mobi/.test(q))&&(X=="Windows CE"||/Mobi/i.test(E)))q+=" Mobile";else if(q=="IE"&&Xe)try{N.external===null&&oe.unshift("platform preview")}catch{oe.unshift("embedded")}else(/\bBlackBerry\b/.test(ie)||/\bBB10\b/.test(E))&&(P=(RegExp(ie.replace(/ +/g," *")+"/([.\\d]+)","i").exec(E)||0)[1]||Z)?(P=[P,/BB10/.test(E)],X=(P[1]?(ie=null,_e="BlackBerry"):"Device Software")+" "+P[0],Z=null):this!=v&&ie!="Wii"&&(Xe&&G||/Opera/.test(q)&&/\b(?:MSIE|Firefox)\b/i.test(E)||q=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(X)||q=="IE"&&(X&&!/^Win/.test(X)&&Z>5.5||/\bWindows XP\b/.test(X)&&Z>8||Z==8&&!/\bTrident\b/.test(E)))&&!l.test(P=M.call(v,E.replace(l,"")+";"))&&P.name&&(P="ing as "+P.name+((P=P.version)?" "+P:""),l.test(q)?(/\bIE\b/.test(P)&&X=="Mac OS"&&(X=null),P="identify"+P):(P="mask"+P,ce?q=y(ce.replace(/([a-z])([A-Z])/g,"$1 $2")):q="Opera",/\bIE\b/.test(P)&&(X=null),Xe||(Z=null)),ae=["Presto"],oe.push(P));(P=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(E)||0)[1])&&(P=[parseFloat(P.replace(/\.(\d)$/,".0$1")),P],q=="Safari"&&P[1].slice(-1)=="+"?(q="WebKit Nightly",at="alpha",Z=P[1].slice(0,-1)):(Z==P[1]||Z==(P[2]=(/\bSafari\/([\d.]+\+?)/i.exec(E)||0)[1]))&&(Z=null),P[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(E)||0)[1],P[0]==537.36&&P[2]==537.36&&parseFloat(P[1])>=28&&ae=="WebKit"&&(ae=["Blink"]),!Xe||!S&&!P[1]?(ae&&(ae[1]="like Safari"),P=(P=P[0],P<400?1:P<500?2:P<526?3:P<533?4:P<534?"4+":P<535?5:P<537?6:P<538?7:P<601?8:P<602?9:P<604?10:P<606?11:P<608?12:"12")):(ae&&(ae[1]="like Chrome"),P=P[1]||(P=P[0],P<530?1:P<532?2:P<532.05?3:P<533?4:P<534.03?5:P<534.07?6:P<534.1?7:P<534.13?8:P<534.16?9:P<534.24?10:P<534.3?11:P<535.01?12:P<535.02?"13+":P<535.07?15:P<535.11?16:P<535.19?17:P<536.05?18:P<536.1?19:P<537.01?20:P<537.11?"21+":P<537.13?23:P<537.18?24:P<537.24?25:P<537.36?26:ae!="Blink"?"27":"28")),ae&&(ae[1]+=" "+(P+=typeof P=="number"?".x":/[.+]/.test(P)?"":"+")),q=="Safari"&&(!Z||parseInt(Z)>45)?Z=P:q=="Chrome"&&/\bHeadlessChrome/i.test(E)&&oe.unshift("headless")),q=="Opera"&&(P=/\bzbov|zvav$/.exec(X))?(q+=" ",oe.unshift("desktop mode"),P=="zvav"?(q+="Mini",Z=null):q+="Mobile",X=X.replace(RegExp(" *"+P+"$"),"")):q=="Safari"&&/\bChrome\b/.exec(ae&&ae[1])?(oe.unshift("desktop mode"),q="Chrome Mobile",Z=null,/\bOS X\b/.test(X)?(_e="Apple",X="iOS 4.3+"):X=null):/\bSRWare Iron\b/.test(q)&&!Z&&(Z=bb("Chrome")),Z&&Z.indexOf(P=/[\d.]+$/.exec(X))==0&&E.indexOf("/"+P+"-")>-1&&(X=R(X.replace(P,""))),X&&X.indexOf(q)!=-1&&!RegExp(q+" OS").test(X)&&(X=X.replace(RegExp(" *"+w(q)+" *"),"")),ae&&!/\b(?:Avant|Nook)\b/.test(q)&&(/Browser|Lunascape|Maxthon/.test(q)||q!="Safari"&&/^iOS/.test(X)&&/\bSafari\b/.test(ae[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(q)&&ae[1])&&(P=ae[ae.length-1])&&oe.push(P),oe.length&&(oe=["("+oe.join("; ")+")"]),_e&&ie&&ie.indexOf(_e)<0&&oe.push("on "+_e),ie&&oe.push((/^on /.test(oe[oe.length-1])?"":"on ")+ie),X&&(P=/ ([\d.+]+)$/.exec(X),Bt=P&&X.charAt(X.length-P[0].length-1)=="/",X={architecture:32,family:P&&!Bt?X.replace(P[0],""):X,version:P?P[1]:null,toString:function(){var _t=this.version;return this.family+(_t&&!Bt?" "+_t:"")+(this.architecture==64?" 64-bit":"")}}),(P=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(fe))&&!/\bi686\b/i.test(fe)?(X&&(X.architecture=64,X.family=X.family.replace(RegExp(" *"+P),"")),q&&(/\bWOW64\b/i.test(E)||Xe&&/\w(?:86|32)$/.test(z.cpuClass||z.platform)&&!/\bWin64; x64\b/i.test(E))&&oe.unshift("32-bit")):X&&/^OS X/.test(X.family)&&q=="Chrome"&&parseFloat(Z)>=39&&(X.architecture=64),E||(E=null);var Vt={};return Vt.description=E,Vt.layout=ae&&ae[0],Vt.manufacturer=_e,Vt.name=q,Vt.prerelease=at,Vt.product=ie,Vt.ua=E,Vt.version=q&&Z,Vt.os=X||{architecture:null,family:null,version:null,toString:function(){return"null"}},Vt.parse=M,Vt.toString=EO,Vt.version&&oe.unshift(Z),Vt.name&&oe.unshift(q),X&&q&&!(X==String(X).split(" ")[0]&&(X==q.split(" ")[0]||ie))&&oe.push(ie?"("+X+")":"on "+X),oe.length&&(Vt.description=oe.join(" ")),Vt}var O=M();i&&o?v(O,function(E,N){i[N]=E}):r.platform=O}).call(J)})(uf,uf.exports);var f5=uf.exports;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.PlatformUtils=void 0;var le=f5,h5=function(){function t(){}return t.getInstance=function(){return this.instance||(this.instance=new t),t.instance},t.prototype.isChromeBrowser=function(){return le.name==="Chrome"},t.prototype.isSafariBrowser=function(){return le.name==="Safari"},t.prototype.isChromeMobileBrowser=function(){return le.name==="Chrome Mobile"},t.prototype.isFirefoxBrowser=function(){return le.name==="Firefox"},t.prototype.isFirefoxMobileBrowser=function(){return le.name==="Firefox Mobile"||le.name==="Firefox for iOS"},t.prototype.isOperaBrowser=function(){return le.name==="Opera"},t.prototype.isOperaMobileBrowser=function(){return le.name==="Opera Mobile"},t.prototype.isEdgeBrowser=function(){var e=le!=null&&le.version?parseFloat(le.version):-1;return le.name==="Microsoft Edge"&&e>=80},t.prototype.isEdgeMobileBrowser=function(){var e,n,r=le!=null&&le.version?parseFloat(le.version):-1;return le.name==="Microsoft Edge"&&(((e=le.os)===null||e===void 0?void 0:e.family)==="Android"||((n=le.os)===null||n===void 0?void 0:n.family)==="iOS")&&r>45},t.prototype.isAndroidBrowser=function(){return le.name==="Android Browser"},t.prototype.isElectron=function(){return le.name==="Electron"},t.prototype.isNodeJs=function(){return le.name==="Node.js"},t.prototype.isSamsungBrowser=function(){return le.name==="Samsung Internet Mobile"||le.name==="Samsung Internet"},t.prototype.isMotorolaEdgeDevice=function(){var e;return((e=le.product)===null||e===void 0?void 0:e.toLowerCase().includes("motorola edge"))||!1},t.prototype.isIPhoneOrIPad=function(){var e=le.ua?le.ua:navigator.userAgent,n="ontouchend"in document,r=/\b(\w*Macintosh\w*)\b/.test(e)&&n,i=/\b(\w*iPhone\w*)\b/.test(e)&&/\b(\w*Mobile\w*)\b/.test(e)&&n;return r||i},t.prototype.isIOSWithSafari=function(){var e=le.ua?le.ua:navigator.userAgent;return this.isIPhoneOrIPad()&&/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(e)&&!/\b(\w*CriOS\w*)\b/.test(e)&&!/\b(\w*FxiOS\w*)\b/.test(e)},t.prototype.isIonicIos=function(){return this.isIPhoneOrIPad()&&le.ua.indexOf("Safari")===-1},t.prototype.isIonicAndroid=function(){return le.os.family==="Android"&&le.name=="Android Browser"},t.prototype.isMobileDevice=function(){return le.os.family==="iOS"||le.os.family==="Android"},t.prototype.isReactNative=function(){return!1},t.prototype.isChromium=function(){return this.isChromeBrowser()||this.isChromeMobileBrowser()||this.isOperaBrowser()||this.isOperaMobileBrowser()||this.isEdgeBrowser()||this.isEdgeMobileBrowser()||this.isSamsungBrowser()||this.isIonicAndroid()||this.isIonicIos()||this.isElectron()||this.isMotorolaEdgeDevice()},t.prototype.canScreenShare=function(){var e=le!=null&&le.version?parseFloat(le.version):-1;return this.isMobileDevice()?!1:this.isChromeBrowser()||this.isFirefoxBrowser()||this.isOperaBrowser()||this.isElectron()||this.isEdgeBrowser()||this.isSafariBrowser()&&e>=13},t.prototype.getName=function(){return le.name||""},t.prototype.getVersion=function(){return le.version||""},t.prototype.getFamily=function(){return le.os.family||""},t.prototype.getDescription=function(){return le.description||""},t}();Qn.PlatformUtils=h5;function rh(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}rh.prototype.define=function(t,e){for(let n in t){let r=t[n].map(function(i){return i.toLowerCase()});n=n.toLowerCase();for(let i=0;i<r.length;i++){const o=r[i];if(o[0]!=="*"){if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(e||!this._extensions[n]){const i=r[0];this._extensions[n]=i[0]!=="*"?i:i.substr(1)}}};rh.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),n=e.replace(/^.*\./,"").toLowerCase(),r=e.length<t.length;return(n.length<e.length-1||!r)&&this._types[n]||null};rh.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};var p5=rh,m5={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let g5=p5;var v5=new g5(m5);Object.defineProperty(wc,"__esModule",{value:!0});wc.LocalRecorder=void 0;var ht=zy,y5=ft,b5=Qn,U0=v5,Ji=y5.OpenViduLogger.getInstance(),W0,w5=function(){function t(e){this.stream=e,this.chunks=[],W0=b5.PlatformUtils.getInstance(),this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=ht.LocalRecorderState.READY}return t.prototype.record=function(e){var n=this;return new Promise(function(r,i){try{if(typeof e=="string"||e instanceof String)return i(`When calling LocalRecorder.record(options) parameter 'options' cannot be a string. Must be an object like { mimeType: "`.concat(e,'" }'));if(typeof MediaRecorder>"u")throw Ji.error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder");if(n.state!==ht.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+n.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");Ji.log("Starting local recording of stream '"+n.stream.streamId+"' of connection '"+n.connectionId+"'"),e?e.mimeType||(e.mimeType="video/webm"):e={mimeType:"video/webm"},n.mediaRecorder=new MediaRecorder(n.stream.getMediaStream(),e),n.mediaRecorder.start()}catch(o){return i(o)}return n.mediaRecorder.ondataavailable=function(o){o.data.size>0&&n.chunks.push(o.data)},n.mediaRecorder.onerror=function(o){Ji.error("MediaRecorder error: ",o)},n.mediaRecorder.onstart=function(){Ji.log("MediaRecorder started (state="+n.mediaRecorder.state+")")},n.mediaRecorder.onstop=function(){n.onStopDefault()},n.mediaRecorder.onpause=function(){Ji.log("MediaRecorder paused (state="+n.mediaRecorder.state+")")},n.mediaRecorder.onresume=function(){Ji.log("MediaRecorder resumed (state="+n.mediaRecorder.state+")")},n.state=ht.LocalRecorderState.RECORDING,r()})},t.prototype.stop=function(){var e=this;return new Promise(function(n,r){try{if(e.state===ht.LocalRecorderState.READY||e.state===ht.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' before");e.mediaRecorder.onstop=function(){return e.onStopDefault(),n()},e.mediaRecorder.stop()}catch(i){return r(i)}})},t.prototype.pause=function(){var e=this;return new Promise(function(n,r){try{return e.state!==ht.LocalRecorderState.RECORDING?r(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")):(e.mediaRecorder.pause(),e.state=ht.LocalRecorderState.PAUSED,n())}catch(i){return r(i)}})},t.prototype.resume=function(){var e=this;return new Promise(function(n,r){try{if(e.state!==ht.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.pause()' before");return e.mediaRecorder.resume(),e.state=ht.LocalRecorderState.RECORDING,n()}catch(i){return r(i)}})},t.prototype.preview=function(e){if(this.state!==ht.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,W0.isSafariBrowser()&&(this.videoPreview.playsInline=!0),typeof e=="string"){var n=document.getElementById(e);n&&(this.videoPreview=n.appendChild(this.videoPreview))}else this.videoPreview=e.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},t.prototype.clean=function(){var e=this,n=function(){delete e.blob,e.chunks=[],e.state=ht.LocalRecorderState.READY};this.state===ht.LocalRecorderState.RECORDING||this.state===ht.LocalRecorderState.PAUSED?this.stop().then(function(){return n()}).catch(function(){return n()}):n()},t.prototype.download=function(){if(this.state!==ht.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var e=document.createElement("a");e.style.display="none",document.body.appendChild(e);var n=globalThis.URL.createObjectURL(this.blob);e.href=n,e.download=this.id+"."+U0.getExtension(this.blob.type),e.click(),globalThis.URL.revokeObjectURL(n),document.body.removeChild(e)},t.prototype.getBlob=function(){if(this.state!==ht.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},t.prototype.uploadAsBinary=function(e,n){var r=this;return new Promise(function(i,o){if(r.state!==ht.LocalRecorderState.FINISHED)return o(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var s=new XMLHttpRequest;if(s.open("POST",e,!0),typeof n=="object")for(var a=0,l=Object.keys(n);a<l.length;a++){var c=l[a];s.setRequestHeader(c,n[c])}s.onreadystatechange=function(){if(s.readyState===4)return s.status.toString().charAt(0)==="2"?i(s.responseText):o(s.status)},s.send(r.blob)})},t.prototype.uploadAsMultipartfile=function(e,n){var r=this;return new Promise(function(i,o){if(r.state!==ht.LocalRecorderState.FINISHED)return o(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var s=new XMLHttpRequest;if(s.open("POST",e,!0),typeof n=="object")for(var a=0,l=Object.keys(n);a<l.length;a++){var c=l[a];s.setRequestHeader(c,n[c])}var u=new FormData;u.append("file",r.blob,r.id+"."+U0.getExtension(r.blob.type)),s.onreadystatechange=function(){if(s.readyState===4)return s.status.toString().charAt(0)==="2"?i(s.responseText):o(s.status)},s.send(u)})},t.prototype.onStopDefault=function(){Ji.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:this.mediaRecorder.mimeType}),this.chunks=[],this.videoPreviewSrc=globalThis.URL.createObjectURL(this.blob),this.state=ht.LocalRecorderState.FINISHED},t}();wc.LocalRecorder=w5;var Ua={},Wa={},Ec={},va={},ya={},qr={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.Event=void 0;var E5=function(){function t(e,n,r){this.hasBeenPrevented=!1,this.cancelable=e,this.target=n,this.type=r}return t.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},t.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},t}();bt.Event=E5;var S5=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qr,"__esModule",{value:!0});qr.StreamPropertyChangedEvent=void 0;var C5=bt,_5=function(t){S5(e,t);function e(n,r,i,o,s,a){var l=t.call(this,!1,n,"streamPropertyChanged")||this;return l.stream=r,l.changedProperty=i,l.newValue=o,l.oldValue=s,l.reason=a,l}return e.prototype.callDefaultBehavior=function(){},e}(C5.Event);qr.StreamPropertyChangedEvent=_5;var Qo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduError=t.OpenViduErrorName=void 0,function(n){n.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",n.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",n.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",n.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",n.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",n.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",n.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",n.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",n.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",n.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",n.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",n.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",n.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",n.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",n.VIRTUAL_BACKGROUND_ERROR="VIRTUAL_BACKGROUND_ERROR",n.GENERIC_ERROR="GENERIC_ERROR"}(t.OpenViduErrorName||(t.OpenViduErrorName={}));var e=function(){function n(r,i){this.name=r,this.message=i}return n}();t.OpenViduError=e})(Qo);Object.defineProperty(ya,"__esModule",{value:!0});ya.Filter=void 0;var $0=qr,Rt=Qo,x5=ft,Xn=x5.OpenViduLogger.getInstance(),D5=function(){function t(e,n){this.handlers=new Map,this.type=e,this.options=n}return t.prototype.execMethod=function(e,n){var r=this;return new Promise(function(i,o){var s;Xn.info("Executing filter method to stream "+r.stream.streamId);var a,l=function(d){Xn.info("Filter method successfully executed on Stream "+r.stream.streamId);var f=Object.assign({},r.stream.filter);return r.stream.filter.lastExecMethod={method:e,params:a},d&&(r.stream.session.emitEvent("streamPropertyChanged",[new $0.StreamPropertyChangedEvent(r.stream.session,r.stream,"filter",r.stream.filter,f,"execFilterMethod")]),r.stream.streamManager.emitEvent("streamPropertyChanged",[new $0.StreamPropertyChangedEvent(r.stream.streamManager,r.stream,"filter",r.stream.filter,f,"execFilterMethod")])),i()};if(r.type.startsWith("VB:")){if(typeof n=="string")try{n=JSON.parse(n)}catch(d){return o(new Rt.OpenViduError(Rt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Wrong params syntax: "+d))}if(a=n,e==="update")if(!((s=r.stream.virtualBackgroundSinkElements)===null||s===void 0)&&s.VB)r.stream.virtualBackgroundSinkElements.VB.updateValues(n).then(function(){return l(!1)}).catch(function(d){return d.name===Rt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?o(new Rt.OpenViduError(d.name,d.message)):o(new Rt.OpenViduError(Rt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Error updating values on Virtual Background filter: "+d))});else return o(new Rt.OpenViduError(Rt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"There is no Virtual Background filter applied"));else return o(new Rt.OpenViduError(Rt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Unknown Virtual Background method "'.concat(e,'"')))}else{var c=void 0;if(typeof n!="string")try{c=JSON.stringify(n)}catch{var u="'params' property must be a JSON formatted object";return Xn.error(u),o(u)}else c=n;a=c,r.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:r.stream.streamId,method:e,params:c},function(d,f){return d?(Xn.error("Error executing filter method for Stream "+r.stream.streamId,d),d.code===401?o(new Rt.OpenViduError(Rt.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method")):o(d)):l(!0)})}})},t.prototype.addEventListener=function(e,n){var r=this;return new Promise(function(i,o){Xn.info("Adding filter event listener to event "+e+" to stream "+r.stream.streamId),r.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:r.stream.streamId,eventType:e},function(s,a){return s?(Xn.error("Error adding filter event listener to event "+e+"for Stream "+r.stream.streamId,s),s.code===401?o(new Rt.OpenViduError(Rt.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):o(s)):(r.handlers.set(e,n),Xn.info("Filter event listener to event "+e+" successfully applied on Stream "+r.stream.streamId),i())})})},t.prototype.removeEventListener=function(e){var n=this;return new Promise(function(r,i){Xn.info("Removing filter event listener to event "+e+" to stream "+n.stream.streamId),n.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:n.stream.streamId,eventType:e},function(o,s){return o?(Xn.error("Error removing filter event listener to event "+e+"for Stream "+n.stream.streamId,o),o.code===401?i(new Rt.OpenViduError(Rt.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):i(o)):(n.handlers.delete(e),Xn.info("Filter event listener to event "+e+" successfully removed on Stream "+n.stream.streamId),r())})})},t}();ya.Filter=D5;var ba={},wa={},Ea={},xk={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(t){(function(e){function n(){}var r=n.prototype,i=e.EventEmitter;function o(l,c){for(var u=l.length;u--;)if(l[u].listener===c)return u;return-1}function s(l){return function(){return this[l].apply(this,arguments)}}r.getListeners=function(c){var u=this._getEvents(),d,f;if(c instanceof RegExp){d={};for(f in u)u.hasOwnProperty(f)&&c.test(f)&&(d[f]=u[f])}else d=u[c]||(u[c]=[]);return d},r.flattenListeners=function(c){var u=[],d;for(d=0;d<c.length;d+=1)u.push(c[d].listener);return u},r.getListenersAsObject=function(c){var u=this.getListeners(c),d;return u instanceof Array&&(d={},d[c]=u),d||u};function a(l){return typeof l=="function"||l instanceof RegExp?!0:l&&typeof l=="object"?a(l.listener):!1}r.addListener=function(c,u){if(!a(u))throw new TypeError("listener must be a function");var d=this.getListenersAsObject(c),f=typeof u=="object",h;for(h in d)d.hasOwnProperty(h)&&o(d[h],u)===-1&&d[h].push(f?u:{listener:u,once:!1});return this},r.on=s("addListener"),r.addOnceListener=function(c,u){return this.addListener(c,{listener:u,once:!0})},r.once=s("addOnceListener"),r.defineEvent=function(c){return this.getListeners(c),this},r.defineEvents=function(c){for(var u=0;u<c.length;u+=1)this.defineEvent(c[u]);return this},r.removeListener=function(c,u){var d=this.getListenersAsObject(c),f,h;for(h in d)d.hasOwnProperty(h)&&(f=o(d[h],u),f!==-1&&d[h].splice(f,1));return this},r.off=s("removeListener"),r.addListeners=function(c,u){return this.manipulateListeners(!1,c,u)},r.removeListeners=function(c,u){return this.manipulateListeners(!0,c,u)},r.manipulateListeners=function(c,u,d){var f,h,m=c?this.removeListener:this.addListener,y=c?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(f in u)u.hasOwnProperty(f)&&(h=u[f])&&(typeof h=="function"?m.call(this,f,h):y.call(this,f,h));else for(f=d.length;f--;)m.call(this,u,d[f]);return this},r.removeEvent=function(c){var u=typeof c,d=this._getEvents(),f;if(u==="string")delete d[c];else if(c instanceof RegExp)for(f in d)d.hasOwnProperty(f)&&c.test(f)&&delete d[f];else delete this._events;return this},r.removeAllListeners=s("removeEvent"),r.emitEvent=function(c,u){var d=this.getListenersAsObject(c),f,h,m,y,v;for(y in d)if(d.hasOwnProperty(y))for(f=d[y].slice(0),m=0;m<f.length;m++)h=f[m],h.once===!0&&this.removeListener(c,h.listener),v=h.listener.apply(this,u||[]),v===this._getOnceReturnValue()&&this.removeListener(c,h.listener);return this},r.trigger=s("emitEvent"),r.emit=function(c){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,u)},r.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},n.noConflict=function(){return e.EventEmitter=i,n},t.exports?t.exports=n:e.EventEmitter=n})(typeof window<"u"?window:J||{})})(xk);var qy=xk.exports;Object.defineProperty(Ea,"__esModule",{value:!0});Ea.EventDispatcher=void 0;var k5=ft,R5=qy,Cu=k5.OpenViduLogger.getInstance(),O5=function(){function t(){this.userHandlerArrowHandler=new WeakMap,this.ee=new R5}return t.prototype.onAux=function(e,n,r){var i=function(o){o?Cu.debug(n,o):Cu.debug(n),r(o)};return this.userHandlerArrowHandler.set(r,i),this.ee.on(e,i),this},t.prototype.onceAux=function(e,n,r){var i=this,o=function(s){s?Cu.debug(n,s):Cu.debug(n),r(s),i.userHandlerArrowHandler.delete(r)};return this.userHandlerArrowHandler.set(r,o),this.ee.once(e,o),this},t.prototype.offAux=function(e,n){if(!n)this.ee.removeAllListeners(e);else{var r=this.userHandlerArrowHandler.get(n);r&&this.ee.off(e,r),this.userHandlerArrowHandler.delete(n)}return this},t}();Ea.EventDispatcher=O5;var Sa={},T5=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.StreamManagerEvent=void 0;var A5=bt,I5=function(t){T5(e,t);function e(n,r,i){var o=t.call(this,!1,n,r)||this;return o.value=i,o}return e.prototype.callDefaultBehavior=function(){},e}(A5.Event);Sa.StreamManagerEvent=I5;var Sc={},N5=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.VideoElementEvent=void 0;var P5=bt,M5=function(t){N5(e,t);function e(n,r,i){var o=t.call(this,!1,r,i)||this;return o.element=n,o}return e.prototype.callDefaultBehavior=function(){},e}(P5.Event);Sc.VideoElementEvent=M5;var Go={};(function(t){var e=J&&J.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEvent=t.ExceptionEventName=void 0;var n=bt;(function(i){i.ICE_CANDIDATE_ERROR="ICE_CANDIDATE_ERROR",i.ICE_CONNECTION_FAILED="ICE_CONNECTION_FAILED",i.ICE_CONNECTION_DISCONNECTED="ICE_CONNECTION_DISCONNECTED",i.NO_STREAM_PLAYING_EVENT="NO_STREAM_PLAYING_EVENT",i.SPEECH_TO_TEXT_DISCONNECTED="SPEECH_TO_TEXT_DISCONNECTED"})(t.ExceptionEventName||(t.ExceptionEventName={}));var r=function(i){e(o,i);function o(s,a,l,c,u){var d=i.call(this,!1,s,"exception")||this;return d.name=a,d.origin=l,d.message=c,d.data=u,d}return o.prototype.callDefaultBehavior=function(){},o}(n.Event);t.ExceptionEvent=r})(Go);var Cc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoInsertMode=void 0,function(e){e.AFTER="AFTER",e.APPEND="APPEND",e.BEFORE="BEFORE",e.PREPEND="PREPEND",e.REPLACE="REPLACE"}(t.VideoInsertMode||(t.VideoInsertMode={}))})(Cc);var L5=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(wa,"__esModule",{value:!0});wa.StreamManager=void 0;var j5=Ea,jp=Sa,_u=Sc,z0=Go,Zi=Cc,F5=ft,B5=Qn,Fp=F5.OpenViduLogger.getInstance(),Ht,V5=function(t){L5(e,t);function e(n,r){var i=t.call(this)||this;if(i.videos=[],i.lazyLaunchVideoElementCreatedEvent=!1,Ht=B5.PlatformUtils.getInstance(),i.stream=n,i.stream.streamManager=i,i.remote=!i.stream.isLocal(),r){var o=void 0;typeof r=="string"?o=document.getElementById(r):r instanceof HTMLElement&&(o=r),o&&(i.firstVideoElement={targetElement:o,video:document.createElement("video"),id:"",canplayListenerAdded:!1},(Ht.isSafariBrowser()||Ht.isIPhoneOrIPad()&&(Ht.isChromeMobileBrowser()||Ht.isEdgeMobileBrowser()||Ht.isOperaMobileBrowser()||Ht.isFirefoxMobileBrowser()))&&(i.firstVideoElement.video.playsInline=!0),i.targetElement=o,i.element=o)}return i.canPlayListener=function(){i.deactivateStreamPlayingEventExceptionTimeout(),i.ee.emitEvent("streamPlaying",[new jp.StreamManagerEvent(i,"streamPlaying",void 0)])},i}return e.prototype.on=function(n,r){return t.prototype.onAux.call(this,n,"Event '"+n+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",r),n==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new _u.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),n==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new jp.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(n==="publisherStartSpeaking"&&this.stream.enableHarkSpeakingEvent(),n==="publisherStopSpeaking"&&this.stream.enableHarkStoppedSpeakingEvent(),n==="streamAudioVolumeChange"&&this.stream.enableHarkVolumeChangeEvent(!1)),this},e.prototype.once=function(n,r){return t.prototype.onceAux.call(this,n,"Event '"+n+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",r),n==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new _u.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),n==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new jp.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(n==="publisherStartSpeaking"&&this.stream.enableOnceHarkSpeakingEvent(),n==="publisherStopSpeaking"&&this.stream.enableOnceHarkStoppedSpeakingEvent(),n==="streamAudioVolumeChange"&&this.stream.enableOnceHarkVolumeChangeEvent(!1)),this},e.prototype.off=function(n,r){if(t.prototype.offAux.call(this,n,r),n==="publisherStartSpeaking"){var i=this.ee.getListeners(n).length+this.stream.session.ee.getListeners(n).length;i===0&&this.stream.disableHarkSpeakingEvent(!1)}if(n==="publisherStopSpeaking"){var o=this.ee.getListeners(n).length+this.stream.session.ee.getListeners(n).length;o===0&&this.stream.disableHarkStoppedSpeakingEvent(!1)}if(n==="streamAudioVolumeChange"){var s=this.ee.getListeners(n).length;s===0&&this.stream.disableHarkVolumeChangeEvent(!1)}return this},e.prototype.addVideoElement=function(n){this.initializeVideoProperties(n),!this.remote&&this.stream.displayMyRemote()&&n.srcObject!==this.stream.getMediaStream()&&(n.srcObject=this.stream.getMediaStream());for(var r=0,i=this.videos;r<i.length;r++){var o=i[r];if(o.video===n)return 0}for(var s=1,a=0,l=this.stream.session.streamManagers;a<l.length;a++){var c=l[a];if(c.disassociateVideo(n)){s=-1;break}}return this.stream.session.streamManagers.forEach(function(u){u.disassociateVideo(n)}),this.pushNewStreamManagerVideo({video:n,id:n.id,canplayListenerAdded:!1}),Fp.info("New video element associated to ",this),s},e.prototype.createVideoElement=function(n,r){var i;if(typeof n=="string"){if(i=document.getElementById(n),!i)throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+n)}else if(n instanceof HTMLElement)i=n;else throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+n);var o=this.createVideo();this.initializeVideoProperties(o);var s=r||Zi.VideoInsertMode.APPEND;switch(s){case Zi.VideoInsertMode.AFTER:i.parentNode.insertBefore(o,i.nextSibling);break;case Zi.VideoInsertMode.APPEND:i.appendChild(o);break;case Zi.VideoInsertMode.BEFORE:i.parentNode.insertBefore(o,i);break;case Zi.VideoInsertMode.PREPEND:i.insertBefore(o,i.childNodes[0]);break;case Zi.VideoInsertMode.REPLACE:i.parentNode.replaceChild(o,i);break;default:s=Zi.VideoInsertMode.APPEND,i.appendChild(o);break}var a={targetElement:i,video:o,insertMode:s,id:o.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(a),this.ee.emitEvent("videoElementCreated",[new _u.VideoElementEvent(a.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,o},e.prototype.updatePublisherSpeakingEventsOptions=function(n){var r=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},i=typeof n.interval=="number"?n.interval:typeof r.interval=="number"?r.interval:100,o=typeof n.threshold=="number"?n.threshold:typeof r.threshold=="number"?r.threshold:-50;this.stream.harkOptions={interval:i,threshold:o},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(i),this.stream.speechEvent.setThreshold(o))},e.prototype.initializeVideoProperties=function(n){!this.remote&&this.stream.displayMyRemote()||n.srcObject!==this.stream.getMediaStream()&&(n.srcObject=this.stream.getMediaStream()),n.autoplay=!0,n.controls=!1,(Ht.isSafariBrowser()||Ht.isIPhoneOrIPad()&&(Ht.isChromeMobileBrowser()||Ht.isEdgeMobileBrowser()||Ht.isOperaMobileBrowser()||Ht.isFirefoxMobileBrowser()))&&(n.playsInline=!0),n.id||(n.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=n.id)),this.remote&&this.isMirroredVideo(n)?this.removeMirrorVideo(n):!this.remote&&!this.stream.displayMyRemote()&&(n.muted=!0,this.isMirroredVideo(n)&&!this.stream.outboundStreamOpts.publisherProperties.mirror?this.removeMirrorVideo(n):this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(n))},e.prototype.removeAllVideos=function(){for(var n=this,r=this.stream.session.streamManagers.length-1;r>=0;--r)this.stream.session.streamManagers[r]===this&&this.stream.session.streamManagers.splice(r,1);this.videos.forEach(function(i){i.video&&i.video.removeEventListener&&i.video.removeEventListener("canplay",n.canPlayListener),i.canplayListenerAdded=!1,i.targetElement&&(i.video.parentNode.removeChild(i.video),n.ee.emitEvent("videoElementDestroyed",[new _u.VideoElementEvent(i.video,n,"videoElementDestroyed")])),n.removeSrcObject(i),n.videos=n.videos.filter(function(o){return!o.targetElement})})},e.prototype.disassociateVideo=function(n){for(var r=!1,i=0;i<this.videos.length;i++)if(this.videos[i].video===n){this.videos[i].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(i,1),r=!0,Fp.info("Video element disassociated from ",this);break}return r},e.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.activateStreamPlayingEventExceptionTimeout(),this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},e.prototype.updateMediaStream=function(n){this.videos.forEach(function(r){if(r.video.srcObject=n,Ht.isIonicIos()){var i=r.video.parentElement,o=r.video;i.replaceChild(o,r.video),r.video=o}})},e.prototype.emitEvent=function(n,r){this.ee.emitEvent(n,r)},e.prototype.createVideo=function(){return document.createElement("video")},e.prototype.removeSrcObject=function(n){n.video.srcObject=null,this.deactivateStreamPlayingEventExceptionTimeout()},e.prototype.pushNewStreamManagerVideo=function(n){this.videos.push(n),this.addPlayEventToFirstVideo(),this.stream.session.streamManagers.indexOf(this)===-1&&this.stream.session.streamManagers.push(this)},e.prototype.mirrorVideo=function(n){Ht.isIonicIos()||(n.style.transform="rotateY(180deg)",n.style.webkitTransform="rotateY(180deg)")},e.prototype.removeMirrorVideo=function(n){n.style.transform="unset",n.style.webkitTransform="unset"},e.prototype.isMirroredVideo=function(n){return n.style.transform==="rotateY(180deg)"||n.style.webkitTransform==="rotateY(180deg)"},e.prototype.activateStreamPlayingEventExceptionTimeout=function(){var n=this;if(this.remote&&this.streamPlayingEventExceptionTimeout==null){var r=this.stream.session.openvidu.advancedConfiguration.noStreamPlayingEventExceptionTimeout||4e3;this.streamPlayingEventExceptionTimeout=setTimeout(function(){var i="StreamManager of Stream "+n.stream.streamId+" ("+(n.remote?"Subscriber":"Publisher")+') did not trigger "streamPlaying" event in '+r+" ms";Fp.warn(i),n.stream.session.emitEvent("exception",[new z0.ExceptionEvent(n.stream.session,z0.ExceptionEventName.NO_STREAM_PLAYING_EVENT,n,i)]),delete n.streamPlayingEventExceptionTimeout},r)}},e.prototype.deactivateStreamPlayingEventExceptionTimeout=function(){clearTimeout(this.streamPlayingEventExceptionTimeout),delete this.streamPlayingEventExceptionTimeout},e}(j5.EventDispatcher);wa.StreamManager=V5;var H5=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ba,"__esModule",{value:!0});ba.Subscriber=void 0;var U5=wa,W5=ft,Y0=W5.OpenViduLogger.getInstance(),$5=function(t){H5(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.element=o.targetElement,o.stream=n,o.properties=i,o}return e.prototype.subscribeToAudio=function(n){return this.stream.getMediaStream().getAudioTracks().forEach(function(r){r.enabled=n}),this.stream.audioActive=n,Y0.info("'Subscriber' has "+(n?"subscribed to":"unsubscribed from")+" its audio stream"),this},e.prototype.subscribeToVideo=function(n){return this.stream.getMediaStream().getVideoTracks().forEach(function(r){r.enabled=n}),this.stream.videoActive=n,Y0.info("'Subscriber' has "+(n?"subscribed to":"unsubscribed from")+" its video stream"),this},e.prototype.replaceTrackInMediaStream=function(n,r){var i=this.stream.getMediaStream(),o;n.kind==="video"?(o=i.getVideoTracks()[0],r&&(this.stream.lastVideoTrackConstraints=n.getConstraints())):o=i.getAudioTracks()[0],i.removeTrack(o),o.stop(),i.addTrack(n)},e}(U5.StreamManager);ba.Subscriber=$5;var dr={},q0=["stun:","turn:"],z5=function(t){var e=(t||{}).url||t,n,r,i={};return typeof e!="string"&&!(e instanceof String)||(e=e.trim(),n=q0[q0.indexOf(e.slice(0,5))],!n)?t:(e=e.slice(5),r=e.split("@"),i.username=t.username,i.credential=t.credential,r.length>1&&(e=r[1],r=r[0].split(":"),i.username=r[0],i.credential=(t||{}).credential||r[1]||""),i.url=n+e,i.urls=[i.url],i)};const Y5=["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"],q5=[];var Q5=z5,G5=function(t){var e={stun:(t||{}).stun||Y5,turn:(t||{}).turn||q5},n=(t||{}).stunCount||2,r=(t||{}).turnCount||0,i;function o(s,a){for(var l=[],c=[].concat(e[s]),u;c.length&&l.length<a;)u=Math.random()*c.length|0,l=l.concat(c.splice(u,1));return l.map(function(d){return typeof d!="string"&&!(d instanceof String)?d:Q5(s+":"+d)})}return i=[].concat(o("stun",n)),r&&(i=i.concat(o("turn",r))),i},X5=G5,Qy={},ih={},oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.default=J5;let xu;const K5=new Uint8Array(16);function J5(){if(!xu&&(xu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xu(K5)}var Xi={},Xo={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.default=void 0;var Z5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;sh.default=Z5;Object.defineProperty(Xo,"__esModule",{value:!0});Xo.default=void 0;var eW=tW(sh);function tW(t){return t&&t.__esModule?t:{default:t}}function nW(t){return typeof t=="string"&&eW.default.test(t)}var rW=nW;Xo.default=rW;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.default=void 0;Xi.unsafeStringify=Dk;var iW=oW(Xo);function oW(t){return t&&t.__esModule?t:{default:t}}const wt=[];for(let t=0;t<256;++t)wt.push((t+256).toString(16).slice(1));function Dk(t,e=0){return wt[t[e+0]]+wt[t[e+1]]+wt[t[e+2]]+wt[t[e+3]]+"-"+wt[t[e+4]]+wt[t[e+5]]+"-"+wt[t[e+6]]+wt[t[e+7]]+"-"+wt[t[e+8]]+wt[t[e+9]]+"-"+wt[t[e+10]]+wt[t[e+11]]+wt[t[e+12]]+wt[t[e+13]]+wt[t[e+14]]+wt[t[e+15]]}function sW(t,e=0){const n=Dk(t,e);if(!(0,iW.default)(n))throw TypeError("Stringified UUID is invalid");return n}var aW=sW;Xi.default=aW;Object.defineProperty(ih,"__esModule",{value:!0});ih.default=void 0;var lW=uW(oh),cW=Xi;function uW(t){return t&&t.__esModule?t:{default:t}}let Q0,Bp,Vp=0,Hp=0;function dW(t,e,n){let r=e&&n||0;const i=e||new Array(16);t=t||{};let o=t.node||Q0,s=t.clockseq!==void 0?t.clockseq:Bp;if(o==null||s==null){const f=t.random||(t.rng||lW.default)();o==null&&(o=Q0=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Bp=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:Hp+1;const c=a-Vp+(l-Hp)/1e4;if(c<0&&t.clockseq===void 0&&(s=s+1&16383),(c<0||a>Vp)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Vp=a,Hp=l,Bp=s,a+=122192928e5;const u=((a&268435455)*1e4+l)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=u&255;const d=a/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=d&255,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(let f=0;f<6;++f)i[r+f]=o[f];return e||(0,cW.unsafeStringify)(i)}var fW=dW;ih.default=fW;var ah={},Hi={},_c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.default=void 0;var hW=pW(Xo);function pW(t){return t&&t.__esModule?t:{default:t}}function mW(t){if(!(0,hW.default)(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var gW=mW;_c.default=gW;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.URL=Hi.DNS=void 0;Hi.default=EW;var vW=Xi,yW=bW(_c);function bW(t){return t&&t.__esModule?t:{default:t}}function wW(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}const kk="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Hi.DNS=kk;const Rk="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Hi.URL=Rk;function EW(t,e,n){function r(i,o,s,a){var l;if(typeof i=="string"&&(i=wW(i)),typeof o=="string"&&(o=(0,yW.default)(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let u=0;u<16;++u)s[a+u]=c[u];return s}return(0,vW.unsafeStringify)(c)}try{r.name=t}catch{}return r.DNS=kk,r.URL=Rk,r}var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.default=void 0;function SW(t){if(typeof t=="string"){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return CW(_W(xW(t),t.length*8))}function CW(t){const e=[],n=t.length*32,r="0123456789abcdef";for(let i=0;i<n;i+=8){const o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function Ok(t){return(t+64>>>9<<4)+14+1}function _W(t,e){t[e>>5]|=128<<e%32,t[Ok(e)-1]=e;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){const a=n,l=r,c=i,u=o;n=Ot(n,r,i,o,t[s],7,-680876936),o=Ot(o,n,r,i,t[s+1],12,-389564586),i=Ot(i,o,n,r,t[s+2],17,606105819),r=Ot(r,i,o,n,t[s+3],22,-1044525330),n=Ot(n,r,i,o,t[s+4],7,-176418897),o=Ot(o,n,r,i,t[s+5],12,1200080426),i=Ot(i,o,n,r,t[s+6],17,-1473231341),r=Ot(r,i,o,n,t[s+7],22,-45705983),n=Ot(n,r,i,o,t[s+8],7,1770035416),o=Ot(o,n,r,i,t[s+9],12,-1958414417),i=Ot(i,o,n,r,t[s+10],17,-42063),r=Ot(r,i,o,n,t[s+11],22,-1990404162),n=Ot(n,r,i,o,t[s+12],7,1804603682),o=Ot(o,n,r,i,t[s+13],12,-40341101),i=Ot(i,o,n,r,t[s+14],17,-1502002290),r=Ot(r,i,o,n,t[s+15],22,1236535329),n=Tt(n,r,i,o,t[s+1],5,-165796510),o=Tt(o,n,r,i,t[s+6],9,-1069501632),i=Tt(i,o,n,r,t[s+11],14,643717713),r=Tt(r,i,o,n,t[s],20,-373897302),n=Tt(n,r,i,o,t[s+5],5,-701558691),o=Tt(o,n,r,i,t[s+10],9,38016083),i=Tt(i,o,n,r,t[s+15],14,-660478335),r=Tt(r,i,o,n,t[s+4],20,-405537848),n=Tt(n,r,i,o,t[s+9],5,568446438),o=Tt(o,n,r,i,t[s+14],9,-1019803690),i=Tt(i,o,n,r,t[s+3],14,-187363961),r=Tt(r,i,o,n,t[s+8],20,1163531501),n=Tt(n,r,i,o,t[s+13],5,-1444681467),o=Tt(o,n,r,i,t[s+2],9,-51403784),i=Tt(i,o,n,r,t[s+7],14,1735328473),r=Tt(r,i,o,n,t[s+12],20,-1926607734),n=At(n,r,i,o,t[s+5],4,-378558),o=At(o,n,r,i,t[s+8],11,-2022574463),i=At(i,o,n,r,t[s+11],16,1839030562),r=At(r,i,o,n,t[s+14],23,-35309556),n=At(n,r,i,o,t[s+1],4,-1530992060),o=At(o,n,r,i,t[s+4],11,1272893353),i=At(i,o,n,r,t[s+7],16,-155497632),r=At(r,i,o,n,t[s+10],23,-1094730640),n=At(n,r,i,o,t[s+13],4,681279174),o=At(o,n,r,i,t[s],11,-358537222),i=At(i,o,n,r,t[s+3],16,-722521979),r=At(r,i,o,n,t[s+6],23,76029189),n=At(n,r,i,o,t[s+9],4,-640364487),o=At(o,n,r,i,t[s+12],11,-421815835),i=At(i,o,n,r,t[s+15],16,530742520),r=At(r,i,o,n,t[s+2],23,-995338651),n=It(n,r,i,o,t[s],6,-198630844),o=It(o,n,r,i,t[s+7],10,1126891415),i=It(i,o,n,r,t[s+14],15,-1416354905),r=It(r,i,o,n,t[s+5],21,-57434055),n=It(n,r,i,o,t[s+12],6,1700485571),o=It(o,n,r,i,t[s+3],10,-1894986606),i=It(i,o,n,r,t[s+10],15,-1051523),r=It(r,i,o,n,t[s+1],21,-2054922799),n=It(n,r,i,o,t[s+8],6,1873313359),o=It(o,n,r,i,t[s+15],10,-30611744),i=It(i,o,n,r,t[s+6],15,-1560198380),r=It(r,i,o,n,t[s+13],21,1309151649),n=It(n,r,i,o,t[s+4],6,-145523070),o=It(o,n,r,i,t[s+11],10,-1120210379),i=It(i,o,n,r,t[s+2],15,718787259),r=It(r,i,o,n,t[s+9],21,-343485551),n=bi(n,a),r=bi(r,l),i=bi(i,c),o=bi(o,u)}return[n,r,i,o]}function xW(t){if(t.length===0)return[];const e=t.length*8,n=new Uint32Array(Ok(e));for(let r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function bi(t,e){const n=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(n>>16)<<16|n&65535}function DW(t,e){return t<<e|t>>>32-e}function ch(t,e,n,r,i,o){return bi(DW(bi(bi(e,t),bi(r,o)),i),n)}function Ot(t,e,n,r,i,o,s){return ch(e&n|~e&r,t,e,i,o,s)}function Tt(t,e,n,r,i,o,s){return ch(e&r|n&~r,t,e,i,o,s)}function At(t,e,n,r,i,o,s){return ch(e^n^r,t,e,i,o,s)}function It(t,e,n,r,i,o,s){return ch(n^(e|~r),t,e,i,o,s)}var kW=SW;lh.default=kW;Object.defineProperty(ah,"__esModule",{value:!0});ah.default=void 0;var RW=Tk(Hi),OW=Tk(lh);function Tk(t){return t&&t.__esModule?t:{default:t}}const TW=(0,RW.default)("v3",48,OW.default);var AW=TW;ah.default=AW;var uh={},dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.default=void 0;const IW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var NW={randomUUID:IW};dh.default=NW;Object.defineProperty(uh,"__esModule",{value:!0});uh.default=void 0;var G0=Ak(dh),PW=Ak(oh),MW=Xi;function Ak(t){return t&&t.__esModule?t:{default:t}}function LW(t,e,n){if(G0.default.randomUUID&&!e&&!t)return G0.default.randomUUID();t=t||{};const r=t.random||(t.rng||PW.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return(0,MW.unsafeStringify)(r)}var jW=LW;uh.default=jW;var fh={},hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.default=void 0;function FW(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Up(t,e){return t<<e|t>>>32-e}function BW(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const s=unescape(encodeURIComponent(t));t=[];for(let a=0;a<s.length;++a)t.push(s.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const r=t.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let s=0;s<i;++s){const a=new Uint32Array(16);for(let l=0;l<16;++l)a[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];o[s]=a}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){const a=new Uint32Array(80);for(let h=0;h<16;++h)a[h]=o[s][h];for(let h=16;h<80;++h)a[h]=Up(a[h-3]^a[h-8]^a[h-14]^a[h-16],1);let l=n[0],c=n[1],u=n[2],d=n[3],f=n[4];for(let h=0;h<80;++h){const m=Math.floor(h/20),y=Up(l,5)+FW(m,c,u,d)+f+e[m]+a[h]>>>0;f=d,d=u,u=Up(c,30)>>>0,c=l,l=y}n[0]=n[0]+l>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+u>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var VW=BW;hh.default=VW;Object.defineProperty(fh,"__esModule",{value:!0});fh.default=void 0;var HW=Ik(Hi),UW=Ik(hh);function Ik(t){return t&&t.__esModule?t:{default:t}}const WW=(0,HW.default)("v5",80,UW.default);var $W=WW;fh.default=$W;var ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.default=void 0;var zW="00000000-0000-0000-0000-000000000000";ph.default=zW;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.default=void 0;var YW=qW(Xo);function qW(t){return t&&t.__esModule?t:{default:t}}function QW(t){if(!(0,YW.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var GW=QW;mh.default=GW;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return s.default}});var e=u(ih),n=u(ah),r=u(uh),i=u(fh),o=u(ph),s=u(mh),a=u(Xo),l=u(Xi),c=u(_c);function u(d){return d&&d.__esModule?d:{default:d}}})(Qy);var Gy=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=J&&J.__assign||function(){return df=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},df.apply(this,arguments)},Wp=J&&J.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},$p=J&&J.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(dr,"__esModule",{value:!0});dr.WebRtcPeerSendrecv=dr.WebRtcPeerSendonly=dr.WebRtcPeerRecvonly=dr.WebRtcPeer=void 0;var XW=X5,KW=Qy,X0=Go,JW=ft,ZW=Qn,Ke=JW.OpenViduLogger.getInstance(),gh=function(){function t(e){var n=this;this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],ZW.PlatformUtils.getInstance(),this.configuration=df(df({},e),{iceServers:e.iceServers&&e.iceServers.length>0?e.iceServers:XW(),rtcConfiguration:e.rtcConfiguration!==void 0?e.rtcConfiguration:{},mediaStream:e.mediaStream!==void 0?e.mediaStream:null,mode:e.mode?e.mode:"sendrecv",id:e.id?e.id:this.generateUniqueId()}),Ke.debug(`[WebRtcPeer] configuration:
`.concat(JSON.stringify(this.configuration,null,2)));var r=this.configuration.rtcConfiguration?this.configuration.rtcConfiguration:{iceServers:this.configuration.iceServers};!r.iceServers&&this.configuration.iceServers&&(r.iceServers=this.configuration.iceServers),this.pc=new RTCPeerConnection(r),this.pc.addEventListener("icecandidate",function(i){if(i.candidate!==null){var o=i.candidate,s=new RTCIceCandidate(o);n.configuration.onIceCandidate(s),s.candidate!==""&&n.localCandidatesQueue.push(s)}}),this.pc.addEventListener("signalingstatechange",function(){return Wp(n,void 0,void 0,function(){var i,o;return $p(this,function(s){switch(s.label){case 0:if(this.pc.signalingState!=="stable")return[3,6];s.label=1;case 1:if(!(this.iceCandidateList.length>0))return[3,6];i=this.iceCandidateList.shift(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.pc.addIceCandidate(i)];case 3:return s.sent(),[3,5];case 4:return o=s.sent(),Ke.error("Error when calling RTCPeerConnection#addIceCandidate for RTCPeerConnection "+this.getId(),o),[3,5];case 5:return[3,1];case 6:return[2]}})})})}return t.prototype.getId=function(){return this.configuration.id},t.prototype.dispose=function(){if(Ke.debug("Disposing WebRtcPeer"),this.pc){if(this.pc.signalingState==="closed")return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},t.prototype.createOfferLegacy=function(){this.configuration.mediaStream&&this.deprecatedPeerConnectionTrackApi();var e=this.configuration.mediaConstraints.audio,n=this.configuration.mediaConstraints.video,r={offerToReceiveAudio:this.configuration.mode!=="sendonly"&&e,offerToReceiveVideo:this.configuration.mode!=="sendonly"&&n};return Ke.debug("[createOfferLegacy] RTCPeerConnection.createOffer() options:",JSON.stringify(r)),this.pc.createOffer(r)},t.prototype.createOffer=function(){var e,n,r,i,o,s,a,l;return Wp(this,void 0,void 0,function(){var c,u,d,f,h,m,y,v,p,b,w,_,R,M,O,E,N,A,H,z,j,S,k,A;return $p(this,function(D){switch(D.label){case 0:if("addTransceiver"in this.pc)Ke.debug("[createOffer] Method RTCPeerConnection.addTransceiver() is available; using it");else return Ke.warn("[createOffer] Method RTCPeerConnection.addTransceiver() is NOT available; using LEGACY offerToReceive{Audio,Video}"),[2,this.createOfferLegacy()];if(this.configuration.mode==="recvonly")return[3,7];if(!this.configuration.mediaStream)throw new Error("[WebRtcPeer.createOffer] Direction is '".concat(this.configuration.mode,"', but no stream was configured to be sent"));c=0,u=this.configuration.mediaStream.getTracks(),D.label=1;case 1:if(!(c<u.length))return[3,6];if(d=u[c],f={direction:this.configuration.mode,streams:[this.configuration.mediaStream]},d.kind==="video"&&this.configuration.simulcast)for(h=d.getSettings(),m=d.getConstraints(),y=(r=(n=(e=h.width)!==null&&e!==void 0?e:m.width.ideal)!==null&&n!==void 0?n:m.width)!==null&&r!==void 0?r:0,v=(s=(o=(i=h.height)!==null&&i!==void 0?i:m.height.ideal)!==null&&o!==void 0?o:m.height)!==null&&s!==void 0?s:0,Ke.info("[createOffer] Video track dimensions: ".concat(y,"x").concat(v)),p=y*v,b=0,p>=960*540?b=3:p>=480*270?b=2:b=1,f.sendEncodings=[],w=0;w<b;w++)_=Math.pow(2,b-w-1),R={rid:"rdiv"+_.toString(),scalabilityMode:"L1T1"},["detail","text"].includes(d.contentHint)?(R.scaleResolutionDownBy=1,R.maxFramerate=Math.floor(30/_)):R.scaleResolutionDownBy=_,f.sendEncodings.push(R);if(M=this.pc.addTransceiver(d,f),d.kind!=="video")return[3,5];if(O=M.sender.getParameters(),E=!1,!((a=O.degradationPreference)===null||a===void 0)&&a.length||(["detail","text"].includes(d.contentHint)?O.degradationPreference="maintain-resolution":O.degradationPreference="balanced",Ke.info("[createOffer] Video sender Degradation Preference set: ".concat(O.degradationPreference)),E=!0),this.configuration.simulcast&&((l=O.encodings)===null||l===void 0?void 0:l.length)!==f.sendEncodings.length&&(O.encodings=f.sendEncodings,E=!0),!E)return[3,5];Ke.debug("[createOffer] Setting new RTCRtpSendParameters to video sender"),D.label=2;case 2:return D.trys.push([2,4,,5]),[4,M.sender.setParameters(O)];case 3:return D.sent(),[3,5];case 4:throw N=D.sent(),A="[WebRtcPeer.createOffer] Cannot set RTCRtpSendParameters to video sender",N instanceof Error&&(A+=": ".concat(N.message)),new Error(A);case 5:return c++,[3,1];case 6:return[3,8];case 7:for(H=0,z=["audio","video"];H<z.length;H++)j=z[H],this.configuration.mediaConstraints[j]&&(this.configuration.mediaStream=new MediaStream,this.pc.addTransceiver(j,{direction:this.configuration.mode,streams:[this.configuration.mediaStream]}));D.label=8;case 8:return D.trys.push([8,10,,11]),[4,this.pc.createOffer()];case 9:return S=D.sent(),[3,11];case 10:throw k=D.sent(),A="[WebRtcPeer.createOffer] Browser failed creating an SDP Offer",k instanceof Error&&(A+=": ".concat(k.message)),new Error(A);case 11:return[2,S]}})})},t.prototype.deprecatedPeerConnectionTrackApi=function(){for(var e=0,n=this.configuration.mediaStream.getTracks();e<n.length;e++){var r=n[e];this.pc.addTrack(r,this.configuration.mediaStream)}},t.prototype.createAnswer=function(){var e=this;return new Promise(function(n,r){if("getTransceivers"in e.pc){Ke.debug("[createAnswer] Method RTCPeerConnection.getTransceivers() is available; using it");for(var i=function(f){if(!e.configuration.mediaConstraints[f])return"continue";var h=e.pc.getTransceivers().find(function(m){return m.receiver.track.kind===f});if(h)h.direction=e.configuration.mode;else return{value:r(new Error("".concat(f," requested, but no transceiver was created from remote description")))}},o=0,s=["audio","video"];o<s.length;o++){var a=s[o],l=i(a);if(typeof l=="object")return l.value}e.pc.createAnswer().then(function(f){return n(f)}).catch(function(f){return r(f)})}else{var c=void 0,u=!0;if(e.configuration.mediaConstraints){c=typeof e.configuration.mediaConstraints.audio=="boolean"?e.configuration.mediaConstraints.audio:!0,u=typeof e.configuration.mediaConstraints.video=="boolean"?e.configuration.mediaConstraints.video:!0;var d={offerToReceiveAudio:c,offerToReceiveVideo:u};e.pc.createAnswer(d).then(function(f){return n(f)}).catch(function(f){return r(f)})}}})},t.prototype.processLocalOffer=function(e){var n=this;return new Promise(function(r,i){n.pc.setLocalDescription(e).then(function(){var o=n.pc.localDescription;return o?(Ke.debug("Local description set",o.sdp),r()):i("Local description is not defined")}).catch(function(o){return i(o)})})},t.prototype.processRemoteOffer=function(e){var n=this;return new Promise(function(r,i){var o={type:"offer",sdp:e};if(Ke.debug("SDP offer received, setting remote description",o),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set remote description");n.setRemoteDescription(o).then(function(){return r()}).catch(function(s){return i(s)})})},t.prototype.processLocalAnswer=function(e){var n=this;return new Promise(function(r,i){if(Ke.debug("SDP answer created, setting local description"),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set local description");n.pc.setLocalDescription(e).then(function(){return r()}).catch(function(o){return i(o)})})},t.prototype.processRemoteAnswer=function(e){var n=this;return new Promise(function(r,i){var o={type:"answer",sdp:e};if(Ke.debug("SDP answer received, setting remote description"),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set remote description");n.setRemoteDescription(o).then(function(){r()}).catch(function(s){return i(s)})})},t.prototype.setRemoteDescription=function(e){return Wp(this,void 0,void 0,function(){return $p(this,function(n){return[2,this.pc.setRemoteDescription(e)]})})},t.prototype.addIceCandidate=function(e){var n=this;return new Promise(function(r,i){switch(Ke.debug("Remote ICE candidate received",e),n.remoteCandidatesQueue.push(e),n.pc.signalingState){case"closed":i(new Error("PeerConnection object is closed"));break;case"stable":n.pc.remoteDescription?n.pc.addIceCandidate(e).then(function(){return r()}).catch(function(o){return i(o)}):(n.iceCandidateList.push(e),r());break;default:n.iceCandidateList.push(e),r()}})},t.prototype.addIceConnectionStateChangeListener=function(e){var n=this;this.pc.addEventListener("iceconnectionstatechange",function(){var r=n.pc.iceConnectionState;switch(r){case"disconnected":var i="IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "disconnected". Possible network disconnection';Ke.warn(i),n.configuration.onIceConnectionStateException(X0.ExceptionEventName.ICE_CONNECTION_DISCONNECTED,i);break;case"failed":var o="IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') to "failed"';Ke.error(o),n.configuration.onIceConnectionStateException(X0.ExceptionEventName.ICE_CONNECTION_FAILED,o);break;case"closed":Ke.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "closed"');break;case"new":Ke.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "new"');break;case"checking":Ke.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "checking"');break;case"connected":Ke.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "connected"');break;case"completed":Ke.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "completed"');break}})},t.prototype.generateUniqueId=function(){return(0,KW.v4)()},t}();dr.WebRtcPeer=gh;var e$=function(t){Gy(e,t);function e(n){return n.mode="recvonly",t.call(this,n)||this}return e}(gh);dr.WebRtcPeerRecvonly=e$;var t$=function(t){Gy(e,t);function e(n){return n.mode="sendonly",t.call(this,n)||this}return e}(gh);dr.WebRtcPeerSendonly=t$;var n$=function(t){Gy(e,t);function e(n){return n.mode="sendrecv",t.call(this,n)||this}return e}(gh);dr.WebRtcPeerSendrecv=n$;var vh={},rs=J&&J.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},is=J&&J.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(vh,"__esModule",{value:!0});vh.WebRtcStats=void 0;var r$=ft,i$=Qn,eo=r$.OpenViduLogger.getInstance(),os,o$=function(){function t(e){this.stream=e,this.STATS_ITEM_NAME="webrtc-stats-config",this.webRtcStatsEnabled=!1,this.statsInterval=1,os=i$.PlatformUtils.getInstance()}return t.prototype.isEnabled=function(){return this.webRtcStatsEnabled},t.prototype.initWebRtcStats=function(){var e=this,n;try{n=localStorage.getItem(this.STATS_ITEM_NAME)}catch{}if(n){this.webRtcStatsEnabled=!0;var r=JSON.parse(n);eo.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),eo.warn("localStorage item: "+JSON.stringify(r)),this.POST_URL=r.httpEndpoint,this.statsInterval=r.interval,this.webRtcStatsIntervalId=setInterval(function(){return rs(e,void 0,void 0,function(){return is(this,function(i){switch(i.label){case 0:return[4,this.sendStatsToHttpEndpoint()];case 1:return i.sent(),[2]}})})},this.statsInterval*1e3)}else eo.debug("WebRtc stats not enabled")},t.prototype.getSelectedIceCandidateInfo=function(){var e=this;return new Promise(function(n,r){return rs(e,void 0,void 0,function(){var i,o,s,a,l,c,u,d,f,h,m,y,v,p,R,M,b,w,N,_,R,M,O,E,N;return is(this,function(H){switch(H.label){case 0:return[4,this.stream.getRTCPeerConnection().getStats()];case 1:if(i=H.sent(),s=new Map,a=new Map,l=new Map,i.forEach(function(z){switch(z.type==="transport"&&(os.isChromium()||os.isSafariBrowser()||os.isReactNative())&&(o=z),z.type){case"candidate-pair":s.set(z.id,z);break;case"local-candidate":a.set(z.id,z);break;case"remote-candidate":l.set(z.id,z);break}}),o!=null)u=o.selectedCandidatePairId,c=s.get(u);else for(d=s.size,f=s.values(),h=0;h<d;h++)if(m=f.next().value,m.selected){c=m;break}if(y=c.localCandidateId,v=c.remoteCandidateId,p=a.get(y),p)for(R=this.stream.getLocalIceCandidateList(),M=R.filter(function(z){return!!z.candidate&&(z.candidate.indexOf(p.ip)>=0||z.candidate.indexOf(p.address)>=0)&&z.candidate.indexOf(p.port)>=0}),p.raw=[],b=0,w=M;b<w.length;b++)N=w[b],p.raw.push(N.candidate);else p="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";if(_=l.get(v),_)for(R=this.stream.getRemoteIceCandidateList(),M=R.filter(function(z){return!!z.candidate&&(z.candidate.indexOf(_.ip)>=0||z.candidate.indexOf(_.address)>=0)&&z.candidate.indexOf(_.port)>=0}),_.raw=[],O=0,E=M;O<E.length;O++)N=E[O],_.raw.push(N.candidate);else _="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used";return[2,n({localCandidate:p,remoteCandidate:_})]}})})})},t.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),eo.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},t.prototype.sendStats=function(e,n){return rs(this,void 0,void 0,function(){var r,i;return is(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r={headers:{"Content-type":"application/json"},body:JSON.stringify(n),method:"POST"},[4,fetch(e,r)];case 1:return o.sent(),[3,3];case 2:return i=o.sent(),eo.error("sendStats error: ".concat(JSON.stringify(i))),[3,3];case 3:return[2]}})})},t.prototype.sendStatsToHttpEndpoint=function(){return rs(this,void 0,void 0,function(){var e,n,r;return is(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.getCommonStats()];case 1:return e=i.sent(),n=this.generateJSONStatsResponse(e),[4,this.sendStats(this.POST_URL,n)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),eo.log(r),[3,4];case 4:return[2]}})})},t.prototype.getCommonStats=function(){return rs(this,void 0,void 0,function(){var e=this;return is(this,function(n){return[2,new Promise(function(r,i){return rs(e,void 0,void 0,function(){var o,s,a,l,c,u=this;return is(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.stream.getRTCPeerConnection().getStats()];case 1:return o=d.sent(),s=this.getWebRtcStatsResponseOutline(),a=["framesReceived","framesDropped","framesSent","frameHeight","frameWidth"],l=["availableOutgoingBitrate","currentRoundTripTime"],o.forEach(function(f){var h=f.mediaType!=null?f.mediaType:f.kind,m=function(y,v){f[v]!=null&&s[y]!=null&&(!h&&a.indexOf(v)>-1&&(h="video"),y!=null&&h!=null&&v!=null&&s[y][h]!=null?s[y][h][v]=Number(f[v]):y!=null&&v!=null&&l.includes(v)&&(s[y][v]=Number(f[v])))};switch(f.type){case"outbound-rtp":m("outbound","bytesSent"),m("outbound","packetsSent"),m("outbound","framesEncoded"),m("outbound","nackCount"),m("outbound","firCount"),m("outbound","pliCount"),m("outbound","qpSum");break;case"inbound-rtp":m("inbound","bytesReceived"),m("inbound","packetsReceived"),m("inbound","packetsLost"),m("inbound","jitter"),m("inbound","framesDecoded"),m("inbound","nackCount"),m("inbound","firCount"),m("inbound","pliCount");break;case"track":m("inbound","jitterBufferDelay"),m("inbound","framesReceived"),m("outbound","framesDropped"),m("outbound","framesSent"),m(u.stream.isLocal()?"outbound":"inbound","frameHeight"),m(u.stream.isLocal()?"outbound":"inbound","frameWidth");break;case"candidate-pair":m("candidatepair","currentRoundTripTime"),m("candidatepair","availableOutgoingBitrate");break}}),(!(s!=null&&s.candidatepair)||Object.keys(s.candidatepair).length===0)&&delete s.candidatepair,[2,r(s)];case 2:return c=d.sent(),eo.error("Error getting common stats: ",c),[2,i(c)];case 3:return[2]}})})})]})})},t.prototype.generateJSONStatsResponse=function(e){return{"@timestamp":new Date().toISOString(),participant_id:this.stream.connection.data,session_id:this.stream.session.sessionId,platform:os.getName(),platform_description:os.getDescription(),stream:"webRTC",webrtc_stats:e}},t.prototype.getWebRtcStatsResponseOutline=function(){return this.stream.isLocal()?{outbound:{audio:{},video:{}},candidatepair:{}}:{inbound:{audio:{},video:{}}}},t}();vh.WebRtcStats=o$;var xc={},s$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(xc,"__esModule",{value:!0});xc.PublisherSpeakingEvent=void 0;var a$=bt,l$=function(t){s$(e,t);function e(n,r,i,o){var s=t.call(this,!1,n,r)||this;return s.type=r,s.connection=i,s.streamId=o,s}return e.prototype.callDefaultBehavior=function(){},e}(a$.Event);xc.PublisherSpeakingEvent=l$;var yh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOfVideo=void 0,function(e){e.CAMERA="CAMERA",e.SCREEN="SCREEN",e.CUSTOM="CUSTOM",e.IPCAM="IPCAM"}(t.TypeOfVideo||(t.TypeOfVideo={}))})(yh);var c$=ff;function ff(){}ff.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(n,r,i){this.callbacks=this.callbacks||{};var o=arguments.length===3,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return a._groupName=s,(this.callbacks[n]=this.callbacks[n]||[]).push(a),this},e.once=function(n,r,i){var o=this,s=arguments.length===3,a=s?arguments[1]:void 0,l=s?arguments[2]:arguments[1];function c(){o.off(n,c),l.apply(this,arguments)}return this.on(n,a,c),this},e.releaseGroup=function(n){this.callbacks=this.callbacks||{};var r,i,o,s;for(r in this.callbacks)for(s=this.callbacks[r],i=0,o=s.length;i<o;i++)s[i]._groupName===n&&(s.splice(i,1),i--,o--);return this},e.off=function(n,r){this.callbacks=this.callbacks||{};var i=this.callbacks[n],o;return i?arguments.length===1?(delete this.callbacks[n],this):(o=i.indexOf(r),o!==-1&&(i.splice(o,1),i.length===0&&delete this.callbacks[n]),this):this},e.emit=function(n){this.callbacks=this.callbacks||{};var r=[].slice.call(arguments,1),i=this.callbacks[n],o=this.getWildcardCallbacks(n),s,a,l;if(i)for(l=i.slice(),s=0,a=l.length;s<a&&l[s];++s)l[s].apply(this,r);if(o)for(a=o.length,l=o.slice(),s=0,a=l.length;s<a&&l[s];++s)l[s].apply(this,[n].concat(r));return this},e.getWildcardCallbacks=function(n){this.callbacks=this.callbacks||{};var r,i,o=[];for(r in this.callbacks)i=r.split("*"),(r==="*"||i.length===2&&n.slice(0,i[0].length)===i[0])&&(o=o.concat(this.callbacks[r]));return o}};ff.mixin(ff);var u$=c$;function d$(t,e){var n=-1/0;t.getFloatFrequencyData(e);for(var r=4,i=e.length;r<i;r++)e[r]>n&&e[r]<0&&(n=e[r]);return n}var Vg;typeof window<"u"&&(Vg=window.AudioContext||window.webkitAudioContext);var Pn=null,f$=function(t,r){var n=new u$;if(!Vg)return n;var r=r||{},i=r.smoothing||.1,o=r.interval||50,s=r.threshold,a=r.play,l=r.history||10,c=!0;Pn=r.audioContext||Pn||new Vg;var u,d,f;f=Pn.createAnalyser(),f.fftSize=512,f.smoothingTimeConstant=i,d=new Float32Array(f.frequencyBinCount),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(u=Pn.createMediaElementSource(t),typeof a>"u"&&(a=!0),s=s||-50):(u=Pn.createMediaStreamSource(t),s=s||-50),u.connect(f),a&&f.connect(Pn.destination),n.speaking=!1,n.suspend=function(){return Pn.suspend()},n.resume=function(){return Pn.resume()},Object.defineProperty(n,"state",{get:function(){return Pn.state}}),Pn.onstatechange=function(){n.emit("state_change",Pn.state)},n.setThreshold=function(y){s=y},n.setInterval=function(y){o=y},n.stop=function(){c=!1,n.emit("volume_change",-100,s),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),f.disconnect(),u.disconnect()},n.speakingHistory=[];for(var h=0;h<l;h++)n.speakingHistory.push(0);var m=function(){setTimeout(function(){if(c){var y=d$(f,d);n.emit("volume_change",y,s);var v=0;if(y>s&&!n.speaking){for(var p=n.speakingHistory.length-3;p<n.speakingHistory.length;p++)v+=n.speakingHistory[p];v>=2&&(n.speaking=!0,n.emit("speaking"))}else if(y<s&&n.speaking){for(var p=0;p<n.speakingHistory.length;p++)v+=n.speakingHistory[p];v==0&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(y>s)),m()}},o)};return m(),n},Kn=J&&J.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Jn=J&&J.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(va,"__esModule",{value:!0});va.Stream=void 0;var zp=ya,h$=ba,Yp=dr,p$=vh,$a=Go,Jr=xc,K0=Sa,Du=qr,nt=Qo,Zr=yh,m$=ft,g$=Qn,v$=Qy,y$=f$,J0=qy,Ee=m$.OpenViduLogger.getInstance(),Z0,b$=function(){function t(e,n){var r=this;this.isSubscribeToRemote=!1,this.isLocalStreamReadyToPublish=!1,this.isLocalStreamPublished=!1,this.publishedOnce=!1,this.harkSpeakingEnabled=!1,this.harkSpeakingEnabledOnce=!1,this.harkStoppedSpeakingEnabled=!1,this.harkStoppedSpeakingEnabledOnce=!1,this.harkVolumeChangeEnabled=!1,this.harkVolumeChangeEnabledOnce=!1,this.ee=new J0,Z0=g$.PlatformUtils.getInstance(),this.session=e,n.hasOwnProperty("id")?(this.inboundStreamOpts=n,this.streamId=this.inboundStreamOpts.id,this.creationTime=this.inboundStreamOpts.createdAt,this.hasAudio=this.inboundStreamOpts.hasAudio,this.hasVideo=this.inboundStreamOpts.hasVideo,this.hasAudio&&(this.audioActive=this.inboundStreamOpts.audioActive),this.hasVideo&&(this.videoActive=this.inboundStreamOpts.videoActive,this.typeOfVideo=this.inboundStreamOpts.typeOfVideo?this.inboundStreamOpts.typeOfVideo:void 0,this.frameRate=this.inboundStreamOpts.frameRate===-1?void 0:this.inboundStreamOpts.frameRate,this.videoDimensions=this.inboundStreamOpts.videoDimensions),this.inboundStreamOpts.filter&&Object.keys(this.inboundStreamOpts.filter).length>0&&(this.inboundStreamOpts.filter.lastExecMethod&&Object.keys(this.inboundStreamOpts.filter.lastExecMethod).length===0&&delete this.inboundStreamOpts.filter.lastExecMethod,this.filter=this.inboundStreamOpts.filter)):(this.outboundStreamOpts=n,this.hasAudio=this.isSendAudio(),this.hasVideo=this.isSendVideo(),this.hasAudio&&(this.audioActive=!!this.outboundStreamOpts.publisherProperties.publishAudio),this.hasVideo&&(this.videoActive=!!this.outboundStreamOpts.publisherProperties.publishVideo,this.frameRate=this.outboundStreamOpts.publisherProperties.frameRate,typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?this.typeOfVideo=Zr.TypeOfVideo.CUSTOM:this.typeOfVideo=this.isSendScreen()?Zr.TypeOfVideo.SCREEN:Zr.TypeOfVideo.CAMERA),this.outboundStreamOpts.publisherProperties.filter&&(this.filter=this.outboundStreamOpts.publisherProperties.filter)),this.ee.on("mediastream-updated",function(){var i;r.streamManager.updateMediaStream(r.mediaStream),Ee.debug("Video srcObject ["+((i=r.mediaStream)===null||i===void 0?void 0:i.id)+"] updated in stream ["+r.streamId+"]")})}return t.prototype.reconnect=function(){return this.reconnectStream("API")},t.prototype.applyFilter=function(e,n){var r=this;return new Promise(function(i,o){return Kn(r,void 0,void 0,function(){var s,a,l,c,u,d,f=this;return Jn(this,function(h){if(this.filter)return[2,o(new nt.OpenViduError(nt.OpenViduErrorName.GENERIC_ERROR,"There is already a filter applied to Stream "+this.streamId))];if(s=function(m,y){if(m)return Ee.error("Error applying filter for Stream "+f.streamId,m),m.code===401?o(new nt.OpenViduError(nt.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter")):o(m);Ee.info("Filter successfully applied on Stream "+f.streamId);var v=f.filter;return f.filter=new zp.Filter(e,n),f.filter.stream=f,y&&(f.session.emitEvent("streamPropertyChanged",[new Du.StreamPropertyChangedEvent(f.session,f,"filter",f.filter,v,"applyFilter")]),f.streamManager.emitEvent("streamPropertyChanged",[new Du.StreamPropertyChangedEvent(f.streamManager,f,"filter",f.filter,v,"applyFilter")])),i(f.filter)},e.startsWith("VB:")){if(!this.hasVideo)return[2,o(new nt.OpenViduError(nt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The Virtual Background filter requires a video track to be applied"))];if(!this.mediaStream||this.streamManager.videos.length===0)return[2,o(new nt.OpenViduError(nt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The StreamManager requires some video element to be attached to it in order to apply a Virtual Background filter"))];if(this.session.token?a=this.session.token:a=n.token,!a)return[2,o(new nt.OpenViduError(nt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Virtual Background requires the client to be connected to a Session or to have a "token" property available in "options" parameter with a valid OpenVidu token'))];if(l=this.session.getTokenParams(a),l.edition!=="pro"&&l.edition!=="enterprise")return[2,o(new nt.OpenViduError(nt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"OpenVidu Virtual Background API is available from OpenVidu Pro edition onwards"))];a=encodeURIComponent(btoa(a)),Ee.info("Applying Virtual Background to stream "+this.streamId),c=function(){return Kn(f,void 0,void 0,function(){var m,y,v,p,b,w,_;return Jn(this,function(R){switch(R.label){case 0:return R.trys.push([0,8,,9]),m=this.streamId+"_"+(0,v$.v4)(),y=this.mediaStream.clone(),v=this.streamManager.videos[0].video.cloneNode(!1),v.id=VirtualBackground.VirtualBackground.SOURCE_VIDEO_PREFIX+m,v.srcObject=y,v.muted=!0,this.virtualBackgroundSourceElements={videoClone:v,mediaStreamClone:y},VirtualBackground.VirtualBackground.hideHtmlElement(v,!1),VirtualBackground.VirtualBackground.appendHtmlElementToHiddenContainer(v,m),[4,v.play()];case 1:switch(R.sent(),p=new VirtualBackground.VirtualBackground({id:m,openviduServerUrl:new URL(l.httpUri),openviduToken:a,inputVideo:v,inputResolution:"160x96",outputFramerate:24}),b=void 0,w=e,w){case"VB:blur":return[3,2];case"VB:image":return[3,4]}return[3,6];case 2:return[4,p.backgroundBlur(n)];case 3:return b=R.sent(),[3,7];case 4:return[4,p.backgroundImage(n)];case 5:return b=R.sent(),[3,7];case 6:throw new Error("Unknown Virtual Background filter: "+e);case 7:return this.virtualBackgroundSinkElements={VB:p,video:b},v.style.display="none",this.streamManager.remote?this.streamManager.replaceTrackInMediaStream(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1):this.streamManager.replaceTrackAux(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1),s(void 0,!1),[3,9];case 8:return _=R.sent(),_.name===nt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?s(new nt.OpenViduError(nt.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,_.message),!1):s(_,!1),[3,9];case 9:return[2]}})})},typeof VirtualBackground>"u"?(u=document.createElement("script"),u.type="text/javascript",u.src=l.httpUri+"/openvidu/virtual-background/openvidu-virtual-background.js?token="+a,u.onload=function(){return Kn(f,void 0,void 0,function(){var m;return Jn(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,c()];case 1:return y.sent(),i(new zp.Filter(e,n)),[3,3];case 2:return m=y.sent(),o(m),[3,3];case 3:return[2]}})})},document.body.appendChild(u)):c().then(function(){return i(new zp.Filter(e,n))}).catch(function(m){return o(m)})}else{if(!this.session.sessionConnected())return[2,o(this.session.notConnectedError())];Ee.info("Applying server filter to stream "+this.streamId),n=n??{},d=n,typeof d!="string"&&(d=JSON.stringify(d)),this.session.openvidu.sendRequest("applyFilter",{streamId:this.streamId,type:e,options:d},function(m,y){s(m,!0)})}return[2]})})})},t.prototype.removeFilter=function(){return Kn(this,void 0,void 0,function(){return Jn(this,function(e){switch(e.label){case 0:return[4,this.removeFilterAux(!1)];case 1:return[2,e.sent()]}})})},t.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},t.prototype.getMediaStream=function(){return this.mediaStream},t.prototype.removeFilterAux=function(e){var n=this;return new Promise(function(r,i){return Kn(n,void 0,void 0,function(){var o,s,a,l=this,c;return Jn(this,function(u){switch(u.label){case 0:if(o=function(d,f){if(d)return delete l.filter,Ee.error("Error removing filter for Stream "+l.streamId,d),d.code===401?i(new nt.OpenViduError(nt.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter")):i(d);Ee.info("Filter successfully removed from Stream "+l.streamId);var h=l.filter;return delete l.filter,f&&(l.session.emitEvent("streamPropertyChanged",[new Du.StreamPropertyChangedEvent(l.session,l,"filter",l.filter,h,"applyFilter")]),l.streamManager.emitEvent("streamPropertyChanged",[new Du.StreamPropertyChangedEvent(l.streamManager,l,"filter",l.filter,h,"applyFilter")])),r()},!this.filter)return[3,11];if(!(!((c=this.filter)===null||c===void 0)&&c.type.startsWith("VB:")))return[3,9];u.label=1;case 1:return u.trys.push([1,7,,8]),s=this.virtualBackgroundSourceElements.mediaStreamClone,e?[3,5]:this.streamManager.remote?(this.streamManager.replaceTrackInMediaStream(s.getVideoTracks()[0],!1),[3,4]):[3,2];case 2:return[4,this.streamManager.replaceTrackAux(s.getVideoTracks()[0],!1)];case 3:u.sent(),u.label=4;case 4:return[3,6];case 5:s.getTracks().forEach(function(d){return d.stop()}),u.label=6;case 6:return this.virtualBackgroundSinkElements.VB.cleanUp(),delete this.virtualBackgroundSinkElements,delete this.virtualBackgroundSourceElements,[2,o(void 0,!1)];case 7:return a=u.sent(),[2,o(a,!1)];case 8:return[3,10];case 9:if(!this.session.sessionConnected())return[2,i(this.session.notConnectedError())];Ee.info("Removing filter of stream "+this.streamId),this.session.openvidu.sendRequest("removeFilter",{streamId:this.streamId},function(d,f){return o(d,!0)}),u.label=10;case 10:return[3,12];case 11:return[2,i(new nt.OpenViduError(nt.OpenViduErrorName.GENERIC_ERROR,"Stream "+this.streamId+" has no filter applied"))];case 12:return[2]}})})})},t.prototype.setMediaStream=function(e){this.mediaStream=e},t.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},t.prototype.getWebRtcPeer=function(){return this.webRtcPeer},t.prototype.subscribeToMyRemote=function(e){this.isSubscribeToRemote=e},t.prototype.setOutboundStreamOptions=function(e){this.outboundStreamOpts=e},t.prototype.subscribe=function(){var e=this;return new Promise(function(n,r){e.initWebRtcPeerReceive(!1).then(function(){return n()}).catch(function(i){return r(i)})})},t.prototype.publish=function(){var e=this;return new Promise(function(n,r){e.isLocalStreamReadyToPublish?e.initWebRtcPeerSend(!1).then(function(){return n()}).catch(function(i){return r(i)}):e.ee.once("stream-ready-to-publish",function(){e.publish().then(function(){return n()}).catch(function(i){return r(i)})})})},t.prototype.disposeWebRtcPeer=function(){var e;this.webRtcPeer&&(this.webRtcPeer.dispose(),e=this.webRtcPeer.getId()),this.stopWebRtcStats(),Ee.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"RTCPeerConnection with id ["+e+"] from 'Stream' with id ["+this.streamId+"] is now closed")},t.prototype.disposeMediaStream=function(){return Kn(this,void 0,void 0,function(){var e;return Jn(this,function(n){switch(n.label){case 0:if(!(this.filter&&this.filter.type.startsWith("VB:")))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.removeFilterAux(!0)];case 2:return n.sent(),console.debug("Success removing Virtual Background filter for stream ".concat(this.streamId)),[3,4];case 3:return e=n.sent(),console.error("Error removing Virtual Background filter for stream ".concat(this.streamId),e),[3,4];case 4:return this.mediaStream&&(this.mediaStream.getAudioTracks().forEach(function(r){r.stop()}),this.mediaStream.getVideoTracks().forEach(function(r){r.stop()}),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach(function(r){r.stop()}),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach(function(r){r.stop()}),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),Ee.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed"),[2]}})})},t.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},t.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.audioSource!==null&&this.outboundStreamOpts.publisherProperties.audioSource!==!1},t.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.videoSource!==null&&this.outboundStreamOpts.publisherProperties.videoSource!==!1},t.prototype.isSendScreen=function(){var e=!1;if(typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack){var n=this.outboundStreamOpts.publisherProperties.videoSource.getSettings();n.displaySurface&&(e=["monitor","window","browser"].includes(n.displaySurface))}return!e&&Z0.isElectron()&&(e=typeof this.outboundStreamOpts.publisherProperties.videoSource=="string"&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),e||(e=this.outboundStreamOpts.publisherProperties.videoSource==="screen"),!!this.outboundStreamOpts&&e},t.prototype.enableHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabled&&this.speechEvent&&(this.harkSpeakingEnabled=!0,this.speechEvent.on("speaking",function(){e.session.emitEvent("publisherStartSpeaking",[new Jr.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new Jr.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)]),e.harkSpeakingEnabledOnce=!1}))},t.prototype.enableOnceHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabledOnce&&this.speechEvent&&(this.harkSpeakingEnabledOnce=!0,this.speechEvent.once("speaking",function(){e.harkSpeakingEnabledOnce&&(e.session.emitEvent("publisherStartSpeaking",[new Jr.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new Jr.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)])),e.disableHarkSpeakingEvent(!0)}))},t.prototype.disableHarkSpeakingEvent=function(e){if(this.speechEvent){if(this.harkSpeakingEnabledOnce=!1,e){if(this.harkSpeakingEnabled)return}else this.harkSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabled&&this.speechEvent&&(this.harkStoppedSpeakingEnabled=!0,this.speechEvent.on("stopped_speaking",function(){e.session.emitEvent("publisherStopSpeaking",[new Jr.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new Jr.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)]),e.harkStoppedSpeakingEnabledOnce=!1}))},t.prototype.enableOnceHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabledOnce&&this.speechEvent&&(this.harkStoppedSpeakingEnabledOnce=!0,this.speechEvent.once("stopped_speaking",function(){e.harkStoppedSpeakingEnabledOnce&&(e.session.emitEvent("publisherStopSpeaking",[new Jr.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new Jr.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)])),e.disableHarkStoppedSpeakingEvent(!0)}))},t.prototype.disableHarkStoppedSpeakingEvent=function(e){if(this.speechEvent){if(this.harkStoppedSpeakingEnabledOnce=!1,e){if(this.harkStoppedSpeakingEnabled)return}else this.harkStoppedSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableHarkVolumeChangeEvent=function(e){var n=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabled||e)&&(this.harkVolumeChangeEnabled=!0,this.speechEvent.on("volume_change",function(r){var i=n.speechEvent.oldVolumeValue,o={newValue:r,oldValue:i};n.speechEvent.oldVolumeValue=r,n.streamManager.emitEvent("streamAudioVolumeChange",[new K0.StreamManagerEvent(n.streamManager,"streamAudioVolumeChange",o)])})):this.harkVolumeChangeEnabled=!0},t.prototype.enableOnceHarkVolumeChangeEvent=function(e){var n=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabledOnce||e)&&(this.harkVolumeChangeEnabledOnce=!0,this.speechEvent.once("volume_change",function(r){var i=n.speechEvent.oldVolumeValue,o={newValue:r,oldValue:i};n.speechEvent.oldVolumeValue=r,n.disableHarkVolumeChangeEvent(!0),n.streamManager.emitEvent("streamAudioVolumeChange",[new K0.StreamManagerEvent(n.streamManager,"streamAudioVolumeChange",o)])})):this.harkVolumeChangeEnabledOnce=!0},t.prototype.disableHarkVolumeChangeEvent=function(e){if(this.speechEvent){if(this.harkVolumeChangeEnabledOnce=!1,e){if(this.harkVolumeChangeEnabled)return}else this.harkVolumeChangeEnabled=!1;this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},t.prototype.getSelectedIceCandidate=function(){var e=this;return new Promise(function(n,r){e.webRtcStats.getSelectedIceCandidateInfo().then(function(i){return n(i)}).catch(function(i){return r(i)})})},t.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},t.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},t.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return Ee.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Stream '.concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") will force a reconnection")),!0;var e=this.getRTCPeerConnection().iceConnectionState;return e!=="connected"&&e!=="completed"},t.prototype.setHarkListenerIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var e=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};e.interval=typeof e.interval=="number"?e.interval:100,e.threshold=typeof e.threshold=="number"?e.threshold:-50,this.speechEvent=y$(this.mediaStream,e)}return!0}return!1},t.prototype.setupReconnectionEventEmitter=function(e,n){return this.reconnectionEventEmitter==null?(this.reconnectionEventEmitter=new J0,!1):(console.warn("Trying to reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but an ongoing reconnection process is active. Waiting for response...")),this.reconnectionEventEmitter.once("success",function(){return e()}),this.reconnectionEventEmitter.once("error",function(r){return n(r)}),!0)},t.prototype.initWebRtcPeerSend=function(e){var n=this;return new Promise(function(r,i){var o;if(e){if(n.setupReconnectionEventEmitter(r,i))return}else n.initHarkEvents();var s=function(){var u;return e&&((u=n.reconnectionEventEmitter)===null||u===void 0||u.emitEvent("success"),delete n.reconnectionEventEmitter),r()},a=function(u){var d;return e&&((d=n.reconnectionEventEmitter)===null||d===void 0||d.emitEvent("error",[u]),delete n.reconnectionEventEmitter),i(u)},l=function(u){Ee.debug("Sending SDP offer to publish as "+n.streamId,u);var d=e?"reconnectStream":"publishVideo",f;if(e)f={stream:n.streamId,sdpString:u};else{var h=void 0;n.isSendVideo()&&(h=typeof MediaStreamTrack<"u"&&n.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?Zr.TypeOfVideo.CUSTOM:n.isSendScreen()?Zr.TypeOfVideo.SCREEN:Zr.TypeOfVideo.CAMERA),f={doLoopback:n.displayMyRemote()||!1,hasAudio:n.isSendAudio(),hasVideo:n.isSendVideo(),audioActive:n.audioActive,videoActive:n.videoActive,typeOfVideo:h,frameRate:n.frameRate?n.frameRate:-1,videoDimensions:JSON.stringify(n.videoDimensions),filter:n.outboundStreamOpts.publisherProperties.filter,sdpOffer:u}}n.session.openvidu.sendRequest(d,f,function(m,y){m?m.code===401?a(new nt.OpenViduError(nt.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish")):a("Error on publishVideo: "+JSON.stringify(m)):n.webRtcPeer.processRemoteAnswer(y.sdpAnswer).then(function(){n.streamId=y.id,n.creationTime=y.createdAt,n.isLocalStreamPublished=!0,n.publishedOnce=!0,n.displayMyRemote()&&(n.localMediaStreamWhenSubscribedToRemote=n.mediaStream,n.remotePeerSuccessfullyEstablished(e)),e?n.ee.emitEvent("stream-reconnected-by-publisher",[]):n.ee.emitEvent("stream-created-by-publisher",[]),n.initWebRtcStats(),Ee.info("'Publisher' ("+n.streamId+") successfully "+(e?"reconnected":"published")+" to session"),s()}).catch(function(v){a(v)})})},c={mediaConstraints:{audio:n.hasAudio,video:n.hasVideo},simulcast:(o=n.outboundStreamOpts.publisherProperties.videoSimulcast)!==null&&o!==void 0?o:n.session.openvidu.videoSimulcast,onIceCandidate:n.connection.sendIceCandidate.bind(n.connection),onIceConnectionStateException:n.onIceConnectionStateExceptionHandler.bind(n),iceServers:n.getIceServersConf(),rtcConfiguration:n.session.openvidu.advancedConfiguration.rtcConfiguration,mediaStream:n.mediaStream,mediaServer:n.session.openvidu.mediaServer,typeOfVideo:n.typeOfVideo?Zr.TypeOfVideo[n.typeOfVideo]:void 0};n.session.openvidu.mediaServer!=="mediasoup"&&(c.simulcast=!1),e&&n.disposeWebRtcPeer(),n.displayMyRemote()?n.webRtcPeer=new Yp.WebRtcPeerSendrecv(c):n.webRtcPeer=new Yp.WebRtcPeerSendonly(c),n.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+n.connection.connectionId),n.webRtcPeer.createOffer().then(function(u){n.webRtcPeer.processLocalOffer(u).then(function(){l(u.sdp)}).catch(function(d){a(new Error("(publish) SDP process local offer error: "+JSON.stringify(d)))})}).catch(function(u){a(new Error("(publish) SDP create offer error: "+JSON.stringify(u)))})})},t.prototype.finalResolveForSubscription=function(e,n){var r;return Ee.info("'Subscriber' ("+this.streamId+") successfully "+(e?"reconnected":"subscribed")),this.remotePeerSuccessfullyEstablished(e),this.initWebRtcStats(),e&&((r=this.reconnectionEventEmitter)===null||r===void 0||r.emitEvent("success"),delete this.reconnectionEventEmitter),n()},t.prototype.finalRejectForSubscription=function(e,n,r){var i;return Ee.error("Error for 'Subscriber' ("+this.streamId+") while trying to "+(e?"reconnect":"subscribe")+": "+n.toString()),e&&((i=this.reconnectionEventEmitter)===null||i===void 0||i.emitEvent("error",[n]),delete this.reconnectionEventEmitter),r(n)},t.prototype.initWebRtcPeerReceive=function(e){var n=this;return new Promise(function(r,i){e&&n.setupReconnectionEventEmitter(r,i)||(n.session.openvidu.mediaServer==="mediasoup"?n.initWebRtcPeerReceiveFromServer(e).then(function(){return n.finalResolveForSubscription(e,r)}).catch(function(o){return n.finalRejectForSubscription(e,o,i)}):n.initWebRtcPeerReceiveFromClient(e).then(function(){return n.finalResolveForSubscription(e,r)}).catch(function(o){return n.finalRejectForSubscription(e,o,i)}))})},t.prototype.initWebRtcPeerReceiveFromClient=function(e){var n=this;return new Promise(function(r,i){n.completeWebRtcPeerReceive(e,!1).then(function(o){n.webRtcPeer.processRemoteAnswer(o.sdpAnswer).then(function(){return r()}).catch(function(s){return i(s)})}).catch(function(o){return i(o)})})},t.prototype.initWebRtcPeerReceiveFromServer=function(e){var n=this;return new Promise(function(r,i){n.session.openvidu.sendRequest("prepareReceiveVideoFrom",{sender:n.streamId,reconnect:e},function(o,s){if(o)return i(new Error("Error on prepareReceiveVideoFrom: "+JSON.stringify(o)));n.completeWebRtcPeerReceive(e,!1,s.sdpOffer).then(function(){return r()}).catch(function(a){return i(a)})})})},t.prototype.completeWebRtcPeerReceive=function(e,n,r){var i=this;return new Promise(function(o,s){Ee.debug("'Session.subscribe(Stream)' called");var a=function(c){Ee.debug("Sending local SDP ".concat(r?"answer":"offer"," to subscribe to ").concat(i.streamId),c);var u=e?"reconnectStream":"receiveVideoFrom",d={};d[e?"stream":"sender"]=i.streamId,r?d[e?"sdpString":"sdpAnswer"]=c:d.sdpOffer=c,e&&(d.forciblyReconnect=n),i.session.openvidu.sendRequest(u,d,function(f,h){return f?s(new Error("Error on "+u+" : "+JSON.stringify(f))):o(h)})},l={mediaConstraints:{audio:i.hasAudio,video:i.hasVideo},simulcast:!1,onIceCandidate:i.connection.sendIceCandidate.bind(i.connection),onIceConnectionStateException:i.onIceConnectionStateExceptionHandler.bind(i),iceServers:i.getIceServersConf(),rtcConfiguration:i.session.openvidu.advancedConfiguration.rtcConfiguration,mediaServer:i.session.openvidu.mediaServer,typeOfVideo:i.typeOfVideo?Zr.TypeOfVideo[i.typeOfVideo]:void 0};e&&i.disposeWebRtcPeer(),i.webRtcPeer=new Yp.WebRtcPeerRecvonly(l),i.webRtcPeer.addIceConnectionStateChangeListener(i.streamId),r?i.webRtcPeer.processRemoteOffer(r).then(function(){i.webRtcPeer.createAnswer().then(function(c){i.webRtcPeer.processLocalAnswer(c).then(function(){a(c.sdp)}).catch(function(u){return s(new Error("(subscribe) SDP process local answer error: "+JSON.stringify(u)))})}).catch(function(c){return s(new Error("(subscribe) SDP create answer error: "+JSON.stringify(c)))})}).catch(function(c){return s(new Error("(subscribe) SDP process remote offer error: "+JSON.stringify(c)))}):i.webRtcPeer.createOffer().then(function(c){i.webRtcPeer.processLocalOffer(c).then(function(){a(c.sdp)}).catch(function(u){return s(new Error("(subscribe) SDP process local offer error: "+JSON.stringify(u)))})}).catch(function(c){return s(new Error("(subscribe) SDP create offer error: "+JSON.stringify(c)))})})},t.prototype.remotePeerSuccessfullyEstablished=function(e){e&&this.mediaStream!=null&&this.disposeMediaStream(),this.mediaStream=new MediaStream;for(var n,r=0,i=this.webRtcPeer.pc.getReceivers();r<i.length;r++)n=i[r],n.track&&this.mediaStream.addTrack(n.track);if(Ee.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof h$.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var o=e?this.audioActive:!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=o}if(this.mediaStream.getVideoTracks()[0]){var o=e?this.videoActive:!!this.videoActive&&!!this.streamManager.properties.subscribeToVideo;this.mediaStream.getVideoTracks()[0].enabled=o}}this.updateMediaStreamInVideos(),this.initHarkEvents()}},t.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!0,this.streamManager)&&this.enableOnceHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.streamManager)&&this.enableHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!0,this.streamManager)&&this.enableOnceHarkStoppedSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.streamManager)&&this.enableHarkStoppedSpeakingEvent(),this.harkVolumeChangeEnabledOnce&&this.enableOnceHarkVolumeChangeEvent(!0),this.harkVolumeChangeEnabled&&this.enableHarkVolumeChangeEvent(!0))},t.prototype.onIceConnectionStateExceptionHandler=function(e,n,r){switch(e){case $a.ExceptionEventName.ICE_CONNECTION_FAILED:this.onIceConnectionFailed();break;case $a.ExceptionEventName.ICE_CONNECTION_DISCONNECTED:this.onIceConnectionDisconnected();break}this.session.emitEvent("exception",[new $a.ExceptionEvent(this.session,e,this,n,r)])},t.prototype.onIceConnectionFailed=function(){Ee.log("[ICE_CONNECTION_FAILED] Handling ICE_CONNECTION_FAILED event. Reconnecting stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",")")),this.reconnectStreamAndLogResultingIceConnectionState($a.ExceptionEventName.ICE_CONNECTION_FAILED)},t.prototype.onIceConnectionDisconnected=function(){var e=this;Ee.log("[ICE_CONNECTION_DISCONNECTED] Handling ICE_CONNECTION_DISCONNECTED event. Waiting for ICE to be restored and reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") if not possible"));var n=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3;this.awaitWebRtcPeerConnectionState(n).then(function(r){switch(r){case"failed":Ee.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") is now failed after ICE_CONNECTION_DISCONNECTED"));break;case"connected":case"completed":Ee.log("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") automatically restored after ICE_CONNECTION_DISCONNECTED. Current ICE connection state: ").concat(r));break;case"closed":case"checking":case"new":case"disconnected":Ee.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") couldn't be restored after ICE_CONNECTION_DISCONNECTED event. Current ICE connection state after ").concat(n," ms: ").concat(r)),e.reconnectStreamAndLogResultingIceConnectionState($a.ExceptionEventName.ICE_CONNECTION_DISCONNECTED);break}})},t.prototype.reconnectStreamAndLogResultingIceConnectionState=function(e){return Kn(this,void 0,void 0,function(){var n,r;return Jn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.reconnectStreamAndReturnIceConnectionState(e)];case 1:switch(n=i.sent(),n){case"connected":case"completed":Ee.log("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") successfully reconnected after ").concat(e,". Current ICE connection state: ").concat(n));break;default:Ee.error("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") failed to reconnect after ").concat(e,". Current ICE connection state: ").concat(n));break}return[3,3];case 2:return r=i.sent(),Ee.error("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after ").concat(e,": ").concat(r)),[3,3];case 3:return[2]}})})},t.prototype.reconnectStreamAndReturnIceConnectionState=function(e){return Kn(this,void 0,void 0,function(){var n,r;return Jn(this,function(i){switch(i.label){case 0:Ee.log("[".concat(e,"] Reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after event ").concat(e)),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.reconnectStream(e)];case 2:return i.sent(),n=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3,[2,this.awaitWebRtcPeerConnectionState(n)];case 3:return r=i.sent(),Ee.warn("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber","). Reason: ").concat(r)),[2,this.awaitWebRtcPeerConnectionState(1)];case 4:return[2]}})})},t.prototype.awaitWebRtcPeerConnectionState=function(e){return Kn(this,void 0,void 0,function(){var n,r,i,o;return Jn(this,function(s){switch(s.label){case 0:n=this.getRTCPeerConnection().iceConnectionState,r=150,i=Math.ceil(e/r),o=0,s.label=1;case 1:return o<i?(n=this.getRTCPeerConnection().iceConnectionState,n==="connected"||n==="completed"?[3,4]:[4,new Promise(function(a){return setTimeout(a,r)})]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2,n]}})})},t.prototype.reconnectStream=function(e){return Kn(this,void 0,void 0,function(){var n,r;return Jn(this,function(i){switch(i.label){case 0:return[4,this.isWebsocketConnected(e,3e3)];case 1:if(n=i.sent(),n)return Ee.log("[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") and the websocket is opened")),this.isLocal()?[2,this.initWebRtcPeerSend(!0)]:[2,this.initWebRtcPeerReceive(!0)];throw r="[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but the websocket wasn't opened"),Ee.error(r),Error(r)}})})},t.prototype.isWebsocketConnected=function(e,n){var r=this;return new Promise(function(i,o){var s=r.session.openvidu.getWsReadyState();if(s===1){var a=setTimeout(function(){return console.warn("[".concat(e,"] Websocket timeout of ").concat(n,"ms")),i(!1)},n);r.session.openvidu.sendRequest("echo",{},function(l,c){return clearTimeout(a),l?(console.warn("[".concat(e,"] Websocket 'echo' returned error: ").concat(l)),i(!1)):i(!0)})}else return console.warn("[".concat(e,"] Websocket readyState is ").concat(s)),i(!1)})},t.prototype.initWebRtcStats=function(){this.webRtcStats=new p$.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},t.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},t.prototype.getIceServersConf=function(){var e,n;return this.session.openvidu.advancedConfiguration.iceServers?n=this.session.openvidu.advancedConfiguration.iceServers==="freeice"?void 0:this.session.openvidu.advancedConfiguration.iceServers:!((e=this.session.openvidu.advancedConfiguration.rtcConfiguration)===null||e===void 0)&&e.iceServers?n=this.session.openvidu.advancedConfiguration.rtcConfiguration.iceServers:this.session.openvidu.iceServers?n=this.session.openvidu.iceServers:n=void 0,n},t.prototype.gatherStatsForPeer=function(){var e=this;return new Promise(function(n,r){e.isLocal()?e.getRTCPeerConnection().getSenders().forEach(function(i){return i.getStats().then(function(o){o.forEach(function(s){if(e.isReportWanted(s)){var a={};a.type=s.type,a.timestamp=s.timestamp,a.id=s.id,s.type==="outbound-rtp"&&(a.ssrc=s.ssrc,a.firCount=s.firCount,a.pliCount=s.pliCount,a.nackCount=s.nackCount,a.qpSum=s.qpSum,s.kind?a.mediaType=s.kind:s.mediaType?a.mediaType=s.mediaType:a.mediaType=s.id.indexOf("VideoStream")!==-1?"video":"audio",a.mediaType==="video"&&(a.framesEncoded=s.framesEncoded),a.packetsSent=s.packetsSent,a.bytesSent=s.bytesSent),s.type==="candidate-pair"&&s.totalRoundTripTime!==void 0&&(a.availableOutgoingBitrate=s.availableOutgoingBitrate,a.rtt=s.currentRoundTripTime,a.averageRtt=s.totalRoundTripTime/s.responsesReceived),s.type==="remote-inbound-rtp"||s.type,Ee.log(a)}})})}):e.getRTCPeerConnection().getReceivers().forEach(function(i){return i.getStats().then(function(o){o.forEach(function(s){if(e.isReportWanted(s)){var a={};a.type=s.type,a.timestamp=s.timestamp,a.id=s.id,s.type==="inbound-rtp"&&(a.ssrc=s.ssrc,a.firCount=s.firCount,a.pliCount=s.pliCount,a.nackCount=s.nackCount,a.qpSum=s.qpSum,s.kind?a.mediaType=s.kind:s.mediaType?a.mediaType=s.mediaType:a.mediaType=s.id.indexOf("VideoStream")!==-1?"video":"audio",a.mediaType==="video"&&(a.framesDecoded=s.framesDecoded),a.packetsReceived=s.packetsReceived,a.packetsLost=s.packetsLost,a.jitter=s.jitter,a.bytesReceived=s.bytesReceived),s.type==="candidate-pair"&&s.totalRoundTripTime!==void 0&&(a.availableIncomingBitrate=s.availableIncomingBitrate,a.rtt=s.currentRoundTripTime,a.averageRtt=s.totalRoundTripTime/s.responsesReceived),s.type==="remote-inbound-rtp"||s.type,Ee.log(a)}})})})})},t.prototype.isReportWanted=function(e){return e.type==="inbound-rtp"&&!this.isLocal()||e.type==="outbound-rtp"&&this.isLocal()||e.type==="candidate-pair"&&e.nominated&&e.bytesSent>0},t}();va.Stream=b$;Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Connection=void 0;var w$=va,E$=ft,eS=Go,za=E$.OpenViduLogger.getInstance(),S$=function(){function t(e,n){this.session=e,this.disposed=!1;var r="'Connection' created ";n.role?(this.localOptions=n,this.connectionId=this.localOptions.id,this.creationTime=this.localOptions.createdAt,this.data=this.localOptions.metadata,this.rpcSessionId=this.localOptions.sessionId,this.role=this.localOptions.role,this.record=this.localOptions.record,r+="(local)"):(this.remoteOptions=n,this.connectionId=this.remoteOptions.id,this.creationTime=this.remoteOptions.createdAt,this.remoteOptions.metadata&&(this.data=this.remoteOptions.metadata),this.remoteOptions.streams&&this.initRemoteStreams(this.remoteOptions.streams),r+="(remote) with 'connectionId' ["+this.remoteOptions.id+"]"),za.info(r)}return t.prototype.sendIceCandidate=function(e){var n=this;this.disposed?za.warn("Connection ".concat(this.connectionId," disposed when trying to send an ICE candidate. ICE candidate not sent")):(za.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,e),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex},function(r,i){r&&(za.error("Error sending ICE candidate: "+JSON.stringify(r)),n.session.emitEvent("exception",[new eS.ExceptionEvent(n.session,eS.ExceptionEventName.ICE_CANDIDATE_ERROR,n.session,"There was an unexpected error on the server-side processing an ICE candidate generated and sent by the client-side",r)]))}))},t.prototype.initRemoteStreams=function(e){var n=this;e.forEach(function(r){var i={id:r.id,createdAt:r.createdAt,connection:n,hasAudio:r.hasAudio,hasVideo:r.hasVideo,audioActive:r.audioActive,videoActive:r.videoActive,typeOfVideo:r.typeOfVideo,frameRate:r.frameRate,videoDimensions:r.videoDimensions?JSON.parse(r.videoDimensions):void 0,filter:r.filter?r.filter:void 0},o=new w$.Stream(n.session,i);n.addStream(o)}),za.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},t.prototype.addStream=function(e){e.connection=this,this.stream=e},t.prototype.removeStream=function(){delete this.stream},t.prototype.dispose=function(){this.disposed=!0,this.removeStream()},t}();Ec.Connection=S$;var Dc={},C$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.ConnectionEvent=void 0;var _$=bt,x$=function(t){C$(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i)||this;return a.connection=o,a.reason=s,a}return e.prototype.callDefaultBehavior=function(){},e}(_$.Event);Dc.ConnectionEvent=x$;var kc={},D$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(kc,"__esModule",{value:!0});kc.FilterEvent=void 0;var k$=bt,R$=function(t){D$(e,t);function e(n,r,i){var o=t.call(this,!1,n,r)||this;return o.data=i,o}return e.prototype.callDefaultBehavior=function(){},e}(k$.Event);kc.FilterEvent=R$;var Rc={},O$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.RecordingEvent=void 0;var T$=bt,A$=function(t){O$(e,t);function e(n,r,i,o,s){var a=t.call(this,!1,n,r)||this;return a.id=i,o!==i&&(a.name=o),a.reason=s,a}return e.prototype.callDefaultBehavior=function(){},e}(T$.Event);Rc.RecordingEvent=A$;var Ca={},I$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.SessionDisconnectedEvent=void 0;var N$=bt,P$=ft,M$=P$.OpenViduLogger.getInstance(),L$=function(t){I$(e,t);function e(n,r){var i=t.call(this,!0,n,"sessionDisconnected")||this;return i.reason=r,i}return e.prototype.callDefaultBehavior=function(){M$.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var n=this.target;n.remoteConnections.forEach(function(r){var i,o,s,a,l,c,u,d,f=r.connectionId;if(!((i=n.remoteConnections.get(f))===null||i===void 0)&&i.stream){(o=n.remoteConnections.get(f))===null||o===void 0||o.stream.disposeWebRtcPeer(),(s=n.remoteConnections.get(f))===null||s===void 0||s.stream.disposeMediaStream(),!((a=n.remoteConnections.get(f))===null||a===void 0)&&a.stream.streamManager&&((l=n.remoteConnections.get(f))===null||l===void 0||l.stream.streamManager.removeAllVideos());var h=(u=(c=n.remoteConnections.get(f))===null||c===void 0?void 0:c.stream)===null||u===void 0?void 0:u.streamId;h&&n.remoteStreamsCreated.delete(h),(d=n.remoteConnections.get(f))===null||d===void 0||d.dispose()}n.remoteConnections.delete(f)})},e}(N$.Event);Ca.SessionDisconnectedEvent=L$;var Oc={},j$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.SignalEvent=void 0;var F$=bt,B$=function(t){j$(e,t);function e(n,r,i,o){var s=t.call(this,!1,n,"signal")||this;return r&&(s.type="signal:"+r),s.data=i,s.from=o,s}return e.prototype.callDefaultBehavior=function(){},e}(F$.Event);Oc.SignalEvent=B$;var Tc={},V$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.SpeechToTextEvent=void 0;var H$=bt,U$=function(t){V$(e,t);function e(n,r,i,o,s,a){var l=t.call(this,!1,n,"speechToTextMessage")||this;return l.connection=r,l.text=i,l.reason=o,l.raw=s,l.lang=a,l}return e.prototype.callDefaultBehavior=function(){},e}(H$.Event);Tc.SpeechToTextEvent=U$;var Ya={},tS;function Xy(){if(tS)return Ya;tS=1;var t=J&&J.__extends||function(){var a=function(l,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(u[f]=d[f])},a(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.StreamEvent=void 0;var e=bt,n=Ky(),r=bh(),i=ft,o=i.OpenViduLogger.getInstance(),s=function(a){t(l,a);function l(c,u,d,f,h){var m=a.call(this,c,u,d)||this;return m.stream=f,m.reason=h,m}return l.prototype.callDefaultBehavior=function(){if(this.type==="streamDestroyed"){if(this.target instanceof r.Session)o.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof n.Publisher){o.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var c=this.target.openvidu.publishers,u=0;u<c.length;u++)if(c[u]===this.target){c.splice(u,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),this.stream.session.remoteStreamsCreated.delete(this.stream.streamId);var d=this.stream.session.remoteConnections.get(this.stream.connection.connectionId);if(d&&d.remoteOptions)for(var f=d.remoteOptions.streams,u=f.length-1;u>=0;--u)f[u].id===this.stream.streamId&&f.splice(u,1)}},l}(e.Event);return Ya.StreamEvent=s,Ya}var Ac={},W$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.ConnectionPropertyChangedEvent=void 0;var $$=bt,z$=function(t){W$(e,t);function e(n,r,i,o,s){var a=t.call(this,!1,n,"connectionPropertyChanged")||this;return a.connection=r,a.changedProperty=i,a.newValue=o,a.oldValue=s,a}return e.prototype.callDefaultBehavior=function(){},e}($$.Event);Ac.ConnectionPropertyChangedEvent=z$;var Ic={},Y$=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.NetworkQualityLevelChangedEvent=void 0;var q$=bt,Q$=function(t){Y$(e,t);function e(n,r,i,o){var s=t.call(this,!1,n,"networkQualityLevelChanged")||this;return s.newValue=r,s.oldValue=i,s.connection=o,s}return e.prototype.callDefaultBehavior=function(){},e}(q$.Event);Ic.NetworkQualityLevelChangedEvent=Q$;var qp={};const G$=typeof process=="object"&&qp&&qp.NODE_DEBUG&&/\bsemver\b/i.test(qp.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Nk=G$;const X$="2.0.0",Pk=256,K$=Number.MAX_SAFE_INTEGER||9007199254740991,J$=16,Z$=Pk-6,e6=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Mk={MAX_LENGTH:Pk,MAX_SAFE_COMPONENT_LENGTH:J$,MAX_SAFE_BUILD_LENGTH:Z$,MAX_SAFE_INTEGER:K$,RELEASE_TYPES:e6,SEMVER_SPEC_VERSION:X$,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Hg={exports:{}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Mk,o=Nk;e=t.exports={};const s=e.re=[],a=e.safeRe=[],l=e.src=[],c=e.t={};let u=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],h=y=>{for(const[v,p]of f)y=y.split(`${v}*`).join(`${v}{0,${p}}`).split(`${v}+`).join(`${v}{1,${p}}`);return y},m=(y,v,p)=>{const b=h(v),w=u++;o(y,w,v),c[y]=w,l[w]=v,s[w]=new RegExp(v,p?"g":void 0),a[w]=new RegExp(b,p?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${d}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hg,Hg.exports);var t6=Hg.exports;const n6=Object.freeze({loose:!0}),r6=Object.freeze({}),i6=t=>t?typeof t!="object"?n6:t:r6;var o6=i6;const nS=/^[0-9]+$/,Lk=(t,e)=>{const n=nS.test(t),r=nS.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},s6=(t,e)=>Lk(e,t);var a6={compareIdentifiers:Lk,rcompareIdentifiers:s6};const ku=Nk,{MAX_LENGTH:rS,MAX_SAFE_INTEGER:Ru}=Mk,{safeRe:iS,t:oS}=t6,l6=o6,{compareIdentifiers:ss}=a6;let c6=class Zn{constructor(e,n){if(n=l6(n),e instanceof Zn){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>rS)throw new TypeError(`version is longer than ${rS} characters`);ku("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?iS[oS.LOOSE]:iS[oS.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ru||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ru||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ru||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Ru)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ku("SemVer.compare",this.version,this.options,e),!(e instanceof Zn)){if(typeof e=="string"&&e===this.version)return 0;e=new Zn(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Zn||(e=new Zn(e,this.options)),ss(this.major,e.major)||ss(this.minor,e.minor)||ss(this.patch,e.patch)}comparePre(e){if(e instanceof Zn||(e=new Zn(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(ku("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ss(r,i)}while(++n)}compareBuild(e){e instanceof Zn||(e=new Zn(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(ku("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ss(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),ss(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var jk=c6;const u6=jk,d6=(t,e)=>new u6(t,e).major;var f6=d6;const h6=jk,p6=(t,e)=>new h6(t,e).minor;var m6=p6,sS;function bh(){if(sS)return Wa;sS=1;var t=J&&J.__extends||function(){var z=function(j,S){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(k[D]=A[D])},z(j,S)};return function(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");z(j,S);function k(){this.constructor=j}j.prototype=S===null?Object.create(S):(k.prototype=S.prototype,new k)}}(),e=J&&J.__awaiter||function(z,j,S,k){function A(D){return D instanceof S?D:new S(function(C){C(D)})}return new(S||(S=Promise))(function(D,C){function x(U){try{I(k.next(U))}catch($){C($)}}function T(U){try{I(k.throw(U))}catch($){C($)}}function I(U){U.done?D(U.value):A(U.value).then(x,T)}I((k=k.apply(z,j||[])).next())})},n=J&&J.__generator||function(z,j){var S={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},k,A,D,C;return C={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function x(I){return function(U){return T([I,U])}}function T(I){if(k)throw new TypeError("Generator is already executing.");for(;C&&(C=0,I[0]&&(S=0)),S;)try{if(k=1,A&&(D=I[0]&2?A.return:I[0]?A.throw||((D=A.return)&&D.call(A),0):A.next)&&!(D=D.call(A,I[1])).done)return D;switch(A=0,D&&(I=[I[0]&2,D.value]),I[0]){case 0:case 1:D=I;break;case 4:return S.label++,{value:I[1],done:!1};case 5:S.label++,A=I[1],I=[0];continue;case 7:I=S.ops.pop(),S.trys.pop();continue;default:if(D=S.trys,!(D=D.length>0&&D[D.length-1])&&(I[0]===6||I[0]===2)){S=0;continue}if(I[0]===3&&(!D||I[1]>D[0]&&I[1]<D[3])){S.label=I[1];break}if(I[0]===6&&S.label<D[1]){S.label=D[1],D=I;break}if(D&&S.label<D[2]){S.label=D[2],S.ops.push(I);break}D[2]&&S.ops.pop(),S.trys.pop();continue}I=j.call(z,S)}catch(U){I=[6,U],A=0}finally{k=D=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.Session=void 0;var r=Ec,i=ya,o=ba,s=Ea,a=Dc,l=kc,c=Rc,u=Ca,d=Oc,f=Tc,h=Xy(),m=qr,y=Ac,v=Ic,p=Qo,b=Cc,w=ft,_=Qn,R=f6,M=m6,O=Go,E=w.OpenViduLogger.getInstance(),N,H=function(z){t(j,z);function j(S){var k=z.call(this)||this;return k.streamManagers=[],k.remoteStreamsCreated=new Map,k.remoteConnections=new Map,N=_.PlatformUtils.getInstance(),k.openvidu=S,k}return j.prototype.connect=function(S,k){var A=this;return new Promise(function(D,C){if(A.processToken(S),A.openvidu.checkSystemRequirements())A.options={sessionId:A.sessionId,participantId:S,metadata:k?A.stringClientMetadata(k):""},A.connectAux(S).then(function(){return D()}).catch(function(x){return C(x)});else return C(new p.OpenViduError(p.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+N.getName()+" (version "+N.getVersion()+") for "+N.getFamily()+" is not supported in OpenVidu"))})},j.prototype.disconnect=function(){this.leave(!1,"disconnect")},j.prototype.subscribe=function(S,k,A,D){var C={};A&&typeof A!="function"?C={insertMode:typeof A.insertMode<"u"?typeof A.insertMode=="string"?b.VideoInsertMode[A.insertMode]:C.insertMode:b.VideoInsertMode.APPEND,subscribeToAudio:typeof A.subscribeToAudio<"u"?A.subscribeToAudio:!0,subscribeToVideo:typeof A.subscribeToVideo<"u"?A.subscribeToVideo:!0}:C={insertMode:b.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0};var x=void 0;if(A&&typeof A=="function"?x=A:D&&(x=D),!this.sessionConnected())throw x!==void 0&&x(this.notConnectedError()),this.notConnectedError();E.info("Subscribing to "+S.connection.connectionId),S.subscribe().then(function(){E.info("Subscribed correctly to "+S.connection.connectionId),x!==void 0&&x(void 0)}).catch(function(I){x!==void 0&&x(I)});var T=new o.Subscriber(S,k,C);return T.targetElement&&S.streamManager.createVideoElement(T.targetElement,C.insertMode),T},j.prototype.subscribeAsync=function(S,k,A){var D=this;return new Promise(function(C,x){if(!D.sessionConnected())return x(D.notConnectedError());var T,I=function(U){return U?x(U):C(T)};A?T=D.subscribe(S,k,A,I):T=D.subscribe(S,k,I)})},j.prototype.unsubscribe=function(S){var k=this;return new Promise(function(A,D){if(k.sessionConnected()){var C=S.stream.connection.connectionId;E.info("Unsubscribing from "+C),k.openvidu.sendRequest("unsubscribeFromVideo",{sender:S.stream.connection.connectionId},function(x,T){return x?(E.error("Error unsubscribing from "+C),D(x)):(E.info("Unsubscribed correctly from "+C),S.stream.streamManager.removeAllVideos(),S.stream.disposeWebRtcPeer(),S.stream.disposeMediaStream(),A())})}else return D(k.notConnectedError())})},j.prototype.publish=function(S){var k=this;return new Promise(function(A,D){if(!k.sessionConnected())return D(k.notConnectedError());S.session=k,S.stream.session=k,S.stream.publishedOnce?S.initialize().then(function(){k.connection.addStream(S.stream),S.reestablishStreamPlayingEvent(),S.stream.publish().then(function(){return k.sendVideoData(S,8,!0,5),A()}).catch(function(C){return D(C)})}).catch(function(C){return D(C)}):(k.connection.addStream(S.stream),S.stream.publish().then(function(){return k.sendVideoData(S,8,!0,5),A()}).catch(function(C){return D(C)}))})},j.prototype.unpublish=function(S){var k=this;return new Promise(function(A,D){if(!k.sessionConnected())throw k.notConnectedError();var C=S.stream;if(C.connection){if(C.connection!==k.connection)return D(new Error("The associated Connection object of this Publisher is not your local Connection.  Only moderators can force unpublish on remote Streams via 'forceUnpublish' method"));E.info("Unpublishing local media ("+C.connection.connectionId+")"),k.openvidu.sendRequest("unpublishVideo",function(x,T){if(x)return D(x);E.info("Media unpublished correctly"),C.disposeWebRtcPeer(),C.connection.stream==C&&delete C.connection.stream;var I=new h.StreamEvent(!0,S,"streamDestroyed",S.stream,"unpublish");return S.emitEvent("streamDestroyed",[I]),I.callDefaultBehavior(),A()})}else return D(new Error("The associated Connection object of this Publisher is null"))})},j.prototype.forceDisconnect=function(S){var k=this;return new Promise(function(A,D){if(!k.sessionConnected())return D(k.notConnectedError());E.info("Forcing disconnect for connection "+S.connectionId),k.openvidu.sendRequest("forceDisconnect",{connectionId:S.connectionId},function(C,x){return C?(E.error("Error forcing disconnect for Connection "+S.connectionId,C),C.code===401?D(new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection")):D(C)):(E.info("Forcing disconnect correctly for Connection "+S.connectionId),A())})})},j.prototype.forceUnpublish=function(S){var k=this;return new Promise(function(A,D){if(!k.sessionConnected())return D(k.notConnectedError());E.info("Forcing unpublish for stream "+S.streamId),k.openvidu.sendRequest("forceUnpublish",{streamId:S.streamId},function(C,x){return C?(E.error("Error forcing unpublish for Stream "+S.streamId,C),C.code===401?D(new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing")):D(C)):(E.info("Forcing unpublish correctly for Stream "+S.streamId),A())})})},j.prototype.signal=function(S){var k=this;return new Promise(function(A,D){if(!k.sessionConnected())return D(k.notConnectedError());var C={};if(S.to&&S.to.length>0){var x=[];S.to.forEach(function(I){I.connectionId&&x.push(I.connectionId)}),C.to=x}else C.to=[];C.data=S.data?S.data:"";var T=S.type?S.type:"signal";T&&T.substring(0,7)!=="signal:"&&(T="signal:"+T),C.type=T,k.openvidu.sendRequest("sendMessage",{message:JSON.stringify(C)},function(I,U){return I?D(I):A()})})},j.prototype.subscribeToSpeechToText=function(S,k){var A=this;return new Promise(function(D,C){A.openvidu.sendRequest("subscribeToSpeechToText",{connectionId:S.connection.connectionId,lang:k},function(x,T){return x?C(x):D()})})},j.prototype.unsubscribeFromSpeechToText=function(S){var k=this;return new Promise(function(A,D){k.openvidu.sendRequest("unsubscribeFromSpeechToText",{connectionId:S.connection.connectionId},function(C,x){return C?D(C):A()})})},j.prototype.on=function(S,k){var A,D,C,x;return z.prototype.onAux.call(this,S,"Event '"+S+"' triggered by 'Session'",k),S==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(T){var I;!((I=T.stream)===null||I===void 0)&&I.hasAudio&&T.stream.enableHarkSpeakingEvent()}),!((D=(A=this.connection)===null||A===void 0?void 0:A.stream)===null||D===void 0)&&D.hasAudio&&this.connection.stream.enableHarkSpeakingEvent()),S==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(T){var I;!((I=T.stream)===null||I===void 0)&&I.hasAudio&&T.stream.enableHarkStoppedSpeakingEvent()}),!((x=(C=this.connection)===null||C===void 0?void 0:C.stream)===null||x===void 0)&&x.hasAudio&&this.connection.stream.enableHarkStoppedSpeakingEvent()),this},j.prototype.once=function(S,k){var A,D,C,x;return z.prototype.onceAux.call(this,S,"Event '"+S+"' triggered once by 'Session'",k),S==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(T){var I;!((I=T.stream)===null||I===void 0)&&I.hasAudio&&T.stream.enableOnceHarkSpeakingEvent()}),!((D=(A=this.connection)===null||A===void 0?void 0:A.stream)===null||D===void 0)&&D.hasAudio&&this.connection.stream.enableOnceHarkSpeakingEvent()),S==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(T){var I;!((I=T.stream)===null||I===void 0)&&I.hasAudio&&T.stream.enableOnceHarkStoppedSpeakingEvent()}),!((x=(C=this.connection)===null||C===void 0?void 0:C.stream)===null||x===void 0)&&x.hasAudio&&this.connection.stream.enableOnceHarkStoppedSpeakingEvent()),this},j.prototype.off=function(S,k){var A=this,D,C,x,T;return z.prototype.offAux.call(this,S,k),S==="publisherStartSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1)||(this.remoteConnections.forEach(function(I){var U;!((U=I.stream)===null||U===void 0)&&U.streamManager&&(A.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,I.stream.streamManager)||I.stream.disableHarkSpeakingEvent(!1))}),!((C=(D=this.connection)===null||D===void 0?void 0:D.stream)===null||C===void 0)&&C.streamManager&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkSpeakingEvent(!1)))),S==="publisherStopSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1)||(this.remoteConnections.forEach(function(I){var U;!((U=I.stream)===null||U===void 0)&&U.streamManager&&(A.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,I.stream.streamManager)||I.stream.disableHarkStoppedSpeakingEvent(!1))}),!((T=(x=this.connection)===null||x===void 0?void 0:x.stream)===null||T===void 0)&&T.streamManager&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkStoppedSpeakingEvent(!1)))),this},j.prototype.onParticipantJoined=function(S){var k=this;this.getConnection(S.id,"").then(function(A){E.warn("Connection "+A.connectionId+" already exists in connections list")}).catch(function(A){var D=new r.Connection(k,S);k.remoteConnections.set(S.id,D),k.ee.emitEvent("connectionCreated",[new a.ConnectionEvent(!1,k,"connectionCreated",D,"")])})},j.prototype.onParticipantLeft=function(S){var k=this;this.getRemoteConnection(S.connectionId,"onParticipantLeft").then(function(A){if(A.stream){var D=A.stream,C=new h.StreamEvent(!0,k,"streamDestroyed",D,S.reason);k.ee.emitEvent("streamDestroyed",[C]),C.callDefaultBehavior(),k.remoteStreamsCreated.delete(D.streamId)}A.dispose(),k.remoteConnections.delete(A.connectionId),k.ee.emitEvent("connectionDestroyed",[new a.ConnectionEvent(!1,k,"connectionDestroyed",A,S.reason)])}).catch(function(A){E.error(A)})},j.prototype.onParticipantPublished=function(S){var k=this,A=function(C){k.remoteConnections.set(C.connectionId,C),k.remoteStreamsCreated.get(C.stream.streamId)||k.ee.emitEvent("streamCreated",[new h.StreamEvent(!1,k,"streamCreated",C.stream,"")]),k.remoteStreamsCreated.set(C.stream.streamId,!0)},D;this.getRemoteConnection(S.id,"onParticipantPublished").then(function(C){D=C,S.metadata=C.data,D.remoteOptions=S,D.initRemoteStreams(S.streams),A(D)}).catch(function(C){D=new r.Connection(k,S),A(D)})},j.prototype.onParticipantUnpublished=function(S){var k=this;S.connectionId===this.connection.connectionId?this.stopPublisherStream(S.reason):this.getRemoteConnection(S.connectionId,"onParticipantUnpublished").then(function(A){var D=new h.StreamEvent(!0,k,"streamDestroyed",A.stream,S.reason);if(k.ee.emitEvent("streamDestroyed",[D]),D.callDefaultBehavior(),A.stream!=null){var C=A.stream.streamId;k.remoteStreamsCreated.delete(C),A.removeStream()}}).catch(function(A){E.error(A)})},j.prototype.onParticipantEvicted=function(S){S.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,S.reason)},j.prototype.onNewMessage=function(S){var k=this;E.info("New signal: "+JSON.stringify(S));var A=S.type?S.type.replace(/^(signal:)/,""):void 0;S.from?this.getConnection(S.from,"Connection '"+S.from+"' unknown when 'onNewMessage'. Existing remote connections: "+JSON.stringify(this.remoteConnections.keys())+". Existing local connection: "+this.connection.connectionId).then(function(D){k.ee.emitEvent("signal",[new d.SignalEvent(k,A,S.data,D)]),S.type&&S.type!=="signal"&&k.ee.emitEvent(S.type,[new d.SignalEvent(k,A,S.data,D)])}).catch(function(D){E.error(D)}):(this.ee.emitEvent("signal",[new d.SignalEvent(this,A,S.data,void 0)]),S.type&&S.type!=="signal"&&this.ee.emitEvent(S.type,[new d.SignalEvent(this,A,S.data,void 0)]))},j.prototype.onStreamPropertyChanged=function(S){var k=this,A=function(D){var C,x;if(D.stream&&D.stream.streamId===S.streamId){var T=D.stream,I=void 0;switch(S.property){case"audioActive":I=T.audioActive,S.newValue=S.newValue==="true",T.audioActive=S.newValue;break;case"videoActive":I=T.videoActive,S.newValue=S.newValue==="true",T.videoActive=S.newValue;var U=(x=(C=T==null?void 0:T.getMediaStream())===null||C===void 0?void 0:C.getVideoTracks())===null||x===void 0?void 0:x[0];U&&!U.enabled&&T.videoActive&&(U.enabled=!0);break;case"videoTrack":S.newValue=JSON.parse(S.newValue);break;case"audioTrack":S.newValue=JSON.parse(S.newValue);break;case"videoDimensions":I=T.videoDimensions,S.newValue=JSON.parse(JSON.parse(S.newValue)),T.videoDimensions=S.newValue;break;case"filter":I=T.filter,S.newValue=Object.keys(S.newValue).length>0?S.newValue:void 0,S.newValue!==void 0?(T.filter=new i.Filter(S.newValue.type,S.newValue.options),T.filter.stream=T,S.newValue.lastExecMethod&&(T.filter.lastExecMethod=S.newValue.lastExecMethod)):delete T.filter,S.newValue=T.filter;break}k.ee.emitEvent("streamPropertyChanged",[new m.StreamPropertyChangedEvent(k,T,S.property,S.newValue,I,S.reason)]),T.streamManager&&T.streamManager.emitEvent("streamPropertyChanged",[new m.StreamPropertyChangedEvent(T.streamManager,T,S.property,S.newValue,I,S.reason)])}else E.error("No stream with streamId '"+S.streamId+"' found for connection '"+S.connectionId+"' on 'streamPropertyChanged' event")};S.connectionId===this.connection.connectionId?A(this.connection):this.getRemoteConnection(S.connectionId,"onStreamPropertyChanged").then(function(D){A(D)}).catch(function(D){E.error(D)})},j.prototype.onConnectionPropertyChanged=function(S){var k;switch(S.property){case"role":k=this.connection.role.slice(),this.connection.role=S.newValue,this.connection.localOptions.role=S.newValue;break;case"record":k=this.connection.record,S.newValue=S.newValue==="true",this.connection.record=S.newValue,this.connection.localOptions.record=S.newValue;break}this.ee.emitEvent("connectionPropertyChanged",[new y.ConnectionPropertyChangedEvent(this,this.connection,S.property,S.newValue,k)])},j.prototype.onNetworkQualityLevelChangedChanged=function(S){var k=this;S.connectionId===this.connection.connectionId?this.ee.emitEvent("networkQualityLevelChanged",[new v.NetworkQualityLevelChangedEvent(this,S.newValue,S.oldValue,this.connection)]):this.getConnection(S.connectionId,"Connection not found for connectionId "+S.connectionId).then(function(A){k.ee.emitEvent("networkQualityLevelChanged",[new v.NetworkQualityLevelChangedEvent(k,S.newValue,S.oldValue,A)])}).catch(function(A){E.error(A)})},j.prototype.recvIceCandidate=function(S){var k={candidate:S.candidate,sdpMLineIndex:S.sdpMLineIndex,sdpMid:S.sdpMid},A=new RTCIceCandidate(k);this.getConnection(S.senderConnectionId,"Connection not found for connectionId "+S.senderConnectionId+" owning endpoint "+S.endpointName+". Ice candidate will be ignored: "+A).then(function(D){var C=D.stream;C.getWebRtcPeer().addIceCandidate(A).catch(function(x){E.error("Error adding candidate for "+C.streamId+" stream of endpoint "+S.endpointName+": "+x)})}).catch(function(D){E.error(D)})},j.prototype.onSessionClosed=function(S){E.info("Session closed: "+JSON.stringify(S));var k=S.sessionId;k!==void 0?this.ee.emitEvent("session-closed",[{session:k}]):E.warn("Session undefined on session closed",S)},j.prototype.onLostConnection=function(S){E.warn("Lost connection in Session "+this.sessionId),this.sessionId&&this.connection&&!this.connection.disposed&&this.leave(!0,S)},j.prototype.onRecoveredConnection=function(){E.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},j.prototype.onMediaError=function(S){E.error("Media error: "+JSON.stringify(S));var k=S.error;k?this.ee.emitEvent("error-media",[{error:k}]):E.warn("Received undefined media error:",S)},j.prototype.onRecordingStarted=function(S){this.ee.emitEvent("recordingStarted",[new c.RecordingEvent(this,"recordingStarted",S.id,S.name)])},j.prototype.onRecordingStopped=function(S){this.ee.emitEvent("recordingStopped",[new c.RecordingEvent(this,"recordingStopped",S.id,S.name,S.reason)])},j.prototype.onBroadcastStarted=function(){this.ee.emitEvent("broadcastStarted",[])},j.prototype.onBroadcastStopped=function(){this.ee.emitEvent("broadcastStopped",[])},j.prototype.onFilterEventDispatched=function(S){var k=this,A=S.connectionId;this.getConnection(A,"No connection found for connectionId "+A).then(function(D){E.info('Filter event of type "'.concat(S.eventType,'" dispatched'));var C=D.stream;if(!C||!C.filter)return E.error('Filter event of type "'.concat(S.eventType,'" dispatched for stream ').concat(C.streamId," but there is no ").concat(C?"filter":"stream"," defined"));var x=C.filter.handlers.get(S.eventType);if(!x||typeof x!="function"){var T=Array.from(C.filter.handlers.keys());return E.error('Filter event of type "'.concat(S.eventType,'" not handled or not a function! Active filter events: ').concat(T.join(",")))}else x.call(k,new l.FilterEvent(C.filter,S.eventType,S.data))})},j.prototype.onForciblyReconnectSubscriber=function(S){var k=this;return new Promise(function(A,D){k.getRemoteConnection(S.connectionId,"onForciblyReconnectSubscriber").then(function(C){if(C.stream&&C.stream.streamId===S.streamId){var x=C.stream;if(x.setupReconnectionEventEmitter(A,D)){if(x.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent!=null)return x.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=S,D("Ongoing forced subscriber reconnection");x.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=S;var T=function(){var U=x.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent;delete x.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent,k.onForciblyReconnectSubscriber(U)};x.reconnectionEventEmitter.once("success",function(){T()}),x.reconnectionEventEmitter.once("error",function(){T()});return}x.completeWebRtcPeerReceive(!0,!0,S.sdpOffer).then(function(){return x.finalResolveForSubscription(!0,A)}).catch(function(U){return x.finalRejectForSubscription(!0,"Error while forcibly reconnecting remote stream ".concat(S.streamId,": ").concat(U.toString()),D)})}else{var I="No stream with streamId '"+S.streamId+"' found for connection '"+S.connectionId+"' on 'streamPropertyChanged' event";return E.error(I),D(I)}}).catch(function(C){return E.error(C),D(C)})})},j.prototype.reconnectBrokenStreams=function(){E.info("Re-establishing media connections...");var S=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(E.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),S=!0),this.remoteConnections.forEach(function(k){k.stream&&k.stream.streamIceConnectionStateBroken()&&(E.warn("Re-establishing Subscriber "+k.stream.streamId),k.stream.initWebRtcPeerReceive(!0),S=!0)}),S||E.info("There were no media streams in need of a reconnection")},j.prototype.onSpeechToTextMessage=function(S){return e(this,void 0,void 0,function(){var k,A;return n(this,function(D){switch(D.label){case 0:return[4,this.getConnection(S.connectionId,"No connection found for connectionId "+S.connectionId)];case 1:return k=D.sent(),A=new f.SpeechToTextEvent(this,k,S.text,S.reason.toLowerCase(),S.raw,S.lang),this.ee.emitEvent("speechToTextMessage",[A]),[2]}})})},j.prototype.onSpeechToTextDisconnected=function(S){return e(this,void 0,void 0,function(){return n(this,function(k){return this.emitEvent("exception",[new O.ExceptionEvent(this,O.ExceptionEventName.SPEECH_TO_TEXT_DISCONNECTED,this,S.message)]),[2]})})},j.prototype.emitEvent=function(S,k){this.ee.emitEvent(S,k)},j.prototype.leave=function(S,k){var A=this;if(S=!!S,E.info("Leaving Session (forced="+S+")"),this.stopVideoDataIntervals(),this.connection){if(!this.connection.disposed&&!S?this.openvidu.sendRequest("leaveRoom",function(C,x){C&&E.error("leaveRoom error: ".concat(JSON.stringify(C))),A.openvidu.closeWs()}):this.openvidu.closeWs(),this.stopPublisherStream(k),!this.connection.disposed){var D=new u.SessionDisconnectedEvent(this,k);this.ee.emitEvent("sessionDisconnected",[D]),D.callDefaultBehavior()}}else E.warn("You were not connected to the session "+this.sessionId);E.flush()},j.prototype.initializeParams=function(S){var k={token:S||"",session:this.sessionId,platform:N.getDescription()?N.getDescription():"unknown",sdkVersion:this.openvidu.libraryVersion,metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder(),stt:this.openvidu.getStt()};return k},j.prototype.sendVideoData=function(S,k,A,D){var C=this,x,T;if(k===void 0&&(k=1),A===void 0&&(A=!1),D===void 0&&(D=1),N.isChromeBrowser()||N.isChromeMobileBrowser()||N.isOperaBrowser()||N.isOperaMobileBrowser()||N.isEdgeBrowser()||N.isEdgeMobileBrowser()||N.isElectron()||N.isSafariBrowser()&&!N.isIonicIos()||N.isAndroidBrowser()||N.isSamsungBrowser()||N.isIonicAndroid()||N.isIOSWithSafari()){var I=function(){return e(C,void 0,void 0,function(){var $,re,G;return n(this,function(ce){switch(ce.label){case 0:return $=S.stream.getRTCPeerConnection(),$.connectionState!=="connected"?[3,2]:[4,$.getStats()];case 1:re=ce.sent(),G=[],re.forEach(function(P){"frameWidth"in P&&"frameHeight"in P&&G.length===0&&G.push(P)}),G.length>0&&this.openvidu.sendRequest("videoData",{height:G[0].frameHeight,width:G[0].frameWidth,videoActive:S.stream.videoActive!=null?S.stream.videoActive:!1,audioActive:S.stream.audioActive!=null?S.stream.audioActive:!1},function(P,fe){P&&E.error("Error sending 'videoData' event",P)}),ce.label=2;case 2:return[2]}})})};if(A){var U=1;this.videoDataInterval=setInterval(function(){U<D?(U++,I()):clearInterval(C.videoDataInterval)},k*1e3)}else this.videoDataTimeout=setTimeout(I,k*1e3)}else N.isFirefoxBrowser()||N.isFirefoxMobileBrowser()||N.isIonicIos()||N.isReactNative()?this.openvidu.sendRequest("videoData",{height:((x=S.stream.videoDimensions)===null||x===void 0?void 0:x.height)||0,width:((T=S.stream.videoDimensions)===null||T===void 0?void 0:T.width)||0,videoActive:S.stream.videoActive!=null?S.stream.videoActive:!1,audioActive:S.stream.audioActive!=null?S.stream.audioActive:!1},function($,re){$&&E.error("Error sending 'videoData' event",$)}):E.error("Browser "+N.getName()+" (version "+N.getVersion()+") for "+N.getFamily()+" is not supported in OpenVidu for Network Quality")},j.prototype.sessionConnected=function(){return this.connection!=null},j.prototype.notConnectedError=function(){return new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_NOT_CONNECTED,"There is no connection to the session. Method 'Session.connect' must be successfully completed first")},j.prototype.anySpeechEventListenerEnabled=function(S,k,A){var D=this.ee.getListeners(S);k&&(D=D.filter(function(I){return I.once}));var C=D.length;if(C>0)return!0;var x=0;if(A){var T=A.ee.getListeners(S);k&&(T=T.filter(function(I){return I.once})),x=T.length}return x>0},j.prototype.getTokenParams=function(S){var k=S.match(/^(wss?)\:\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(k){var A={protocol:k[1],host:k[2],hostname:k[3],port:k[4],pathname:k[5],search:k[6],hash:k[7]},D=S.split("?"),C=decodeURI(D[1]).split("&").map(function(x){return x.split("=")}).reduce(function(x,T){var I=T[0],U=T[1];return x[I]=U,x},{});return{sessionId:C.sessionId,secret:C.secret,recorder:C.recorder,stt:C.stt,webrtcStatsInterval:C.webrtcStatsInterval,sendBrowserLogs:C.sendBrowserLogs,edition:C.edition,wsUri:A.protocol+"://"+A.host+"/openvidu",httpUri:"https://"+A.host}}else throw new Error('Token not valid: "'.concat(S,'"'))},j.prototype.connectAux=function(S){var k=this;return new Promise(function(A,D){k.openvidu.startWs(function(C){if(C)return D(C);var x=k.initializeParams(S);k.openvidu.sendRequest("joinRoom",x,function(T,I){if(T)return D(T);k.processJoinRoomResponse(I,S),k.connection=new r.Connection(k,I);var U={connections:new Array,streams:new Array},$=I.value;return $.forEach(function(re){var G=new r.Connection(k,re);k.remoteConnections.set(G.connectionId,G),U.connections.push(G),G.stream&&(k.remoteStreamsCreated.set(G.stream.streamId,!0),U.streams.push(G.stream))}),k.ee.emitEvent("connectionCreated",[new a.ConnectionEvent(!1,k,"connectionCreated",k.connection,"")]),U.connections.forEach(function(re){k.ee.emitEvent("connectionCreated",[new a.ConnectionEvent(!1,k,"connectionCreated",re,"")])}),U.streams.forEach(function(re){k.ee.emitEvent("streamCreated",[new h.StreamEvent(!1,k,"streamCreated",re,"")])}),I.recordingId&&I.recordingName&&k.ee.emitEvent("recordingStarted",[new c.RecordingEvent(k,"recordingStarted",I.recordingId,I.recordingName)]),A()})})})},j.prototype.stopPublisherStream=function(S){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[S]))},j.prototype.stopVideoDataIntervals=function(){clearInterval(this.videoDataInterval),clearTimeout(this.videoDataTimeout)},j.prototype.stringClientMetadata=function(S){return typeof S!="string"?JSON.stringify(S):S},j.prototype.getConnection=function(S,k){var A=this;return new Promise(function(D,C){var x=A.remoteConnections.get(S);return x?D(x):A.connection.connectionId===S?D(A.connection):C(new p.OpenViduError(p.OpenViduErrorName.GENERIC_ERROR,k))})},j.prototype.getRemoteConnection=function(S,k){var A=this;return new Promise(function(D,C){var x=A.remoteConnections.get(S);if(x)return D(x);var T="Remote connection "+S+" unknown when '"+k+"'. Existing remote connections: "+JSON.stringify(A.remoteConnections.keys());return C(new p.OpenViduError(p.OpenViduErrorName.GENERIC_ERROR,T))})},j.prototype.processToken=function(S){var k=this.getTokenParams(S);this.sessionId=k.sessionId,k.secret&&(this.openvidu.secret=k.secret),k.recorder&&(this.openvidu.recorder=!0),k.stt&&(this.openvidu.stt=!0),k.webrtcStatsInterval&&(this.openvidu.webrtcStatsInterval=k.webrtcStatsInterval),k.sendBrowserLogs&&(this.openvidu.sendBrowserLogs=k.sendBrowserLogs),this.openvidu.isAtLeastPro=k.edition==="pro"||k.edition==="enterprise",this.openvidu.isEnterprise=k.edition==="enterprise",this.openvidu.wsUri=k.wsUri,this.openvidu.httpUri=k.httpUri},j.prototype.processJoinRoomResponse=function(S,k){if(this.sessionId=S.session,S.customIceServers!=null&&S.customIceServers.length>0){this.openvidu.iceServers=[];for(var A=0,D=S.customIceServers;A<D.length;A++){var C=D[A],x={urls:[C.url]};E.log("STUN/TURN server IP: "+C.url),C.username!=null&&C.credential!=null&&(x.username=C.username,x.credential=C.credential,E.log("TURN credentials ["+C.username+":"+C.credential+"]")),this.openvidu.iceServers.push(x)}}this.openvidu.role=S.role,this.openvidu.finalUserId=S.finalUserId,this.openvidu.mediaServer=S.mediaServer,this.openvidu.videoSimulcast=S.videoSimulcast,this.capabilities={subscribe:!0,publish:this.openvidu.role!=="SUBSCRIBER",forceUnpublish:this.openvidu.role==="MODERATOR",forceDisconnect:this.openvidu.role==="MODERATOR"},E.info("openvidu-server version: "+S.version),S.life!=null&&(this.openvidu.life=S.life);var T=M(S.version)-M(this.openvidu.libraryVersion);R(S.version)!==R(this.openvidu.libraryVersion)||!(T==0||T==1)?E.error("openvidu-browser (".concat(this.openvidu.libraryVersion,") and openvidu-server (").concat(S.version,") versions are incompatible. ")+"Errors are likely to occur. openvidu-browser SDK is only compatible with the same version or the immediately following minor version of an OpenVidu deployment"):T==1&&E.warn("openvidu-browser version ".concat(this.openvidu.libraryVersion," does not match openvidu-server version ").concat(S.version,". ")+"These versions are still compatible with each other, but openvidu-browser version must be updated as soon as possible to ".concat(R(S.version),".").concat(M(S.version),".x. ")+"This client using openvidu-browser ".concat(this.openvidu.libraryVersion," will become incompatible with the next release of openvidu-server")),w.OpenViduLogger.configureJSNLog(this.openvidu,k),this.token=k},j}(s.EventDispatcher);return Wa.Session=H,Wa}var aS;function Ky(){if(aS)return Ua;aS=1;var t=J&&J.__extends||function(){var y=function(v,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(b[_]=w[_])},y(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");y(v,p);function b(){this.constructor=v}v.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}(),e=J&&J.__awaiter||function(y,v,p,b){function w(_){return _ instanceof p?_:new p(function(R){R(_)})}return new(p||(p=Promise))(function(_,R){function M(N){try{E(b.next(N))}catch(H){R(H)}}function O(N){try{E(b.throw(N))}catch(H){R(H)}}function E(N){N.done?_(N.value):w(N.value).then(M,O)}E((b=b.apply(y,v||[])).next())})},n=J&&J.__generator||function(y,v){var p={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},b,w,_,R;return R={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function M(E){return function(N){return O([E,N])}}function O(E){if(b)throw new TypeError("Generator is already executing.");for(;R&&(R=0,E[0]&&(p=0)),p;)try{if(b=1,w&&(_=E[0]&2?w.return:E[0]?w.throw||((_=w.return)&&_.call(w),0):w.next)&&!(_=_.call(w,E[1])).done)return _;switch(w=0,_&&(E=[E[0]&2,_.value]),E[0]){case 0:case 1:_=E;break;case 4:return p.label++,{value:E[1],done:!1};case 5:p.label++,w=E[1],E=[0];continue;case 7:E=p.ops.pop(),p.trys.pop();continue;default:if(_=p.trys,!(_=_.length>0&&_[_.length-1])&&(E[0]===6||E[0]===2)){p=0;continue}if(E[0]===3&&(!_||E[1]>_[0]&&E[1]<_[3])){p.label=E[1];break}if(E[0]===6&&p.label<_[1]){p.label=_[1],_=E;break}if(_&&p.label<_[2]){p.label=_[2],p.ops.push(E);break}_[2]&&p.ops.pop(),p.trys.pop();continue}E=v.call(y,p)}catch(N){E=[6,N],w=0}finally{b=_=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Publisher=void 0;var r=bh(),i=va,o=wa,s=Xy(),a=qr,l=Qo,c=ft,u=Qn,d=yh,f=c.OpenViduLogger.getInstance(),h,m=function(y){t(v,y);function v(p,b,w){var _=y.call(this,new i.Stream(w.session?w.session:new r.Session(w),{publisherProperties:b,mediaConstraints:{}}),p)||this;return _.accessAllowed=!1,_.isSubscribedToRemote=!1,_.accessDenied=!1,h=u.PlatformUtils.getInstance(),_.properties=b,_.openvidu=w,_.stream.ee.on("local-stream-destroyed",function(R){_.stream.isLocalStreamPublished=!1;var M=new s.StreamEvent(!0,_,"streamDestroyed",_.stream,R);_.emitEvent("streamDestroyed",[M]),M.callDefaultBehavior()}),_}return v.prototype.publishAudio=function(p){var b=this;if(this.stream.audioActive!==p){var w=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream();w.getAudioTracks().forEach(function(_){_.enabled=p}),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:p,reason:"publishAudio"},function(_,R){_?f.error("Error sending 'streamPropertyChanged' event",_):(b.session.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent(b.session,b.stream,"audioActive",p,!p,"publishAudio")]),b.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent(b,b.stream,"audioActive",p,!p,"publishAudio")]),b.session.sendVideoData(b.stream.streamManager))}),this.stream.audioActive=p,f.info("'Publisher' has "+(p?"published":"unpublished")+" its audio stream")}},v.prototype.publishVideo=function(p,b){var w=this;return new Promise(function(_,R){return e(w,void 0,void 0,function(){var M,O,E,N,H,z,j=this;return n(this,function(S){switch(S.label){case 0:return this.stream.videoActive===p?[3,9]:(M=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),O=!1,M.getVideoTracks().forEach(function(k){k.enabled=p,!p&&b===!0?k.stop():p&&k.readyState==="ended"&&(O=!0)}),!p&&b===!0&&this.stream.filter&&this.stream.filter.type.startsWith("VB:")?(this.stream.lastVBFilter=this.stream.filter,[4,this.stream.removeFilterAux(!0)]):[3,2]);case 1:S.sent(),S.label=2;case 2:return O?(E=M.getVideoTracks()[0],M.removeTrack(E),N=function(k){return e(j,void 0,void 0,function(){var A=this;return n(this,function(D){switch(D.label){case 0:return M.addTrack(k),this.stream.isLocalStreamPublished?[4,this.replaceTrackInRtcRtpSender(k)]:[3,2];case 1:D.sent(),D.label=2;case 2:return this.stream.lastVBFilter&&setTimeout(function(){return e(A,void 0,void 0,function(){var C,x;return n(this,function(T){switch(T.label){case 0:return C=this.stream.lastVBFilter.options,x=this.stream.lastVBFilter.lastExecMethod,x&&x.method==="update"&&(C=Object.assign({},C,x.params)),[4,this.stream.applyFilter(this.stream.lastVBFilter.type,C)];case 1:return T.sent(),delete this.stream.lastVBFilter,[2]}})})},1),[2]}})})},b&&b instanceof MediaStreamTrack?[4,N(b)]:[3,4]):[3,8];case 3:return S.sent(),[3,8];case 4:return S.trys.push([4,7,,8]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:this.stream.lastVideoTrackConstraints})];case 5:return H=S.sent(),[4,N(H.getVideoTracks()[0])];case 6:return S.sent(),[3,8];case 7:return z=S.sent(),[2,R(z)];case 8:return this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:p,reason:"publishVideo"},function(k,A){k?f.error("Error sending 'streamPropertyChanged' event",k):(j.session.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent(j.session,j.stream,"videoActive",p,!p,"publishVideo")]),j.emitEvent("streamPropertyChanged",[new a.StreamPropertyChangedEvent(j,j.stream,"videoActive",p,!p,"publishVideo")]),j.session.sendVideoData(j.stream.streamManager))}),this.stream.videoActive=p,f.info("'Publisher' has "+(p?"published":"unpublished")+" its video stream"),[2,_()];case 9:return[2]}})})})},v.prototype.subscribeToRemote=function(p){p=p!==void 0?p:!0,this.isSubscribedToRemote=p,this.stream.subscribeToMyRemote(p)},v.prototype.on=function(p,b){var w=this;return y.prototype.on.call(this,p,b),p==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new s.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",function(){w.emitEvent("streamCreated",[new s.StreamEvent(!1,w,"streamCreated",w.stream,"")])})),p==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),p==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},v.prototype.once=function(p,b){var w=this;return y.prototype.once.call(this,p,b),p==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new s.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",function(){w.emitEvent("streamCreated",[new s.StreamEvent(!1,w,"streamCreated",w.stream,"")])})),p==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),p==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},v.prototype.off=function(p,b){return y.prototype.off.call(this,p,b),this},v.prototype.replaceTrack=function(p){return e(this,void 0,void 0,function(){return n(this,function(b){return[2,this.replaceTrackAux(p,!0)]})})},v.prototype.initialize=function(){var p=this;return new Promise(function(b,w){return e(p,void 0,void 0,function(){var _,R,M,O,E,N,H,z,j,S,k,A,A,D,C,x=this,T,I;return n(this,function(U){switch(U.label){case 0:_={},R={},M=2e3,E=function($){return x.accessDenied=!0,x.accessAllowed=!1,f.error("Publisher initialization failed. ".concat($.name,": ").concat($.message)),w($)},N=function($){var re,G;if(x.accessAllowed=!0,x.accessDenied=!1,typeof MediaStreamTrack<"u"&&x.properties.audioSource instanceof MediaStreamTrack&&($.removeTrack($.getAudioTracks()[0]),$.addTrack(x.properties.audioSource)),typeof MediaStreamTrack<"u"&&x.properties.videoSource instanceof MediaStreamTrack&&($.removeTrack($.getVideoTracks()[0]),$.addTrack(x.properties.videoSource)),$.getAudioTracks()[0]){var ce=x.stream.audioActive!==void 0&&x.stream.audioActive!==null?x.stream.audioActive:!!x.stream.outboundStreamOpts.publisherProperties.publishAudio;$.getAudioTracks()[0].enabled=ce}if($.getVideoTracks()[0]){var ce=x.stream.videoActive!==void 0&&x.stream.videoActive!==null?x.stream.videoActive:!!x.stream.outboundStreamOpts.publisherProperties.publishVideo;$.getVideoTracks()[0].enabled=ce}for(var P=0,fe=$.getAudioTracks();P<fe.length;P++){var oe=fe[P];!((re=oe.contentHint)===null||re===void 0)&&re.length||(oe.contentHint="",f.info("Audio track Content Hint set: '".concat(oe.contentHint,"'")))}for(var at=0,Xe=$.getVideoTracks();at<Xe.length;at++){var oe=Xe[at];if(!(!((G=oe.contentHint)===null||G===void 0)&&G.length)){switch(x.stream.typeOfVideo){case d.TypeOfVideo.SCREEN:oe.contentHint="detail";break;case d.TypeOfVideo.CUSTOM:f.warn("CUSTOM type video track was provided without Content Hint!"),oe.contentHint="motion";break;case d.TypeOfVideo.CAMERA:case d.TypeOfVideo.IPCAM:default:oe.contentHint="motion";break}f.info("Video track Content Hint set: '".concat(oe.contentHint,"'"))}}return x.initializeVideoReference($),x.stream.displayMyRemote()||x.stream.updateMediaStreamInVideos(),delete x.firstVideoElement,x.stream.isSendVideo()?x.getVideoDimensions().then(function(Z){x.stream.videoDimensions={width:Z.width,height:Z.height},x.stream.isSendScreen()&&(x.stream.isSendAudio()&&$.getAudioTracks().length===0&&(x.stream.audioActive=!1,x.stream.hasAudio=!1,x.stream.outboundStreamOpts.publisherProperties.publishAudio=!1,x.stream.outboundStreamOpts.publisherProperties.audioSource=!1),x.screenShareResizeInterval=setInterval(function(){var Bt=$.getVideoTracks()[0].getSettings(),ae=Bt.width,q=Bt.height,ie=ae!=null&&ae!==x.stream.videoDimensions.width,_e=q!=null&&q!==x.stream.videoDimensions.height;x.stream.isLocalStreamPublished&&(ie||_e)&&x.openvidu.sendVideoDimensionsChangedEvent(x,"screenResized",x.stream.videoDimensions.width,x.stream.videoDimensions.height,ae||0,q||0)},650)),x.stream.isLocalStreamReadyToPublish=!0,x.stream.ee.emitEvent("stream-ready-to-publish",[])}):(x.stream.isLocalStreamReadyToPublish=!0,x.stream.ee.emitEvent("stream-ready-to-publish",[])),b()},H=function($,re){return e(x,void 0,void 0,function(){var G,ce;return n(this,function(P){switch(P.label){case 0:if(this.clearPermissionDialogTimer(O,M),!(this.stream.isSendScreen()&&this.properties.audioSource!=="screen"&&this.stream.isSendAudio()))return[3,5];R.audio=re,R.video=!1,O=Date.now(),this.setPermissionDialogTimer(M),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(R)];case 2:return G=P.sent(),this.clearPermissionDialogTimer(O,M),$.addTrack(G.getAudioTracks()[0]),N($),[3,4];case 3:return ce=P.sent(),this.clearPermissionDialogTimer(O,M),$.getAudioTracks().forEach(function(fe){fe.stop()}),$.getVideoTracks().forEach(function(fe){fe.stop()}),E(this.openvidu.generateAudioDeviceError(ce,_)),[2];case 4:return[3,6];case 5:N($),P.label=6;case 6:return[2]}})})},z=function($){return e(x,void 0,void 0,function(){var re,G,ce,fe,P,fe,oe;return n(this,function(at){switch(at.label){case 0:switch(f.error("getMediaError: ".concat($.toString())),this.clearPermissionDialogTimer(O,M),$.name==="Error"&&($.name=$.constructor.name),ce=$.name.toLowerCase(),ce){case"notfounderror":return[3,1];case"notallowederror":return[3,5];case"overconstrainederror":return[3,6];case"aborterror":return[3,10];case"notreadableerror":return[3,10]}return[3,11];case 1:return at.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:_.video})];case 2:return fe=at.sent(),fe.getVideoTracks().forEach(function(Xe){Xe.stop()}),re=l.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,G=$.toString(),E(new l.OpenViduError(re,G)),[3,4];case 3:return P=at.sent(),re=l.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,G=P.toString(),E(new l.OpenViduError(re,G)),[3,4];case 4:return[3,12];case 5:return re=this.stream.isSendScreen()?l.OpenViduErrorName.SCREEN_CAPTURE_DENIED:l.OpenViduErrorName.DEVICE_ACCESS_DENIED,G=$.toString(),E(new l.OpenViduError(re,G)),[3,12];case 6:return at.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:_.video})];case 7:return fe=at.sent(),fe.getVideoTracks().forEach(function(Xe){Xe.stop()}),$.constraint.toLowerCase()==="deviceid"?(re=l.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,G="Audio input device with deviceId '"+_.audio.deviceId.exact+"' not found"):(re=l.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,G="Audio input device doesn't support the value passed for constraint '"+$.constraint+"'"),E(new l.OpenViduError(re,G)),[3,9];case 8:return oe=at.sent(),oe.constraint.toLowerCase()==="deviceid"?(re=l.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,G="Video input device with deviceId '"+_.video.deviceId.exact+"' not found"):(re=l.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,G="Video input device doesn't support the value passed for constraint '"+oe.constraint+"'"),E(new l.OpenViduError(re,G)),[3,9];case 9:return[3,12];case 10:return re=l.OpenViduErrorName.DEVICE_ALREADY_IN_USE,G=$.toString(),E(new l.OpenViduError(re,G)),[3,12];case 11:return re=l.OpenViduErrorName.GENERIC_ERROR,G=$.toString(),E(new l.OpenViduError(re,G)),[3,12];case 12:return[2]}})})},U.label=1;case 1:return U.trys.push([1,14,,15]),[4,this.openvidu.generateMediaConstraints(this.properties)];case 2:return j=U.sent(),j.videoTrack&&j.audioTrack||j.audioTrack&&((T=j.constraints)===null||T===void 0?void 0:T.video)===!1||j.videoTrack&&((I=j.constraints)===null||I===void 0?void 0:I.audio)===!1?(N(this.openvidu.addAlreadyProvidedTracks(j,new MediaStream,this.stream)),[3,13]):[3,3];case 3:_=j.constraints,S={mediaConstraints:_,publisherProperties:this.properties},this.stream.setOutboundStreamOptions(S),k=_.audio===void 0?!0:_.audio,R.audio=this.stream.isSendScreen()?!1:k,R.video=_.video,O=Date.now(),this.setPermissionDialogTimer(M),U.label=4;case 4:return U.trys.push([4,11,,13]),this.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&!h.isElectron()?[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:this.properties.audioSource==="screen"})]:[3,7];case 5:return A=U.sent(),this.openvidu.addAlreadyProvidedTracks(j,A),[4,H(A,k)];case 6:return U.sent(),[3,10];case 7:return this.stream.lastVideoTrackConstraints=R.video,[4,navigator.mediaDevices.getUserMedia(R)];case 8:return A=U.sent(),this.openvidu.addAlreadyProvidedTracks(j,A,this.stream),[4,H(A,k)];case 9:U.sent(),U.label=10;case 10:return[3,13];case 11:return D=U.sent(),[4,z(D)];case 12:return U.sent(),[3,13];case 13:return[3,15];case 14:return C=U.sent(),E(C),[3,15];case 15:return[2]}})})})},v.prototype.replaceTrackAux=function(p,b){return e(this,void 0,void 0,function(){var w,_;return n(this,function(R){switch(R.label){case 0:w=p.enabled,p.kind==="video"?p.enabled=this.stream.videoActive:p.kind==="audio"&&(p.enabled=this.stream.audioActive),R.label=1;case 1:return R.trys.push([1,5,,6]),this.stream.isLocalStreamPublished?(this.replaceTrackInMediaStream(p,b),[4,this.replaceTrackInRtcRtpSender(p)]):[3,3];case 2:return[2,R.sent()];case 3:return[2,this.replaceTrackInMediaStream(p,b)];case 4:return[3,6];case 5:throw _=R.sent(),p.enabled=w,_;case 6:return[2]}})})},v.prototype.getVideoDimensions=function(){var p=this;return new Promise(function(b,w){var _=(h.isIonicIos()||h.isIOSWithSafari())&&p.videoReference.readyState<1,R,M=function(){var O,E;if(typeof p.stream.getMediaStream().getVideoTracks()[0].getSettings=="function"){var N=p.stream.getMediaStream().getVideoTracks()[0].getSettings();O=N.width||p.videoReference.videoWidth,E=N.height||p.videoReference.videoHeight}else f.warn("MediaStreamTrack does not have getSettings method on "+h.getDescription()),O=p.videoReference.videoWidth,E=p.videoReference.videoHeight;return R!=null&&p.videoReference.removeEventListener("loadedmetadata",R),_&&document.body.removeChild(p.videoReference),b({width:O,height:E})};p.videoReference.readyState>=1?M():(R=function(){if(p.videoReference.videoWidth)M();else var O=setInterval(function(){p.videoReference.videoWidth&&(clearInterval(O),M())},40)},p.videoReference.addEventListener("loadedmetadata",R),_&&document.body.appendChild(p.videoReference))})},v.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},v.prototype.initializeVideoReference=function(p){this.videoReference=document.createElement("video"),this.videoReference.style.display="none",this.videoReference.muted=!0,this.videoReference.autoplay=!0,this.videoReference.controls=!1,(h.isSafariBrowser()||h.isIPhoneOrIPad()&&(h.isChromeMobileBrowser()||h.isEdgeMobileBrowser()||h.isOperaMobileBrowser()||h.isFirefoxMobileBrowser()))&&(this.videoReference.playsInline=!0),this.stream.setMediaStream(p),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=this.stream.getMediaStream()},v.prototype.replaceTrackInMediaStream=function(p,b){var w=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),_;p.kind==="video"?(_=w.getVideoTracks()[0],b&&(this.stream.lastVideoTrackConstraints=p.getConstraints())):_=w.getAudioTracks()[0],_.enabled=!1,_.stop(),w.removeTrack(_),w.addTrack(p);var R={oldLabel:(_==null?void 0:_.label)||"",newLabel:(p==null?void 0:p.label)||""};p.kind==="video"&&b?(this.openvidu.sendNewVideoDimensionsIfRequired(this,"trackReplaced",50,30),this.openvidu.sendTrackChangedEvent(this,R.oldLabel,R.newLabel,"videoTrack"),this.stream.isLocalStreamPublished&&this.session.sendVideoData(this.stream.streamManager,5,!0,5)):p.kind==="audio"&&b&&this.openvidu.sendTrackChangedEvent(this,R.oldLabel,R.newLabel,"audioTrack"),p.kind==="audio"&&(this.stream.disableHarkSpeakingEvent(!1),this.stream.disableHarkStoppedSpeakingEvent(!1),this.stream.disableHarkVolumeChangeEvent(!1),this.stream.initHarkEvents())},v.prototype.setPermissionDialogTimer=function(p){var b=this;this.permissionDialogTimeout=setTimeout(function(){b.emitEvent("accessDialogOpened",[])},p)},v.prototype.clearPermissionDialogTimer=function(p,b){clearTimeout(this.permissionDialogTimeout),Date.now()-p>b&&this.emitEvent("accessDialogClosed",[])},v.prototype.replaceTrackInRtcRtpSender=function(p){return e(this,void 0,void 0,function(){var b,w;return n(this,function(_){switch(_.label){case 0:if(b=this.stream.getRTCPeerConnection().getSenders(),p.kind==="video"){if(w=b.find(function(R){return!!R.track&&R.track.kind==="video"}),!w)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else if(p.kind==="audio"){if(w=b.find(function(R){return!!R.track&&R.track.kind==="audio"}),!w)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else throw new Error("Unknown track kind "+p.kind);return[4,w.replaceTrack(p)];case 1:return _.sent(),[2]}})})},v}(o.StreamManager);return Ua.Publisher=m,Ua}var Fk={};globalThis.getScreenId=function(t,e,n){if(navigator.userAgent.indexOf("Edge")!==-1&&(navigator.msSaveOrOpenBlob||navigator.msSaveBlob)){e({video:!0});return}if(navigator.mozGetUserMedia){e(null,"firefox",{video:{mozMediaSource:t,mediaSource:t}});return}globalThis.addEventListener("message",r);function r(i){i.data&&(i.data.chromeMediaSourceId&&(i.data.chromeMediaSourceId==="PermissionDeniedError"?e("permission-denied"):e(null,i.data.chromeMediaSourceId,lS(null,i.data.chromeMediaSourceId,i.data.canRequestAudioTrack)),globalThis.removeEventListener("message",r)),i.data.chromeExtensionStatus&&(e(i.data.chromeExtensionStatus,null,lS(i.data.chromeExtensionStatus)),globalThis.removeEventListener("message",r)))}setTimeout(n?function(){hf(n)}:hf,100)};function lS(t,e,n){var r={audio:!1,video:{mandatory:{chromeMediaSource:t?"screen":"desktop",maxWidth:globalThis.screen.width>1920?globalThis.screen.width:1920,maxHeight:globalThis.screen.height>1080?globalThis.screen.height:1080},optional:[]}};return n&&(r.audio={mandatory:{chromeMediaSource:t?"screen":"desktop"},optional:[]}),e&&(r.video.mandatory.chromeMediaSourceId=e,r.audio&&r.audio.mandatory&&(r.audio.mandatory.chromeMediaSourceId=e)),r}function hf(t){if(!zt){Jy(function(){hf(t)});return}if(!zt.isLoaded){setTimeout(function(){hf(t)},100);return}t?t.forEach?zt.contentWindow.postMessage({captureCustomSourceId:t},"*"):zt.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):zt.contentWindow.postMessage({captureSourceId:!0},"*")}var zt;globalThis.getScreenConstraints=function(t){Jy(function(){getScreenId(function(e,n,r){r||(r={video:!0}),t(e,r.video)})})};function Jy(t){if(zt){t();return}zt=document.createElement("iframe"),zt.onload=function(){zt.isLoaded=!0,t()},zt.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",zt.style.display="none",(document.body||document.documentElement).appendChild(zt)}globalThis.getChromeExtensionStatus=function(t){if(navigator.mozGetUserMedia){t("installed-enabled");return}globalThis.addEventListener("message",e);function e(n){n.data&&n.data.chromeExtensionStatus&&(t(n.data.chromeExtensionStatus),globalThis.removeEventListener("message",e))}setTimeout(Ug,100)};function Ug(){if(!zt){Jy(Ug);return}if(!zt.isLoaded){setTimeout(Ug,100);return}zt.contentWindow.postMessage({getChromeExtensionStatus:!0},"*")}Fk.getScreenId=globalThis.getScreenId;var _a={},Ii="screen",Ni,_s;if(typeof window<"u"&&typeof navigator<"u"&&typeof navigator.userAgent<"u"){var Bk=typeof window.InstallTrigger<"u";window.opera||navigator.userAgent.indexOf(" OPR/")>=0,window.addEventListener("message",function(t){t.origin==window.location.origin&&g6(t.data)})}function g6(t){if(t=="PermissionDeniedError"){if(_s)return _s("PermissionDeniedError");throw new Error("PermissionDeniedError")}t=="rtcmulticonnection-extension-loaded"&&(Ii="desktop"),t.sourceId&&_s&&_s(Ni=t.sourceId,t.canRequestAudioTrack===!0)}function v6(t){if(t){if(Ii=="desktop")return t(!0);window.postMessage("are-you-there","*"),setTimeout(function(){Ii=="screen"?t(!1):t(!0)},2e3)}}function Vk(t){if(!t)throw'"callback" parameter is mandatory.';if(Ni)return t(Ni);_s=t,window.postMessage("get-sourceId","*")}function y6(t){if(!t)throw'"callback" parameter is mandatory.';if(Ni)return t(Ni);_s=t,window.postMessage("audio-plus-tab","*")}function b6(t,e){if(Bk)return e("not-chrome");arguments.length!=2&&(e=t,t="lfcgfepafnobdloecchnfaclibenjold");var n=document.createElement("img");n.src="chrome-extension://"+t+"/icon.png",n.onload=function(){Ii="screen",window.postMessage("are-you-there","*"),setTimeout(function(){Ii=="screen"?e("installed-disabled"):e("installed-enabled")},2e3)},n.onerror=function(){e("not-installed")}}function w6(t){Hk(t,!0)}function Hk(t,e){Ni="";var n={mozMediaSource:"window",mediaSource:"window"};if(Bk)return t(null,n);var r={mandatory:{chromeMediaSource:Ii,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};if(Ii=="desktop"&&!Ni){e?y6(function(i,o){r.mandatory.chromeMediaSourceId=i,o&&(r.canRequestAudioTrack=!0),t(i=="PermissionDeniedError"?i:null,r)}):Vk(function(i){r.mandatory.chromeMediaSourceId=i,t(i=="PermissionDeniedError"?i:null,r)});return}Ii=="desktop"&&(r.mandatory.chromeMediaSourceId=Ni),t(null,r)}_a.getScreenConstraints=Hk;_a.getScreenConstraintsWithAudio=w6;_a.isChromeExtensionAvailable=v6;_a.getChromeExtensionStatus=b6;_a.getSourceId=Vk;var Zy={exports:{}},Ms=typeof Reflect=="object"?Reflect:null,cS=Ms&&typeof Ms.apply=="function"?Ms.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},od;Ms&&typeof Ms.ownKeys=="function"?od=Ms.ownKeys:Object.getOwnPropertySymbols?od=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:od=function(e){return Object.getOwnPropertyNames(e)};function E6(t){console&&console.warn&&console.warn(t)}var Uk=Number.isNaN||function(e){return e!==e};function Pe(){Pe.init.call(this)}Zy.exports=Pe;Zy.exports.once=x6;Pe.EventEmitter=Pe;Pe.prototype._events=void 0;Pe.prototype._eventsCount=0;Pe.prototype._maxListeners=void 0;var uS=10;function wh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Pe,"defaultMaxListeners",{enumerable:!0,get:function(){return uS},set:function(t){if(typeof t!="number"||t<0||Uk(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");uS=t}});Pe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Uk(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Wk(t){return t._maxListeners===void 0?Pe.defaultMaxListeners:t._maxListeners}Pe.prototype.getMaxListeners=function(){return Wk(this)};Pe.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")cS(l,this,n);else for(var c=l.length,u=Qk(l,c),r=0;r<c;++r)cS(u[r],this,n);return!0};function $k(t,e,n,r){var i,o,s;if(wh(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=Wk(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,E6(a)}return t}Pe.prototype.addListener=function(e,n){return $k(this,e,n,!1)};Pe.prototype.on=Pe.prototype.addListener;Pe.prototype.prependListener=function(e,n){return $k(this,e,n,!0)};function S6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zk(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=S6.bind(r);return i.listener=n,r.wrapFn=i,i}Pe.prototype.once=function(e,n){return wh(n),this.on(e,zk(this,e,n)),this};Pe.prototype.prependOnceListener=function(e,n){return wh(n),this.prependListener(e,zk(this,e,n)),this};Pe.prototype.removeListener=function(e,n){var r,i,o,s,a;if(wh(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():C6(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Pe.prototype.off=Pe.prototype.removeListener;Pe.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function Yk(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?_6(i):Qk(i,i.length)}Pe.prototype.listeners=function(e){return Yk(this,e,!0)};Pe.prototype.rawListeners=function(e){return Yk(this,e,!1)};Pe.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):qk.call(t,e)};Pe.prototype.listenerCount=qk;function qk(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Pe.prototype.eventNames=function(){return this._eventsCount>0?od(this._events):[]};function Qk(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function C6(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function _6(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function x6(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}Gk(t,e,o,{once:!0}),e!=="error"&&D6(t,i,{once:!0})})}function D6(t,e,n){typeof t.on=="function"&&Gk(t,"error",e,n)}function Gk(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var k6=Zy.exports,Wg={exports:{}};typeof Object.create=="function"?Wg.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Wg.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Ce=Wg.exports,eb={},tb={};function R6(t,e){var n={jsonrpc:"2.0"};if(t.method)n.method=t.method,t.params&&(n.params=t.params),e!=null&&(n.id=e);else if(e!=null){if(t.error){if(t.result!==void 0)throw new TypeError("Both result and error are defined");n.error=t.error}else if(t.result!==void 0)n.result=t.result;else throw new TypeError("No result or error is defined");n.id=e}return JSON.stringify(n)}function O6(t){var e=t;(typeof t=="string"||t instanceof String)&&(e=JSON.parse(t));var n=e.jsonrpc;if(n!=="2.0")throw new TypeError("Invalid JsonRPC version '"+n+"': "+t);if(e.method==null){if(e.id==null)throw new TypeError("Invalid message: "+t);var r=e.result!==void 0,i=e.error!==void 0;if(r&&i)throw new TypeError("Both result and error are defined: "+t);if(!r&&!i)throw new TypeError("No result or error is defined: "+t);e.ack=e.id,delete e.id}return e}tb.pack=R6;tb.unpack=O6;var nb={};function T6(t){throw new TypeError("Not yet implemented")}function A6(t){throw new TypeError("Not yet implemented")}nb.pack=T6;nb.unpack=A6;var I6=tb,N6=nb;eb.JsonRPC=I6;eb.XmlRPC=N6;function Xk(){var t={};this.forEach=function(e){for(var n in t){var r=t[n];for(var i in r)e(r[i])}},this.get=function(e,n){var r=t[n];if(r!=null)return r[e]},this.remove=function(e,n){var r=t[n];if(r!=null){delete r[e];for(var i in r)return!1;delete t[n]}},this.set=function(e,n,r){if(e==null)return this.remove(n,r);var i=t[r];i==null&&(t[r]=i={}),i[n]=e}}Xk.prototype.pop=function(t,e){var n=this.get(t,e);if(n!=null)return this.remove(t,e),n};var P6=Xk,Qp={},Gp,dS;function Kk(){if(dS)return Gp;dS=1;var t=ft.OpenViduLogger,e=t.getInstance(),n=2e3,r=3e3,i=3;function o(s){var a=!1,l,c=s.uri,u=!1,d=new WebSocket(c);d.onopen=function(){e.debug("WebSocket connected to "+c),s.onconnected&&s.onconnected()},d.onerror=function(v){e.error("Could not connect to "+c+" (invoking onerror if defined)",v),s.onerror&&s.onerror(v)};var f=function(){d.readyState===i?a?e.debug("Connection closed by user"):s.ismasternodecrashed()?e.error("Master Node has crashed. Stopping reconnection process"):(e.debug("Connection closed unexpectedly. Reconnecting..."),h(n,1)):e.debug("Close callback from previous websocket. Ignoring it")};d.onclose=f;function h(v,p){if(e.debug("reconnect (attempt #"+p+", max="+v+")"),p===1){if(u){e.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");return}else u=!0;s.onreconnecting&&s.onreconnecting()}y(v,p)}function m(v){var p=new URLSearchParams(new URL(v).search);return p.has("reconnect")||(v=Array.from(p).length>0?v+"&reconnect=true":v+"?reconnect=true"),v}function y(v,p){e.debug("Reconnection attempt #"+p),d.close(4104,"Connection closed for reconnection"),c=m(c),d=new WebSocket(c),d.onopen=function(){e.debug("Reconnected to "+c+" after "+p+" attempts..."),u=!1,l(),s.onreconnected&&s.onreconnected(),d.onclose=f},d.onerror=function(b){e.warn("Reconnection error: ",b),p===v?s.ondisconnect&&s.ondisconnect():setTimeout(function(){h(v,p+1)},r)}}this.close=function(v,p){a=!0,d.close(v,p)},this.reconnectWs=function(){e.debug("reconnectWs"),h(n,1)},this.send=function(v){d.send(v)},this.addEventListener=function(v,p){l=function(){d.addEventListener(v,p)},l()},this.getReadyState=function(){return d.readyState}}return Gp=o,Gp}var Xp,fS;function M6(){if(fS)return Xp;fS=1;var t=Jk(),e=Kk(),n=ft.OpenViduLogger;Date.now=Date.now||function(){return+new Date};var r=5e3,i="RECONNECTING",o="CONNECTED",s="DISCONNECTED",a=n.getInstance();function l(c){var u=this,d=c.ws,f=-1,h=0,m=!0,y=!1,v,p=s,b=d.onreconnecting,w=d.onreconnected,_=d.onconnected,R=d.onerror;c.rpc.pull=function(S,k){k.reply(null,"push")},d.onreconnecting=function(){if(a.debug("--------- ONRECONNECTING -----------"),p===i){a.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it");return}j(),p=i,b&&b()},d.onreconnected=function(){if(a.debug("--------- ONRECONNECTED -----------"),p===o){a.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it");return}p=o,N(),w&&w()},d.onconnected=function(){if(a.debug("--------- ONCONNECTED -----------"),p===o){a.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it");return}p=o,m=!0,z(),_&&_()},d.onerror=function(S){a.debug("--------- ONERROR -----------"),p=s,j(),R&&R(S)};var M=new e(d);a.debug("Connecting websocket to URI: "+d.uri);var O={request_timeout:c.rpc.requestTimeout,ping_request_timeout:c.rpc.heartbeatRequestTimeout},E=new t(t.packers.JsonRPC,O,M,function(S){a.debug("Received request: "+JSON.stringify(S));try{var k=c.rpc[S.method];k===void 0?a.error("Method "+S.method+" not registered in client"):k(S.params,S)}catch(A){a.error("Exception processing request: "+JSON.stringify(S)),a.error(A)}});this.send=function(S,k,A){var D=Date.now();E.encode(S,k,function(C,x){if(C){try{a.error("ERROR:"+C.message+" in Request: method:"+S+" params:"+JSON.stringify(k)+" request:"+C.request),C.data&&a.error("ERROR DATA:"+JSON.stringify(C.data))}catch{}C.requestTime=D}A&&(x!=null&&x.value!=="pong"&&a.debug("Response: "+JSON.stringify(x)),A(C,x))})};function N(){a.debug("notReconnectIfNumLessThan = "+h+" (old="+f+")"),f=h}function H(){if(m){var S=null;(h==0||h==f)&&(S={interval:c.heartbeat||r}),h++,u.send("ping",S,function(k){return function(A,D){A&&(a.debug("Error in ping request #"+k+" ("+A.message+")"),k>f&&(m=!1,N(),a.debug("Server did not respond to ping message #"+k+". Reconnecting... "),M.reconnectWs()))}}(h))}else a.debug("Trying to send ping, but ping is not enabled")}function z(){y||(a.debug("Starting ping (if configured)"),y=!0,c.heartbeat!=null&&(v=setInterval(H,c.heartbeat),H()))}function j(){clearInterval(v),y=!1,m=!1,h=-1,E.cancel()}this.close=function(S,k){a.debug("Closing  with code: "+S+" because: "+k),v!=null&&(a.debug("Clearing ping interval"),clearInterval(v)),y=!1,m=!1,M.close(S,k)},this.reconnect=function(){M.reconnectWs()},this.resetPing=function(){m=!0,h=0,z()},this.getReadyState=function(){return M.getReadyState()}}return Xp=l,Xp}var hS;function L6(){if(hS)return Qp;hS=1;var t=M6();return Qp.JsonRpcClient=t,Qp}var Kp={},pS;function j6(){if(pS)return Kp;pS=1;var t=Kk();return Kp.WebSocketWithReconnection=t,Kp}var Jp,mS;function Jk(){if(mS)return Jp;mS=1;var t=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch{t=!0}Function.prototype.bind||(Function.prototype.bind=function(f){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var h=Array.prototype.slice.call(arguments,1),m=this,y=function(){},v=function(){return m.apply(this instanceof y&&f?this:f,h.concat(Array.prototype.slice.call(arguments)))};return y.prototype=this.prototype,v.prototype=new y,v});var e=k6.EventEmitter,n=Ce,r=eb,i=P6,o=5e3;function s(f){if(!f)return{};for(var h in f){var m=f[h];typeof m=="string"&&(f[h]={response:m})}return f}function a(f){if(f){if(f instanceof Function)return{send:f};if(f.send instanceof Function)return f;if(f.postMessage instanceof Function)return f.send=f.postMessage,f;if(f.write instanceof Function)return f.send=f.write,f;if(f.onmessage===void 0&&!(f.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function l(f,h){t?(this.method=f,this.params=h):(Object.defineProperty(this,"method",{value:f,enumerable:!0}),Object.defineProperty(this,"params",{value:h,enumerable:!0}))}function c(f,h,m,y){var v=this;if(!f)throw new SyntaxError("Packer is not defined");if(!f.pack||!f.unpack)throw new SyntaxError("Packer is invalid");var p=s(f.responseMethods);if(h instanceof Function){if(m!=null)throw new SyntaxError("There can't be parameters after onRequest");y=h,m=void 0,h=void 0}if(h&&h.send instanceof Function){if(m&&!(m instanceof Function))throw new SyntaxError("Only a function can be after transport");y=m,m=h,h=void 0}if(m instanceof Function){if(y!=null)throw new SyntaxError("There can't be parameters after onRequest");y=m,m=void 0}if(m&&m.send instanceof Function&&y&&!(y instanceof Function))throw new SyntaxError("Only a function can be after transport");h=h||{},e.call(this),y&&this.on("request",y),t?this.peerID=h.peerID:Object.defineProperty(this,"peerID",{value:h.peerID});var b=h.max_retries||0;function w(C){v.decode(C.data||C)}this.getTransport=function(){return m},this.setTransport=function(C){m&&(m.removeEventListener?m.removeEventListener("message",w):m.removeListener&&m.removeListener("data",w)),C&&(C.addEventListener?C.addEventListener("message",w):C.addListener&&C.addListener("data",w)),m=a(C)},t||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(m);var _=h.request_timeout||o,R=h.ping_request_timeout||_,M=h.response_timeout||o,O=h.duplicates_timeout||o,E=0,N=new i,H=new i,z=new i,j={};function S(C,x,T){var I={message:C,timeout:setTimeout(function(){H.remove(x,T)},M)};H.set(I,x,T)}function k(C,x){var T=setTimeout(function(){z.remove(C,x)},O);z.set(T,C,x)}function A(C,x,T,I,U){l.call(this,C,x),this.getTransport=function(){return U},this.setTransport=function(G){U=a(G)},t||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var $=H.get(T,I);U||v.getTransport()||(t?this.duplicated=!!$:Object.defineProperty(this,"duplicated",{value:!!$}));var re=p[C];this.pack=f.pack.bind(f,this,T),this.reply=function(G,ce,P){if(G instanceof Function||G&&G.send instanceof Function){if(ce!=null)throw new SyntaxError("There can't be parameters after callback");P=G,ce=null,G=void 0}else if(ce instanceof Function||ce&&ce.send instanceof Function){if(P!=null)throw new SyntaxError("There can't be parameters after callback");P=ce,ce=null}P=a(P),$&&clearTimeout($.timeout),I!=null&&(G&&(G.dest=I),ce&&(ce.dest=I));var fe;if(G||ce!=null){if(v.peerID!=null&&(G?G.from=v.peerID:ce.from=v.peerID),re)if(re.error==null&&G)fe={error:G};else{var oe=G?re.error:re.response;fe={method:oe,params:G||ce}}else fe={error:G,result:ce};fe=f.pack(fe,T)}else $?fe=$.message:fe=f.pack({result:null},T);return S(fe,T,I),P=P||this.getTransport()||v.getTransport(),P?P.send(fe):fe}}n(A,l);function D(C){var x=j[C];if(x){delete j[C];var T=N.pop(x.id,x.dest);T&&(clearTimeout(T.timeout),k(x.id,x.dest))}}this.cancel=function(C){if(C)return D(C);for(var C in j)D(C)},this.close=function(){var C=this.getTransport();C&&C.close&&C.close(4003,"Cancel request"),this.cancel(),z.forEach(clearTimeout),H.forEach(function(x){clearTimeout(x.timeout)})},this.encode=function(C,x,T,I,U){if(x instanceof Function){if(T!=null)throw new SyntaxError("There can't be parameters after callback");U=x,I=void 0,T=void 0,x=void 0}else if(T instanceof Function){if(I!=null)throw new SyntaxError("There can't be parameters after callback");U=T,I=void 0,T=void 0}else if(I instanceof Function){if(U!=null)throw new SyntaxError("There can't be parameters after callback");U=I,I=void 0}v.peerID!=null&&(x=x||{},x.from=v.peerID),T!=null&&(x=x||{},x.dest=T);var $={method:C,params:x};if(U){let Z=function(ie,_e){v.cancel($),U(ie,_e)},Bt=function(ie){var _e=C==="ping"?R:_;return ce.timeout=setTimeout(q,_e*Math.pow(2,G++)),j[$]={id:re,dest:T},N.set(ce,re,T),ie=ie||P||v.getTransport(),ie?ie.send($):$},ae=function(ie){ie=a(ie),console.warn(G+" retry for request message:",$);var _e=z.pop(re,T);return clearTimeout(_e),Bt(ie)},q=function(){if(G<b)return ae(I);var ie=new Error("Request has timed out");ie.request=$,ie.retry=ae,Z(ie)};var fe=Z,oe=Bt,at=ae,Xe=q,re=E++,G=0;$=f.pack($,re);var ce={message:$,callback:Z,responseMethods:p[C]||{}},P=a(I);return Bt(I)}return $=f.pack($),I=I||this.getTransport(),I?I.send($):$},this.decode=function(C,x){if(!C)throw new TypeError("Message is not defined");try{C=f.unpack(C)}catch(q){return console.debug(q,C)}var T=C.id,I=C.ack,U=C.method,$=C.params||{},re=$.from,G=$.dest;if(v.peerID!=null&&re==v.peerID)return;if(T==null&&I==null){var ce=new l(U,$);return v.emit("request",ce)?void 0:ce}function P(){if(x=a(x)||v.getTransport(),x){var q=H.get(T,re);if(q)return x.send(q.message)}var ie=T??I,_e=new A(U,$,ie,re,x);if(!v.emit("request",_e))return _e}function fe(q,ie,_e){q.callback(ie,_e)}function oe(q){console.warn("Response already processed",C),clearTimeout(q),k(I,re)}if(U){if(G==null||G==v.peerID){var ae=N.get(I,re);if(ae){var at=ae.responseMethods;return U==at.error?fe(ae,$):U==at.response?fe(ae,null,$):P()}var Xe=z.get(I,re);if(Xe)return oe(Xe)}return P()}var Z=C.error,Bt=C.result;if(!(Z&&Z.dest&&Z.dest!=v.peerID)&&!(Bt&&Bt.dest&&Bt.dest!=v.peerID)){var ae=N.get(I,re);if(!ae){var Xe=z.get(I,re);return Xe?oe(Xe):console.warn("No callback was defined for this message",C)}fe(ae,Z,Bt)}}}n(c,e),c.RpcNotification=l,Jp=c;var u=L6(),d=j6();return c.clients=u,c.clients.transports=d,c.packers=r,Jp}const F6="OpenVidu",B6={events:"3.3.0",freeice:"2.2.2",hark:"1.2.3",inherits:"2.0.4",jsnlog:"2.30.0",mime:"3.0.0",platform:"1.3.6",semver:"7.6.2",uuid:"9.0.1","wolfy87-eventemitter":"5.2.9"},V6="OpenVidu Browser",H6={"@types/node":"18.11.9","@types/platform":"1.3.4",browserify:"17.0.0",terser:"5.15.1",tsify:"5.0.4",tslint:"6.1.3",typedoc:"0.23.21",typescript:"4.9.3"},U6="Apache-2.0",W6="lib/index.js",$6="openvidu-browser",z6={type:"git",url:"git://github.com/OpenVidu/openvidu"},Y6={browserify:"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js",build:"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --target es5 --lib dom,es5,es2015.promise,scripthost && rm -rf ./ts4.4 && mkdir -p ./ts4.4/lib && cp -r ./lib ./ts4.4 && find ./ts4.4/lib -type f ! -iname '*.d.ts' -delete && ./config/replace_for_ts44.sh",docs:"./generate-docs.sh"},q6="lib/index.d.ts",Q6={"<4.4":{"*":["ts4.4/*"]}},G6="2.30.1",X6={author:F6,dependencies:B6,description:V6,devDependencies:H6,license:U6,main:W6,name:$6,repository:z6,scripts:Y6,types:q6,typesVersions:Q6,version:G6};var gS=J&&J.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},vS=J&&J.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(th,"__esModule",{value:!0});th.OpenVidu=void 0;var K6=wc,J6=Ky(),yS=bh(),Z6=Ca,as=qr,ve=Qo,Zp=Cc,e8=ft,t8=Qn,n8=Fk,bS=_a,r8=Yy,i8=qy,o8=Jk(),s8=X6,Me=e8.OpenViduLogger.getInstance(),me,a8=function(){function t(){var e=this;this.masterNodeHasCrashed=!1,this.publishers=[],this.secret="",this.recorder=!1,this.stt=!1,this.life=-1,this.advancedConfiguration={},this.webrtcStatsInterval=-1,this.sendBrowserLogs=r8.OpenViduLoggerConfiguration.disabled,this.isAtLeastPro=!1,this.isEnterprise=!1,this.ee=new i8,me=t8.PlatformUtils.getInstance(),this.libraryVersion=s8.version,Me.info("OpenVidu initialized"),Me.info("Platform detected: "+me.getDescription()),Me.info("openvidu-browser version: "+this.libraryVersion),(me.isMobileDevice()||me.isReactNative())&&this.onOrientationChanged(function(){e.publishers.forEach(function(n){n.stream.isLocalStreamPublished&&n.stream&&n.stream.hasVideo&&e.sendNewVideoDimensionsIfRequired(n,"deviceRotated",75,10)})})}return t.prototype.initSession=function(){return this.session=new yS.Session(this),this.session},t.prototype.initPublisher=function(e,n,r){var i;n&&typeof n!="function"?(i=n,i={audioSource:typeof i.audioSource<"u"?i.audioSource:void 0,frameRate:typeof MediaStreamTrack<"u"&&i.videoSource instanceof MediaStreamTrack?void 0:typeof i.frameRate<"u"?i.frameRate:void 0,insertMode:typeof i.insertMode<"u"?typeof i.insertMode=="string"?Zp.VideoInsertMode[i.insertMode]:i.insertMode:Zp.VideoInsertMode.APPEND,mirror:typeof i.mirror<"u"?i.mirror:!0,publishAudio:typeof i.publishAudio<"u"?i.publishAudio:!0,publishVideo:typeof i.publishVideo<"u"?i.publishVideo:!0,resolution:typeof MediaStreamTrack<"u"&&i.videoSource instanceof MediaStreamTrack?void 0:typeof i.resolution<"u"?i.resolution:"640x480",videoSource:typeof i.videoSource<"u"?i.videoSource:void 0,videoSimulcast:i.videoSimulcast,filter:i.filter}):i={insertMode:Zp.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var o=new J6.Publisher(e,i,this),s;return n&&typeof n=="function"?s=n:r&&(s=r),o.initialize().then(function(){s!==void 0&&s(void 0),o.emitEvent("accessAllowed",[])}).catch(function(a){s!==void 0&&s(a),o.emitEvent("accessDenied",[a])}),this.publishers.push(o),o},t.prototype.initPublisherAsync=function(e,n){var r=this;return new Promise(function(i,o){var s,a=function(l){return l?o(l):i(s)};n?s=r.initPublisher(e,n,a):s=r.initPublisher(e,a)})},t.prototype.initLocalRecorder=function(e){return new K6.LocalRecorder(e)},t.prototype.checkSystemRequirements=function(){return me.isIPhoneOrIPad()?me.isIOSWithSafari()||me.isChromeMobileBrowser()||me.isFirefoxMobileBrowser()||me.isOperaMobileBrowser()||me.isEdgeMobileBrowser()||me.isIonicIos():me.isChromeBrowser()||me.isChromeMobileBrowser()||me.isFirefoxBrowser()||me.isFirefoxMobileBrowser()||me.isOperaBrowser()||me.isOperaMobileBrowser()||me.isEdgeBrowser()||me.isEdgeMobileBrowser()||me.isSamsungBrowser()||me.isSafariBrowser()||me.isAndroidBrowser()||me.isElectron()||me.isNodeJs()||me.isMotorolaEdgeDevice()},t.prototype.checkScreenSharingCapabilities=function(){return me.canScreenShare()},t.prototype.getDevices=function(){return new Promise(function(e,n){navigator.mediaDevices.enumerateDevices().then(function(r){var i,o=[];if(me.isIonicAndroid()&&typeof cordova<"u"&&(!((i=cordova==null?void 0:cordova.plugins)===null||i===void 0)&&i.EnumerateDevicesPlugin))cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then(function(s){var a=[],l=[],c=[];return a=s.filter(function(u){return u.kind==="audioinput"}),l=r.filter(function(u){return u.kind==="videoinput"}),c=r.filter(function(u){return u.kind==="audioinput"}),l.forEach(function(u,d){if(u.label)o.push({kind:u.kind,deviceId:u.deviceId,label:u.label});else{var f="";d===0?f="Front Camera":d===1?f="Back Camera":f="Unknown Camera",o.push({kind:u.kind,deviceId:u.deviceId,label:f})}}),c.forEach(function(u,d){if(u.label)o.push({kind:u.kind,deviceId:u.deviceId,label:u.label});else{var f="";switch(d){case 0:f="Default";break;case 1:var h=a.filter(function(v){return v.label.includes("Built")})[0];f=h?h.label:"Built-in Microphone";break;case 2:var m=a.filter(function(v){return v.label.includes("Wired")})[0];m?f=m.label:f="Headset earpiece";break;case 3:var y=a.filter(function(v){return v.label.includes("Bluetooth")})[0];f=y?y.label:"Wireless";break;default:f="Unknown Microphone";break}o.push({kind:u.kind,deviceId:u.deviceId,label:f})}}),e(o)});else return r.forEach(function(s){(s.kind==="audioinput"||s.kind==="videoinput")&&o.push({kind:s.kind,deviceId:s.deviceId,label:s.label})}),e(o)}).catch(function(r){return Me.error("Error getting devices",r),n(r)})})},t.prototype.getUserMedia=function(e){var n,r;return gS(this,void 0,void 0,function(){var i,o,s,c,a,d,f,l,c,u,d,f,h,m=this;return vS(this,function(y){switch(y.label){case 0:i=function(v,p){return gS(m,void 0,void 0,function(){var b,w,_,R;return vS(this,function(M){switch(M.label){case 0:b=p.audio===void 0?!0:p.audio,w={audio:b,video:!1},M.label=1;case 1:return M.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(w)];case 2:return _=M.sent(),v.addTrack(_.getAudioTracks()[0]),[2,v];case 3:throw R=M.sent(),v.getAudioTracks().forEach(function(O){O.stop()}),v.getVideoTracks().forEach(function(O){O.stop()}),this.generateAudioDeviceError(R,w);case 4:return[2]}})})},y.label=1;case 1:return y.trys.push([1,20,,21]),[4,this.generateMediaConstraints(e)];case 2:return o=y.sent(),o.videoTrack&&o.audioTrack||o.audioTrack&&((n=o.constraints)===null||n===void 0?void 0:n.video)===!1||o.videoTrack&&((r=o.constraints)===null||r===void 0?void 0:r.audio)===!1?[2,this.addAlreadyProvidedTracks(o,new MediaStream)]:[3,3];case 3:if(o.videoTrack&&delete o.constraints.video,o.audioTrack&&delete o.constraints.audio,s=!1,typeof e.videoSource!="string")return[3,12];if(!(e.videoSource==="screen"||e.videoSource==="window"||me.isElectron()&&e.videoSource.startsWith("screen:")))return[3,12];if(s=!o.audioTrack&&e.audioSource!==null&&e.audioSource!==!1,!(navigator.mediaDevices.getDisplayMedia&&!me.isElectron()))return[3,11];y.label=4;case 4:return y.trys.push([4,9,,10]),[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:e.audioSource==="screen"})];case 5:return c=y.sent(),this.addAlreadyProvidedTracks(o,c),s?[4,i(c,o.constraints)]:[3,7];case 6:return[2,y.sent()];case 7:return[2,c];case 8:return[3,10];case 9:throw a=y.sent(),d=ve.OpenViduErrorName.SCREEN_CAPTURE_DENIED,f=a.toString(),new ve.OpenViduError(d,f);case 10:return[3,11];case 11:return[3,12];case 12:l=s?{video:o.constraints.video}:o.constraints,y.label=13;case 13:return y.trys.push([13,18,,19]),[4,navigator.mediaDevices.getUserMedia(l)];case 14:return c=y.sent(),this.addAlreadyProvidedTracks(o,c),s?[4,i(c,o.constraints)]:[3,16];case 15:return[2,y.sent()];case 16:return[2,c];case 17:return[3,19];case 18:throw u=y.sent(),d=void 0,f=u.toString(),e.videoSource!=="screen"?d=ve.OpenViduErrorName.DEVICE_ACCESS_DENIED:d=ve.OpenViduErrorName.SCREEN_CAPTURE_DENIED,new ve.OpenViduError(d,f);case 19:return[3,21];case 20:throw h=y.sent(),h;case 21:return[2]}})})},t.prototype.enableProdMode=function(){Me.enableProdMode()},t.prototype.setAdvancedConfiguration=function(e){this.advancedConfiguration=e},t.prototype.onOrientationChanged=function(e){globalThis.addEventListener("orientationchange",e)},t.prototype.sendNewVideoDimensionsIfRequired=function(e,n,r,i){var o=this,s,a,l,c,u=0,d=((a=(s=e==null?void 0:e.stream)===null||s===void 0?void 0:s.videoDimensions)===null||a===void 0?void 0:a.width)||0,f=((c=(l=e==null?void 0:e.stream)===null||l===void 0?void 0:l.videoDimensions)===null||c===void 0?void 0:c.height)||0,h=setInterval(function(){u++,u>i&&clearTimeout(h),e.getVideoDimensions().then(function(m){(m.width!==d||m.height!==f)&&(clearTimeout(h),o.sendVideoDimensionsChangedEvent(e,n,d,f,m.width,m.height))})},r)},t.prototype.sendVideoDimensionsChangedEvent=function(e,n,r,i,o,s){var a=this;e.stream.videoDimensions={width:o||0,height:s||0},this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(e.stream.videoDimensions),reason:n},function(l,c){l?Me.error("Error sending 'streamPropertyChanged' event",l):(a.session.emitEvent("streamPropertyChanged",[new as.StreamPropertyChangedEvent(a.session,e.stream,"videoDimensions",e.stream.videoDimensions,{width:r,height:i},n)]),e.emitEvent("streamPropertyChanged",[new as.StreamPropertyChangedEvent(e,e.stream,"videoDimensions",e.stream.videoDimensions,{width:r,height:i},n)]),a.session.sendVideoData(e))})},t.prototype.sendTrackChangedEvent=function(e,n,r,i){var o=this,s={label:n},a={label:r},l="trackReplaced";e.stream.isLocalStreamPublished?this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:i,newValue:a,reason:l},function(c,u){c?Me.error("Error sending 'streamPropertyChanged' event",c):(o.session.emitEvent("streamPropertyChanged",[new as.StreamPropertyChangedEvent(o.session,e.stream,i,a,s,l)]),e.emitEvent("streamPropertyChanged",[new as.StreamPropertyChangedEvent(e,e.stream,i,a,s,l)]))}):(this.session.emitEvent("streamPropertyChanged",[new as.StreamPropertyChangedEvent(this.session,e.stream,i,a,s,l)]),e.emitEvent("streamPropertyChanged",[new as.StreamPropertyChangedEvent(e,e.stream,i,a,s,l)]))},t.prototype.generateMediaConstraints=function(e){var n=this;return new Promise(function(r,i){var o={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},s=e.audioSource,a=e.videoSource;if((s===null||s===!1)&&(o.constraints.audio=!1),(a===null||a===!1)&&(o.constraints.video=!1),o.constraints.audio===!1&&o.constraints.video===!1)return i(new ve.OpenViduError(ve.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time"));if(typeof MediaStreamTrack<"u"&&s instanceof MediaStreamTrack&&(o.audioTrack=s),typeof MediaStreamTrack<"u"&&a instanceof MediaStreamTrack&&(o.videoTrack=a),s===void 0&&(o.constraints.audio=!0),a===void 0&&(o.constraints.video={width:{ideal:640},height:{ideal:480}}),a!==null&&a!==!1){if(e.resolution){var l=e.resolution.toLowerCase().split("x"),c=Number(l[0]),u=Number(l[1]);o.constraints.video={width:{ideal:c},height:{ideal:u}}}e.frameRate&&(o.constraints.video.frameRate={ideal:e.frameRate})}return n.configureDeviceIdOrScreensharing(o,e,r,i),r(o)})},t.prototype.startWs=function(e){var n={heartbeat:5e3,ws:{uri:this.wsUri+"?sessionId="+this.session.sessionId,onconnected:e,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this),ismasternodecrashed:this.isMasterNodeCrashed.bind(this)},rpc:{requestTimeout:1e4,heartbeatRequestTimeout:5e3,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),broadcastStarted:this.session.onBroadcastStarted.bind(this.session),broadcastStopped:this.session.onBroadcastStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),connectionPropertyChanged:this.session.onConnectionPropertyChanged.bind(this.session),networkQualityLevelChanged:this.session.onNetworkQualityLevelChangedChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session),masterNodeCrashedNotification:this.onMasterNodeCrashedNotification.bind(this),forciblyReconnectSubscriber:this.session.onForciblyReconnectSubscriber.bind(this.session),speechToTextMessage:this.session.onSpeechToTextMessage.bind(this.session),speechToTextDisconnected:this.session.onSpeechToTextDisconnected.bind(this.session)}};this.jsonRpcClient=new o8.clients.JsonRpcClient(n)},t.prototype.onMasterNodeCrashedNotification=function(e){console.error("Master Node has crashed"),this.masterNodeHasCrashed=!0,this.session.onLostConnection("nodeCrashed"),this.jsonRpcClient.close(4103,"Master Node has crashed")},t.prototype.getWsReadyState=function(){return this.jsonRpcClient.getReadyState()},t.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},t.prototype.sendRequest=function(e,n,r){var i;n&&n instanceof Function&&(r=n,n={}),Me.debug('Sending request: {method:"'+e+'", params: '+JSON.stringify(n)+"}"),(i=this.jsonRpcClient)===null||i===void 0||i.send(e,n,r)},t.prototype.getWsUri=function(){return this.wsUri},t.prototype.getSecret=function(){return this.secret},t.prototype.getRecorder=function(){return this.recorder},t.prototype.getStt=function(){return this.stt},t.prototype.generateAudioDeviceError=function(e,n){e.name==="Error"&&(e.name=e.constructor.name);var r,i;switch(e.name.toLowerCase()){case"notfounderror":return r=ve.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i=e.toString(),new ve.OpenViduError(r,i);case"notallowederror":return r=ve.OpenViduErrorName.DEVICE_ACCESS_DENIED,i=e.toString(),new ve.OpenViduError(r,i);case"overconstrainederror":return e.constraint.toLowerCase()==="deviceid"?(r=ve.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i="Audio input device with deviceId '"+n.audio.deviceId.exact+"' not found"):(r=ve.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,i="Audio input device doesn't support the value passed for constraint '"+e.constraint+"'"),new ve.OpenViduError(r,i);case"notreadableerror":return r=ve.OpenViduErrorName.DEVICE_ALREADY_IN_USE,i=e.toString(),new ve.OpenViduError(r,i);default:return new ve.OpenViduError(ve.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,e.toString())}},t.prototype.addAlreadyProvidedTracks=function(e,n,r){return e.videoTrack&&(n.addTrack(e.videoTrack),r&&(e.constraints.video?r.lastVideoTrackConstraints=e.constraints.video:r.lastVideoTrackConstraints=e.videoTrack.getConstraints())),e.audioTrack&&n.addTrack(e.audioTrack),n},t.prototype.configureDeviceIdOrScreensharing=function(e,n,r,i){var o=this,s=n.audioSource,a=n.videoSource;if(typeof s=="string"&&s!=="screen"&&(e.constraints.audio={deviceId:{exact:s}}),typeof a=="string")if(!this.isScreenShare(a))this.setVideoSource(e,a),s==="screen"&&(Me.warn('Parameter "audioSource" is set to "screen", which means rquesting audio from screen sharing source. But "videoSource" is not set to "screen". No audio source will be requested'),e.constraints.audio=!1);else if(this.checkScreenSharingCapabilities())if(me.isElectron()){var c="screen:",u=a,d=u.substr(u.indexOf(c)+c.length);return e.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:d}},r(e)}else if(this.advancedConfiguration.screenShareChromeExtension&&!(me.isFirefoxBrowser()||me.isFirefoxMobileBrowser())&&!navigator.mediaDevices.getDisplayMedia){bS.getScreenConstraints(function(h,m){if(h||m.mandatory&&m.mandatory.chromeMediaSource==="screen")if(h==="permission-denied"||h==="PermissionDeniedError"){var y=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return Me.error(y),i(y)}else{var v=o.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();bS.getChromeExtensionStatus(v,function(p){if(p==="installed-disabled"){var b=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return Me.error(b),i(b)}if(p==="not-installed"){var w=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,o.advancedConfiguration.screenShareChromeExtension);return Me.error(w),i(w)}});return}else return e.constraints.video=m,r(e)});return}else{if(navigator.mediaDevices.getDisplayMedia)return r(e);var f=me.isFirefoxBrowser()||me.isFirefoxMobileBrowser()?n.videoSource:void 0;n8.getScreenId(f,function(h,m,y){if(h)if(h==="not-installed"){var v=o.advancedConfiguration.screenShareChromeExtension?o.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold",p=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,v);return Me.error(p),i(p)}else if(h==="installed-disabled"){var p=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return Me.error(p),i(p)}else if(h==="permission-denied"){var p=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return Me.error(p),i(p)}else{var p=new ve.OpenViduError(ve.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share");return Me.error(p),Me.error(h),i(p)}else return e.constraints.video=y.video,r(e)});return}else{var l=new ve.OpenViduError(ve.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0), Edge (>= 80) or Electron. Detected client: "+me.getName()+" "+me.getVersion());return Me.error(l),i(l)}},t.prototype.setVideoSource=function(e,n){e.constraints.video||(e.constraints.video={}),e.constraints.video.deviceId={exact:n}},t.prototype.disconnectCallback=function(){Me.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},t.prototype.reconnectingCallback=function(){Me.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},t.prototype.reconnectWebsocketThroughRpcConnectMethod=function(e){var n=this;this.sendRequest("connect",{sessionId:e,reconnect:!0},function(r,i){if(r)if(n.isMasterNodeCrashed())Me.warn("Master Node has crashed!");else{Me.error(r);var o=function(a,l){Me.warn(l),n.session.onLostConnection(a),n.jsonRpcClient.close(4101,"Reconnection fault: "+l)},s=function(){n.life===-1?o("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):n.sendRequest("sessionStatus",{sessionId:n.session.sessionId},function(a,l){a!=null?console.error("Error checking session status",a):n.life===l.life?o("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):o("nodeCrashed","WS successfully reconnected to OpenVidu Server but your Master Node crashed")})};r.code===40007&&r.message==="reconnection error"&&console.error("Invalid RPC sessionId. Client network disconnection or Master Node crash"),s()}else n.jsonRpcClient.resetPing(),n.session.onRecoveredConnection()})},t.prototype.reconnectedCallback=function(){if(Me.warn("Websocket reconnected"),this.isRoomAvailable())if(this.session.connection)this.reconnectWebsocketThroughRpcConnectMethod(this.session.connection.rpcSessionId);else{Me.warn("There was no previous connection when running reconnection callback");var e=new Z6.SessionDisconnectedEvent(this.session,"networkDisconnect");this.session.ee.emitEvent("sessionDisconnected",[e]),e.callDefaultBehavior()}else alert("Connection error. Please reload page.")},t.prototype.isMasterNodeCrashed=function(){return this.masterNodeHasCrashed},t.prototype.isRoomAvailable=function(){return this.session!==void 0&&this.session instanceof yS.Session?!0:(Me.warn("Session instance not found"),!1)},t.prototype.isScreenShare=function(e){return e==="screen"||e==="window"||me.isElectron()&&e.startsWith("screen:")},t}();th.OpenVidu=a8;var Zk={};Object.defineProperty(Zk,"__esModule",{value:!0});(function(t){var e=J&&J.__createBinding||(Object.create?function(C,x,T,I){I===void 0&&(I=T);var U=Object.getOwnPropertyDescriptor(x,T);(!U||("get"in U?!x.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return x[T]}}),Object.defineProperty(C,I,U)}:function(C,x,T,I){I===void 0&&(I=T),C[I]=x[T]}),n=J&&J.__exportStar||function(C,x){for(var T in C)T!=="default"&&!Object.prototype.hasOwnProperty.call(x,T)&&e(x,C,T)};Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=t.ExceptionEventName=t.ExceptionEvent=t.SpeechToTextEvent=t.NetworkQualityLevelChangedEvent=t.FilterEvent=t.ConnectionPropertyChangedEvent=t.StreamPropertyChangedEvent=t.VideoElementEvent=t.StreamManagerEvent=t.StreamEvent=t.SignalEvent=t.SessionDisconnectedEvent=t.RecordingEvent=t.PublisherSpeakingEvent=t.ConnectionEvent=t.Event=t.VideoInsertMode=t.TypeOfVideo=t.OpenViduErrorName=t.OpenViduError=t.LocalRecorderState=t.Filter=t.LocalRecorder=t.Connection=t.Stream=t.StreamManager=t.Subscriber=t.Publisher=t.Session=t.OpenVidu=void 0;var r=$y,i=th;Object.defineProperty(t,"OpenVidu",{enumerable:!0,get:function(){return i.OpenVidu}});var o=bh();Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return o.Session}});var s=Ky();Object.defineProperty(t,"Publisher",{enumerable:!0,get:function(){return s.Publisher}});var a=ba;Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return a.Subscriber}});var l=wa;Object.defineProperty(t,"StreamManager",{enumerable:!0,get:function(){return l.StreamManager}});var c=va;Object.defineProperty(t,"Stream",{enumerable:!0,get:function(){return c.Stream}});var u=Ec;Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return u.Connection}});var d=wc;Object.defineProperty(t,"LocalRecorder",{enumerable:!0,get:function(){return d.LocalRecorder}});var f=ya;Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return f.Filter}});var h=zy;Object.defineProperty(t,"LocalRecorderState",{enumerable:!0,get:function(){return h.LocalRecorderState}});var m=Qo;Object.defineProperty(t,"OpenViduError",{enumerable:!0,get:function(){return m.OpenViduError}}),Object.defineProperty(t,"OpenViduErrorName",{enumerable:!0,get:function(){return m.OpenViduErrorName}});var y=yh;Object.defineProperty(t,"TypeOfVideo",{enumerable:!0,get:function(){return y.TypeOfVideo}});var v=Cc;Object.defineProperty(t,"VideoInsertMode",{enumerable:!0,get:function(){return v.VideoInsertMode}});var p=bt;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return p.Event}});var b=Dc;Object.defineProperty(t,"ConnectionEvent",{enumerable:!0,get:function(){return b.ConnectionEvent}});var w=xc;Object.defineProperty(t,"PublisherSpeakingEvent",{enumerable:!0,get:function(){return w.PublisherSpeakingEvent}});var _=Rc;Object.defineProperty(t,"RecordingEvent",{enumerable:!0,get:function(){return _.RecordingEvent}});var R=Ca;Object.defineProperty(t,"SessionDisconnectedEvent",{enumerable:!0,get:function(){return R.SessionDisconnectedEvent}});var M=Oc;Object.defineProperty(t,"SignalEvent",{enumerable:!0,get:function(){return M.SignalEvent}});var O=Xy();Object.defineProperty(t,"StreamEvent",{enumerable:!0,get:function(){return O.StreamEvent}});var E=Sa;Object.defineProperty(t,"StreamManagerEvent",{enumerable:!0,get:function(){return E.StreamManagerEvent}});var N=Sc;Object.defineProperty(t,"VideoElementEvent",{enumerable:!0,get:function(){return N.VideoElementEvent}});var H=qr;Object.defineProperty(t,"StreamPropertyChangedEvent",{enumerable:!0,get:function(){return H.StreamPropertyChangedEvent}});var z=Ac;Object.defineProperty(t,"ConnectionPropertyChangedEvent",{enumerable:!0,get:function(){return z.ConnectionPropertyChangedEvent}});var j=kc;Object.defineProperty(t,"FilterEvent",{enumerable:!0,get:function(){return j.FilterEvent}});var S=Ic;Object.defineProperty(t,"NetworkQualityLevelChangedEvent",{enumerable:!0,get:function(){return S.NetworkQualityLevelChangedEvent}});var k=Tc;Object.defineProperty(t,"SpeechToTextEvent",{enumerable:!0,get:function(){return k.SpeechToTextEvent}});var A=Go;Object.defineProperty(t,"ExceptionEvent",{enumerable:!0,get:function(){return A.ExceptionEvent}}),Object.defineProperty(t,"ExceptionEventName",{enumerable:!0,get:function(){return A.ExceptionEventName}});var D=Ea;Object.defineProperty(t,"EventDispatcher",{enumerable:!0,get:function(){return D.EventDispatcher}}),n(Zk,t),r.JL.setOptions({enabled:!1})})(_k);const Eh=KP((t,e)=>({session:null,OV:null,subscribers:[],publisher:null,isVideoEnabled:!1,isAudioEnabled:!1,sessionId:"",userName:"",isChatting:!1,setIsChatting:n=>t(()=>({isChatting:n})),joinSession:async(n,r)=>{const i=new _k.OpenVidu;t({OV:i});const o=i.initSession();t({session:o}),o.on("streamDestroyed",s=>{const a=e().subscribers.filter(l=>l.subscriber.stream.streamId!==s.stream.streamId);t({subscribers:a})}),o.on("streamCreated",s=>{const a=o.subscribe(s.stream,""),l=JSON.parse(s.stream.connection.data.split("%/%")[0]).clientData;t(c=>({subscribers:[...c.subscribers,{subscriber:a,name:l}]}))});try{const s=await l8(n);await o.connect(s,{clientData:r});const a=i.initPublisher(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:e().isAudioEnabled,publishVideo:e().isVideoEnabled,mirror:!1});o.publish(a),t({publisher:{publisher:a,name:r}})}catch(s){console.error("Failed to join the session:",s)}},leaveSession:()=>{const{session:n}=e();n&&n.disconnect(),t({OV:null,session:null,subscribers:[],publisher:null,isVideoEnabled:!1,isAudioEnabled:!1})},toggleVideo:()=>{t(n=>{if(n.publisher){const r=!n.isVideoEnabled;return n.publisher.publisher.publishVideo(r),{isVideoEnabled:r}}return n})},toggleAudio:()=>{t(n=>{if(n.publisher){const r=!n.isAudioEnabled;return n.publisher.publisher.publishAudio(r),{isAudioEnabled:r}}return n})},setUserName:n=>t(()=>({userName:n}))}));async function l8(t){try{console.log(`familyId: ${t}`);const e=await c8(t);return console.log(`token: ${e}`),e}catch(e){throw console.error("Failed to get token:",e),new Error("Failed to get token.")}}const c8=t=>new Promise((e,n)=>{So.post(`/webrtc/${t}`).then(r=>{console.log("API Response:",r.data),r.data&&r.data.result?e(r.data.result):n(new Error("Invalid API response format"))}).catch(r=>{console.error("API Error:",r),n(r)})}),u8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIoSURBVHgB7VfLbcJAEB0bC3Gkg5AOoANSQUgFgQMgbqECSAdcEOIjQSpIUkGgAugA0gFHxDfvOV4wDhBQFluR/CSLYXfW+3ZmdvdZJMQ/g+Ft6Ha78dlslhENiEQio0KhMLpkzJZQo9FI4AXdzWaTFr2Y4CkXi8W3c5xtQvV6PWlZ1gfMuFwJpmlW8/n8829+BiMDZ5JJsGG9Xg/wv4bfi0J9AAk8WbzrUTXgnXelUqnvdQSHNLJTMQyjb2FARnZknjGgKnowwdPHZD1nwaypCtuUA+t1Pp+z7QmlIiwXE3/UCiYayWzBiGChL7Q5IUnQbjabGZAZk4zbn4SSNBguuRIQoW1Br1ar+1arxYi9yq5mp25CyvFTrgREaOqap+fayWwvo//9ByG/wc2DJ4XjoOZut8R/MCrcPLVDnb4TQlTKINM71h9Yyo7Bd0LYcdOT/eIz3DvuEMKUAelTnUHUUIUnNS/1g/0SAOxL1DSH7Xa7IkET4gntmHHYVVyyY6iAGwmKEFAFkZx8yxMi4VapJGRvQzdL3UB69pQoT2qKNSVL9nwhO2xlCJYZpVV0A3PcKzsWi40cUtRfWU+0JibkwDanjnrTik6n84jFZmmzfnK53N7ByGhFo9EUiS2XywfDkZFDcWQsMEL6aovF4k/6iGliZBQZh9AtI3NqnP3V4RX61wAjcOqWV7B3GVkfKzINRAZIReocMsSxL9ekaAAL2FszIUKECBpfzQgR/0W2ZIYAAAAASUVORK5CYII=",d8=()=>{const{isVideoEnabled:t,toggleVideo:e}=Eh();return g.jsx("button",{onClick:e,className:"flex justify-center items-center w-[60px] h-[60px] bg-white rounded-full shadow",children:g.jsx("img",{src:u8,alt:t?"on":"off",style:{filter:t?"invert(27%) sepia(92%) saturate(752%) hue-rotate(110deg) brightness(88%) contrast(89%)":"none"}})})},f8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAYAAABznEEcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALKSURBVHgB7ZlNjtowFMcfULHmBk1P0LlBMydoe4JJFoAQi4ETTOYEna4QsAi9QXuD9Ab0BM0RWCLx1f9L7chFE2rHHk00458UxQRj+5/3nj8eRB6P58XRIsekadrb7/e3p9MpxHWFRz1cm1arteYL330djUY5OcSpiMViwYNP6O/AK2m320m/378nRzgTAQEpBES69WGV1WAwiMkBbXLAcrm8MxHAcP35fP6FHGBtidlsFsA9flNNjsfjNWIkIwusLdHpdO7IArjVJ7LEWoSYgWoDER/JEhcxYSUCBGSJk8B+bryIpuBFNIU3uhWxqIW4heJjZrtAuexDWwQ3jpW5WNiwyhadkHtq9eFjoil4EU1BWwQ2ehtZxqatR09A3Xa1RaCDjfIxUMo52bGWBcxMb5XyWrcBbRE4N5SNQtAHWcZU+I0s4OSBLKvbejzPddvQFoHzMHcmrdETCxOzUp4bczgcioQBzugsIBCPc9GfFkaBjTdVvnVY5obvIv1SK3MBK94r6Ztb+RxWyMgAUxHflXLE52suD4fDBx4QGcBuCAEJl7kdNdEA6xi5qJEI3suobwnWSJXvEtym9P9AZ9ebon70WDsQ99N0X2a8Tux2u6ksc5ZPTbsIi1zjioVYGSsbHhxbq9vtvuN68jci3RMqXURkSK2UDQY+wa0cfN2MnngBE/lZxEhChtTOO8GPVxj8TdkQpkr48medPCvHALuQagERIxHVwCp5di6kaBDpSQzuB9wmi+O4nHo50bzdbq9Qn2ehf3JNNgKKPskSCEnkGeARcqUcVNSZqjFSBycJZXYPWODBJBEmAn0yHo+1F7UqnKb2hRgO1BD39+ffw81+ibXG6fHW+Z8sKph9TrIMl3myvvyhqCl4EU3ByT9FVLHfUdePC7vcle2/qSbJsyqCC4tdSVUdiMvI8oj7unKxF8hND0TnvyfPC+EPFP85i5OEpvcAAAAASUVORK5CYII=",h8=()=>{const{isAudioEnabled:t,toggleAudio:e}=Eh();return g.jsx("button",{onClick:e,className:"flex justify-center items-center w-[60px] h-[60px] bg-white rounded-full shadow",children:g.jsx("img",{src:f8,alt:t?"on":"off",style:{filter:t?"invert(27%) sepia(92%) saturate(752%) hue-rotate(110deg) brightness(88%) contrast(89%)":"none"}})})},wS=4,eR=({isChattingRoom:t})=>{const[e,n]=L.useState(0),{isChatting:r,setIsChatting:i,leaveSession:o}=Eh(),s=tt(),a=()=>{i(!r),r?(o(),s("/chat")):s("./call")};return L.useEffect(()=>{i(!1)},[]),L.useEffect(()=>{n(wS)},[wS]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"flex h-full flex-col w-1/4 p-4 border-solid border-l-2 border-l-[#999999]",children:[g.jsxs("div",{className:"flex items-start flex-col flex-grow overflow-y-auto mb-4",children:[g.jsxs("h2",{className:"text-xl mb-4",children:["참여가족 ",`(${e})`]}),g.jsx("span",{children:"아빠"}),g.jsx("span",{children:"엄마"}),g.jsx("span",{children:"나"})]}),t?g.jsxs("div",{className:"flex-none m-2",children:[g.jsx("div",{className:"flex justify-center mb-2",children:g.jsxs("button",{onClick:a,className:`common-btn ${r?"red-btn":"green-btn"}`,children:[g.jsx("img",{src:r?l5:a5,alt:"call-icon"}),r?"연결끊기":"연결하기"]})}),g.jsxs("div",{className:"flex justify-evenly",children:[g.jsx(d8,{}),g.jsx(h8,{})]})]}):null]})})},p8=()=>{const[t,e]=L.useState(!1),n=()=>{e(r=>!r)};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"feature-box flex h-full",children:[g.jsxs("div",{className:"flex flex-col w-3/4 justify-center items-center",children:[g.jsxs("div",{className:"flex flex-row",children:[g.jsx("span",{children:"가족 퀴즈 준비"}),g.jsx("img",{src:"",alt:"설명"})]}),g.jsxs("div",{className:"flex flex-row",children:[g.jsx("span",{children:"1인 출제 문제 개수 "}),g.jsxs("select",{name:"quizCnt",id:"num",children:[g.jsx("option",{value:"1",children:"1"}),g.jsx("option",{value:"2",children:"2"}),g.jsx("option",{value:"3",children:"3"}),g.jsx("option",{value:"4",children:"4"}),g.jsx("option",{value:"5",children:"5"})]})]}),g.jsx("div",{className:"w-[499px] h-[249px] bg-[#d9d9d9] rounded-[10px]"}),g.jsx("div",{className:"flex flex-row",children:t?g.jsx("button",{onClick:n,className:"rounded-md gray-btn game-btn-common common-btn",children:"준비 취소"}):g.jsxs(g.Fragment,{children:[g.jsx(cf,{name:"돌아가기",path:"../"}),g.jsx("button",{onClick:n,className:"rounded-md game-btn-quiz game-btn-common common-btn",children:"준비 완료!"})]})})]}),g.jsx(eR,{isChattingRoom:!1})]})})},m8=()=>g.jsx(g.Fragment,{children:g.jsxs("div",{className:"feature-box flex justify-center flex-col",children:[g.jsx("div",{className:"flex justify-center",children:g.jsxs("h1",{children:["문제 ",1]})}),g.jsx("div",{className:"flex justify-center",children:g.jsxs("h3",{children:["이삼성","이 가장 좋아하는 과일은?"]})}),g.jsxs("div",{className:"flex flex-row justify-evenly",children:[g.jsx("button",{children:"1. 딸기"}),g.jsx("button",{children:"2. 오렌지"}),g.jsx("button",{children:"3. 포도"})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"flex justify-center items-center w-[106px] h-[106px] rounded-full border-solid border-8 border-[#36d5f1] text-[#36d5f1]",children:20})})]})}),g8=()=>g.jsx(g.Fragment,{children:g.jsxs("div",{className:"feature-box flex flex-col justify-center",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("h1",{children:"퀴즈 결과"})}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-[499px] h-[249px] bg-[#d9d9d9] rounded-[10px]"})}),g.jsxs("div",{className:"flex flex-row justify-around",children:[g.jsx(cf,{name:"결과 기록",path:"../history"}),g.jsx(cf,{name:"메인으로",path:"../../"})]})]})}),v8=()=>{const{ukidsURL:t,chatRoomId:e}=Yi(),[n,r]=L.useState(0),[i,o]=L.useState([]);return L.useEffect(()=>{$e.get(`${t}/message/${e}`).then(s=>{const a=s.data;o(a.filter(l=>!l.isDelete))}).catch(s=>{console.error(s)})},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"feature-box",children:[g.jsx("div",{children:g.jsx("h1",{children:"질문목록"})}),g.jsx("div",{children:g.jsxs("table",{children:[g.jsxs("tr",{children:[g.jsx("th",{children:"번호"}),g.jsx("th",{children:"질문"}),g.jsx("th",{children:"답변"})]}),i.map(s=>(r(a=>a+1),g.jsxs("tr",{children:[g.jsx("td",{children:n}),g.jsx("td",{children:s.question}),g.jsx("td",{children:s.answer?s.answer:"답변없음"})]})))]})}),g.jsx("div",{children:g.jsx(cf,{name:"퀴즈 더 내러가기",path:"../question"})})]})})},y8=()=>g.jsx(g.Fragment,{children:g.jsx("div",{className:"feature-box",children:"결과 기록"})}),b8=()=>{const[t,e]=L.useState(""),n=()=>{e("")};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"feature-box",children:[g.jsx("div",{children:g.jsx("h1",{children:"질문목록"})}),g.jsx("div",{children:g.jsx("table",{})}),g.jsxs("div",{children:[g.jsxs("form",{action:"",method:"post",children:[g.jsx("label",{htmlFor:"question",children:"질문"}),g.jsx("input",{type:"text",value:t,name:"question",id:"question"})]}),g.jsx("button",{className:"",onClick:n,children:"초기화"})]})]})})},w8=()=>g.jsx(g.Fragment,{children:g.jsxs(lc,{children:[g.jsx(he,{path:"",element:g.jsx(s5,{})}),g.jsx(he,{path:"ready",element:g.jsx(p8,{})}),g.jsx(he,{path:"start",element:g.jsx(m8,{})}),g.jsx(he,{path:"result",element:g.jsx(g8,{})}),g.jsx(he,{path:"qna",element:g.jsx(v8,{})}),g.jsx(he,{path:"qustion",element:g.jsx(b8,{})}),g.jsx(he,{path:"history",element:g.jsx(y8,{})})]})}),E8=()=>{const t=tt(),e=()=>{t("./ready")},n=()=>{t("./history")};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"flex justify-evenly items-center w-full",children:[g.jsx("button",{className:"callmyname-select-box",onClick:e,children:"게임시작"}),g.jsx("button",{className:"callmyname-select-box",onClick:n,children:"결과기록"})]})})},S8=()=>g.jsx(g.Fragment,{children:g.jsx("div",{children:"콜마이네임준비..."})}),C8=()=>g.jsx(g.Fragment,{children:g.jsx("div",{children:"콜마이네임시작"})}),_8=()=>g.jsx(g.Fragment,{children:g.jsx("div",{children:"게임 결과"})}),x8=()=>g.jsx(g.Fragment,{children:g.jsx("div",{children:"콜마이네임 기록"})}),D8=()=>g.jsx(g.Fragment,{children:g.jsxs(lc,{children:[g.jsx(he,{path:"",element:g.jsx(E8,{})}),g.jsx(he,{path:"ready",element:g.jsx(S8,{})}),g.jsx(he,{path:"start",element:g.jsx(C8,{})}),g.jsx(he,{path:"result",element:g.jsx(_8,{})}),g.jsx(he,{path:"history",element:g.jsx(x8,{})})]})}),k8=({publisher:t,subscribers:e})=>g.jsxs("div",{className:"session-container",children:[g.jsx("div",{className:`video-container ${e.length===1?"single-subscriber":"multiple-subscribers"}`,children:e.map((n,r)=>g.jsxs("div",{className:"stream-container",children:[g.jsx("video",{autoPlay:!0,ref:i=>{i&&n.subscriber.addVideoElement(i)}}),g.jsx("div",{className:"name-tag",children:n.name})]},r))}),t&&g.jsxs("div",{id:"publisher",className:"publisher-container",children:[g.jsx("video",{autoPlay:!0,ref:n=>{n&&t.publisher.addVideoElement(n)}}),g.jsx("div",{className:"name-tag",children:t.name})]})]});function R8(){const{subscribers:t,publisher:e,userName:n,leaveSession:r,joinSession:i,setUserName:o}=Eh(),s=5,a=pg(localStorage.getItem("token")).name;return console.log("유저이름: "+a),L.useEffect(()=>(window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}),[r]),L.useEffect(()=>{o(a),(async()=>{try{await i(s,n),console.log("Successfully joined the session.")}catch(c){console.error("Error joining the session:",c)}})()},[]),g.jsx("div",{className:"w-3/4",children:g.jsx(k8,{publisher:e,subscribers:t})})}const tl={LF:`
`,NULL:"\0"};class oi{constructor(e){const{command:n,headers:r,body:i,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=e;this.command=n,this.headers=Object.assign({},r||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(e,n){const r={},i=o=>o.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const s=i(o[0]);let a=i(o[1]);n&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(a=oi.hdrValueUnEscape(a)),r[s]=a}return new oi({command:e.command,headers:r,binaryBody:e.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?oi.toUnit8Array(e,this._binaryBody).buffer:e+this._body+tl.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${n}:${oi.hdrValueEscape(`${r}`)}`):e.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(tl.LF)+tl.LF+tl.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,n){const r=new TextEncoder().encode(e),i=new Uint8Array([0]),o=new Uint8Array(r.length+n.length+i.length);return o.set(r),o.set(n,r.length),o.set(i,r.length+n.length),o}static marshall(e){return new oi(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const ES=0,Ou=10,Tu=13,O8=58;class T8{constructor(e,n){this.onFrame=e,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,n=!1){let r;if(typeof e=="string"?r=this._encoder.encode(e):r=new Uint8Array(e),n&&r[r.length-1]!==0){const i=new Uint8Array(r.length+1);i.set(r,0),i[r.length]=0,r=i}for(let i=0;i<r.length;i++){const o=r[i];this._onByte(o)}}_collectFrame(e){if(e!==ES&&e!==Tu){if(e===Ou){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==Tu){if(e===Ou){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==Tu){if(e===Ou){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===O8){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==Tu){if(e===Ou){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(n=>n[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===ES){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var kr;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED"})(kr=kr||(kr={}));var wn;(function(t){t[t.ACTIVE=0]="ACTIVE",t[t.DEACTIVATING=1]="DEACTIVATING",t[t.INACTIVE=2]="INACTIVE"})(wn=wn||(wn={}));class Yt{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Yt.V1_0="1.0";Yt.V1_1="1.1";Yt.V1_2="1.2";Yt.default=new Yt([Yt.V1_2,Yt.V1_1,Yt.V1_0]);function A8(t,e){t.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,i=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=new Date().getTime()-r.getTime();e(`Discarded socket (#${i})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),o==null||o.call(t,{code:4001,reason:`Quick discarding socket (#${i}) without waiting for the shutdown sequence.`,wasClean:!1})}}class I8{constructor(e,n,r){this._client=e,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:i=>{this.debug(`connected to server ${i.headers.server}`),this._connected=!0,this._connectedVersion=i.headers.version,this._connectedVersion===Yt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(i.headers),this.onConnect(i)},MESSAGE:i=>{const o=i.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=i,l=this,c=this._connectedVersion===Yt.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,o,u),a.nack=(u={})=>l.nack(c,o,u),s(a)},RECEIPT:i=>{const o=this._receiptWatchers[i.headers["receipt-id"]];o?(o(i),delete this._receiptWatchers[i.headers["receipt-id"]]):this.onUnhandledReceipt(i)},ERROR:i=>{this.onStompError(i)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const e=new T8(n=>{const r=oi.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}e.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(e){if(e.version!==Yt.V1_1&&e.version!==Yt.V1_2||!e["heart-beat"])return;const[n,r]=e["heart-beat"].split(",").map(i=>parseInt(i,10));if(this.heartbeatOutgoing!==0&&r!==0){const i=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${i}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===kr.OPEN&&(this._webSocket.send(tl.LF),this.debug(">>> PING"))},i)}if(this.heartbeatIncoming!==0&&n!==0){const i=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${i}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>i*2&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},i)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===kr.CONNECTING||this._webSocket.readyState===kr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&A8(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:n,headers:r,body:i,binaryBody:o,skipContentLengthHeader:s}=e,a=new oi({command:n,headers:r,body:i,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let l=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let c=l;for(;c.length>0;){const u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===kr.CONNECTING||this._webSocket.readyState===kr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:n,headers:r,body:i,binaryBody:o,skipContentLengthHeader:s}=e,a=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:a,body:i,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(e,n){this._receiptWatchers[e]=n}subscribe(e,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=e,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const i=this;return{id:r.id,unsubscribe(o){return i.unsubscribe(r.id,o)}}}unsubscribe(e,n={}){n=Object.assign({},n),delete this._subscriptions[e],n.id=e,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(e){const n=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,n,r={}){r=Object.assign({},r),this._connectedVersion===Yt.V1_2?r.id=e:r["message-id"]=e,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(e,n,r={}){return r=Object.assign({},r),this._connectedVersion===Yt.V1_2?r.id=e:r["message-id"]=e,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class N8{constructor(e={}){this.stompVersions=Yt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=wn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===wn.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(wn.ACTIVE),this._connect()};this.state===wn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new I8(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===wn.DEACTIVATING&&this._changeState(wn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}async deactivate(e={}){var o;const n=e.force||!1,r=this.active;let i;if(this.state===wn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(wn.DEACTIVATING),this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==kr.CLOSED){const s=this._stompHandler.onWebSocketClose;i=new Promise((a,l)=>{this._stompHandler.onWebSocketClose=c=>{s(c),a()}})}else return this._changeState(wn.INACTIVE),Promise.resolve();return n?(o=this._stompHandler)==null||o.discardWebsocket():r&&this._disposeStompHandler(),i}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,n){this._checkConnection(),this._stompHandler.watchForReceipt(e,n)}subscribe(e,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(e,n,r)}unsubscribe(e,n={}){this._checkConnection(),this._stompHandler.unsubscribe(e,n)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,n,r={}){this._checkConnection(),this._stompHandler.ack(e,n,r)}nack(e,n,r={}){this._checkConnection(),this._stompHandler.nack(e,n,r)}}const P8=({message:t,isSender:e})=>{const n=e?"bg-[#fceecf]":"bg-[#cbeef4]";return g.jsx(g.Fragment,{children:g.jsx("div",{className:`flex justify-center items-center w-[371px] h-[94px] rounded-[5px] mb-4 ${n}`,children:t})})};var tR={exports:{}},$g={};window.crypto&&window.crypto.getRandomValues?$g.randomBytes=function(t){var e=new Uint8Array(t);return window.crypto.getRandomValues(e),e}:$g.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(Math.random()*256);return e};var M8=$g,SS="abcdefghijklmnopqrstuvwxyz012345",xa={string:function(t){for(var e=SS.length,n=M8.randomBytes(t),r=[],i=0;i<t;i++)r.push(SS.substr(n[i]%e,1));return r.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,n=new Array(e+1).join("0");return(n+this.number(t)).slice(-e)}};(function(t){var e=xa,n={},r=!1,i=window.chrome&&window.chrome.app&&window.chrome.app.runtime;t.exports={attachEvent:function(s,a){typeof window.addEventListener<"u"?window.addEventListener(s,a,!1):window.document&&window.attachEvent&&(window.document.attachEvent("on"+s,a),window.attachEvent("on"+s,a))},detachEvent:function(s,a){typeof window.addEventListener<"u"?window.removeEventListener(s,a,!1):window.document&&window.detachEvent&&(window.document.detachEvent("on"+s,a),window.detachEvent("on"+s,a))},unloadAdd:function(s){if(i)return null;var a=e.string(8);return n[a]=s,r&&setTimeout(this.triggerUnloadCallbacks,0),a},unloadDel:function(s){s in n&&delete n[s]},triggerUnloadCallbacks:function(){for(var s in n)n[s](),delete n[s]}};var o=function(){r||(r=!0,t.exports.triggerUnloadCallbacks())};i||t.exports.attachEvent("unload",o)})(tR);var Ki=tR.exports,L8=function(e,n){if(n=n.split(":")[0],e=+e,!e)return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},rb={},j8=Object.prototype.hasOwnProperty,F8;function CS(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function _S(t){try{return encodeURIComponent(t)}catch{return null}}function B8(t){for(var e=/([^=?#&]+)=?([^&]*)/g,n={},r;r=e.exec(t);){var i=CS(r[1]),o=CS(r[2]);i===null||o===null||i in n||(n[i]=o)}return n}function V8(t,e){e=e||"";var n=[],r,i;typeof e!="string"&&(e="?");for(i in t)if(j8.call(t,i)){if(r=t[i],!r&&(r===null||r===F8||isNaN(r))&&(r=""),i=_S(i),r=_S(r),i===null||r===null)continue;n.push(i+"="+r)}return n.length?e+n.join("&"):""}rb.stringify=V8;rb.parse=B8;var nR=L8,Sh=rb,H8=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,rR=/[\n\r\t]/g,U8=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,iR=/:\d+$/,W8=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,$8=/^[a-zA-Z]:/;function ib(t){return(t||"").toString().replace(H8,"")}var zg=[["#","hash"],["?","query"],function(e,n){return gr(n.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],xS={hash:1,query:1};function oR(t){var e;typeof window<"u"||typeof window<"u"?e=window:typeof self<"u"?e=self:e={};var n=e.location||{};t=t||n;var r={},i=typeof t,o;if(t.protocol==="blob:")r=new wr(unescape(t.pathname),{});else if(i==="string"){r=new wr(t,{});for(o in xS)delete r[o]}else if(i==="object"){for(o in t)o in xS||(r[o]=t[o]);r.slashes===void 0&&(r.slashes=U8.test(t.href))}return r}function gr(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function sR(t,e){t=ib(t),t=t.replace(rR,""),e=e||{};var n=W8.exec(t),r=n[1]?n[1].toLowerCase():"",i=!!n[2],o=!!n[3],s=0,a;return i?o?(a=n[2]+n[3]+n[4],s=n[2].length+n[3].length):(a=n[2]+n[4],s=n[2].length):o?(a=n[3]+n[4],s=n[3].length):a=n[4],r==="file:"?s>=2&&(a=a.slice(2)):gr(r)?a=n[4]:r?i&&(a=a.slice(2)):s>=2&&gr(e.protocol)&&(a=n[4]),{protocol:r,slashes:i||gr(r),slashesCount:s,rest:a}}function z8(t,e){if(t==="")return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),s++):s&&(r===0&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),(i==="."||i==="..")&&n.push(""),n.join("/")}function wr(t,e,n){if(t=ib(t),t=t.replace(rR,""),!(this instanceof wr))return new wr(t,e,n);var r,i,o,s,a,l,c=zg.slice(),u=typeof e,d=this,f=0;for(u!=="object"&&u!=="string"&&(n=e,e=null),n&&typeof n!="function"&&(n=Sh.parse),e=oR(e),i=sR(t||"",e),r=!i.protocol&&!i.slashes,d.slashes=i.slashes||r&&e.slashes,d.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||$8.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!gr(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(s=c[f],typeof s=="function"){t=s(t,d);continue}o=s[0],l=s[1],o!==o?d[l]=t:typeof o=="string"?(a=o==="@"?t.lastIndexOf(o):t.indexOf(o),~a&&(typeof s[2]=="number"?(d[l]=t.slice(0,a),t=t.slice(a+s[2])):(d[l]=t.slice(a),t=t.slice(0,a)))):(a=o.exec(t))&&(d[l]=a[1],t=t.slice(0,a.index)),d[l]=d[l]||r&&s[3]&&e[l]||"",s[4]&&(d[l]=d[l].toLowerCase())}n&&(d.query=n(d.query)),r&&e.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||e.pathname!=="")&&(d.pathname=z8(d.pathname,e.pathname)),d.pathname.charAt(0)!=="/"&&gr(d.protocol)&&(d.pathname="/"+d.pathname),nR(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(a=d.auth.indexOf(":"),~a?(d.username=d.auth.slice(0,a),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(a+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&gr(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function Y8(t,e,n){var r=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(n||Sh.parse)(e)),r[t]=e;break;case"port":r[t]=e,nR(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,iR.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";r[t]=e.charAt(0)!==i?i+e:e}else r[t]=e;break;case"username":case"password":r[t]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(r.username=e.slice(0,o),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=e.slice(o+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(e))}for(var s=0;s<zg.length;s++){var a=zg[s];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&gr(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function q8(t){(!t||typeof t!="function")&&(t=Sh.stringify);var e,n=this,r=n.host,i=n.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(n.protocol&&n.slashes||gr(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):n.protocol!=="file:"&&gr(n.protocol)&&!r&&n.pathname!=="/"&&(o+="@"),(r[r.length-1]===":"||iR.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,e=typeof n.query=="object"?t(n.query):n.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),n.hash&&(o+=n.hash),o}wr.prototype={set:Y8,toString:q8};wr.extractProtocol=sR;wr.location=oR;wr.trimLeft=ib;wr.qs=Sh;var aR=wr,Q8=aR,An={getOrigin:function(t){if(!t)return null;var e=new Q8(t);if(e.protocol==="file:")return null;var n=e.port;return n||(n=e.protocol==="https:"?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(t.indexOf("?")===-1?"?"+e:"&"+e)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},Ft={};function Ch(){this._listeners={}}Ch.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];n.indexOf(e)===-1&&(n=n.concat([e])),this._listeners[t]=n};Ch.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);if(r!==-1){n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t];return}}};Ch.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)};var lR=Ch,G8=Ce,_h=lR;function Ui(){_h.call(this)}G8(Ui,_h);Ui.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}};Ui.prototype.once=function(t,e){var n=this,r=!1;function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}this.on(t,i)};Ui.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}};Ui.prototype.on=Ui.prototype.addListener=_h.prototype.addEventListener;Ui.prototype.removeListener=_h.prototype.removeEventListener;Ft.EventEmitter=Ui;var Yg={exports:{}},DS=window.WebSocket||window.MozWebSocket;DS?Yg.exports=function(e){return new DS(e)}:Yg.exports=void 0;var X8=Yg.exports,cR=Ki,K8=An,J8=Ce,uR=Ft.EventEmitter,dR=X8,kS=function(){};function Qr(t,e,n){if(!Qr.enabled())throw new Error("Transport created when disabled");uR.call(this);var r=this,i=K8.addPath(t,"/websocket");i.slice(0,5)==="https"?i="wss"+i.slice(5):i="ws"+i.slice(4),this.url=i,this.ws=new dR(this.url,[],n),this.ws.onmessage=function(o){kS("message event",o.data),r.emit("message",o.data)},this.unloadRef=cR.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(o){kS("close event",o.code,o.reason),r.emit("close",o.code,o.reason),r._cleanup()},this.ws.onerror=function(o){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}J8(Qr,uR);Qr.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)};Qr.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()};Qr.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),cR.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Qr.enabled=function(){return!!dR};Qr.transportName="websocket";Qr.roundTrips=2;var Z8=Qr,ez=Ce,fR=Ft.EventEmitter,tz=function(){};function Ko(t,e){fR.call(this),this.sendBuffer=[],this.sender=e,this.url=t}ez(Ko,fR);Ko.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()};Ko.prototype.sendScheduleWait=function(){var t=this,e;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)};Ko.prototype.sendSchedule=function(){tz("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(n){t.sendStop=null,n?(t.emit("close",n.code||1006,"Sending error: "+n),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}};Ko.prototype._cleanup=function(){this.removeAllListeners()};Ko.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var nz=Ko,rz=Ce,hR=Ft.EventEmitter,iz=function(){};function xh(t,e,n){hR.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}rz(xh,hR);xh.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(n){t.emit("message",n)}),e.once("close",function(n,r){iz("close",n,r,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||(r==="network"?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})};xh.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var oz=xh,sz=Ce,az=An,ob=nz,lz=oz;function sb(t,e,n,r,i){var o=az.addPath(t,e),s=this;ob.call(this,t,n),this.poll=new lz(r,o,i),this.poll.on("message",function(a){s.emit("message",a)}),this.poll.once("close",function(a,l){s.poll=null,s.emit("close",a,l),s.close()})}sz(sb,ob);sb.prototype.close=function(){ob.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var pR=sb,cz=Ce,uz=An,mR=pR;function dz(t){return function(e,n,r){var i={};typeof n=="string"&&(i.headers={"Content-type":"text/plain"});var o=uz.addPath(e,"/xhr_send"),s=new t("POST",o,n,i);return s.once("finish",function(a){if(s=null,a!==200&&a!==204)return r(new Error("http status "+a));r()}),function(){s.close(),s=null;var a=new Error("Aborted");a.code=1e3,r(a)}}}function gR(t,e,n,r){mR.call(this,t,e,dz(r),n,r)}cz(gR,mR);var Da=gR,fz=Ce,vR=Ft.EventEmitter;function Nc(t,e){vR.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,i){n._chunkHandler(r,i),n.xo=null;var o=r===200?"network":"permanent";n.emit("close",null,o),n._cleanup()})}fz(Nc,vR);Nc.prototype._chunkHandler=function(t,e){if(!(t!==200||!e))for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var i=r.slice(0,n);i&&this.emit("message",i)}};Nc.prototype._cleanup=function(){this.removeAllListeners()};Nc.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Dh=Nc,yR=Ft.EventEmitter,hz=Ce,bR=Ki,pz=An,Ql=window.XMLHttpRequest,em=function(){};function Er(t,e,n,r){var i=this;yR.call(this),setTimeout(function(){i._start(t,e,n,r)},0)}hz(Er,yR);Er.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new Ql}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}e=pz.addQuery(e,"t="+ +new Date),this.unloadRef=bR.unloadAdd(function(){i._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){em("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Er.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var o in r.headers)this.xhr.setRequestHeader(o,r.headers[o]);this.xhr.onreadystatechange=function(){if(i.xhr){var s=i.xhr,a,l;switch(em("readyState",s.readyState),s.readyState){case 3:try{l=s.status,a=s.responseText}catch{}l===1223&&(l=204),l===200&&a&&a.length>0&&i.emit("chunk",l,a);break;case 4:l=s.status,l===1223&&(l=204),(l===12005||l===12029)&&(l=0),em("finish",l,s.responseText),i.emit("finish",l,s.responseText),i._cleanup(!1);break}}};try{i.xhr.send(n)}catch{i.emit("finish",0,""),i._cleanup(!1)}};Er.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),bR.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Er.prototype.close=function(){this._cleanup(!0)};Er.enabled=!!Ql;var RS=["Active"].concat("Object").join("X");!Er.enabled&&RS in window&&(Ql=function(){try{return new window[RS]("Microsoft.XMLHTTP")}catch{return null}},Er.enabled=!!new Ql);var wR=!1;try{wR="withCredentials"in new Ql}catch{}Er.supportsCORS=wR;var ER=Er,mz=Ce,pf=ER;function ab(t,e,n,r){pf.call(this,t,e,n,r)}mz(ab,pf);ab.enabled=pf.enabled&&pf.supportsCORS;var kh=ab,gz=Ce,lb=ER;function cb(t,e,n){lb.call(this,t,e,n,{noCredentials:!0})}gz(cb,lb);cb.enabled=lb.enabled;var Pc=cb,Mc={isOpera:function(){return window.navigator&&/opera/i.test(window.navigator.userAgent)},isKonqueror:function(){return window.navigator&&/konqueror/i.test(window.navigator.userAgent)},hasDomain:function(){if(!window.document)return!0;try{return!!window.document.domain}catch{return!1}}},vz=Ce,SR=Da,yz=Dh,qg=kh,bz=Pc,wz=Mc;function ka(t){if(!bz.enabled&&!qg.enabled)throw new Error("Transport created when disabled");SR.call(this,t,"/xhr_streaming",yz,qg)}vz(ka,SR);ka.enabled=function(t){return t.nullOrigin||wz.isOpera()?!1:qg.enabled};ka.transportName="xhr-streaming";ka.roundTrips=2;ka.needBody=!!window.document;var Ez=ka,CR=Ft.EventEmitter,Sz=Ce,_R=Ki,Cz=Mc,_z=An,xz=function(){};function Jo(t,e,n){var r=this;CR.call(this),setTimeout(function(){r._start(t,e,n)},0)}Sz(Jo,CR);Jo.prototype._start=function(t,e,n){var r=this,i=new window.XDomainRequest;e=_z.addQuery(e,"t="+ +new Date),i.onerror=function(){r._error()},i.ontimeout=function(){r._error()},i.onprogress=function(){xz("progress",i.responseText),r.emit("chunk",200,i.responseText)},i.onload=function(){r.emit("finish",200,i.responseText),r._cleanup(!1)},this.xdr=i,this.unloadRef=_R.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};Jo.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};Jo.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),_R.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};Jo.prototype.close=function(){this._cleanup(!0)};Jo.enabled=!!(window.XDomainRequest&&Cz.hasDomain());var ub=Jo,Dz=Ce,xR=Da,kz=Dh,Qg=ub;function Lc(t){if(!Qg.enabled)throw new Error("Transport created when disabled");xR.call(this,t,"/xhr_streaming",kz,Qg)}Dz(Lc,xR);Lc.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:Qg.enabled&&t.sameScheme};Lc.transportName="xdr-streaming";Lc.roundTrips=2;var DR=Lc,kR=window.EventSource,Rz=Ce,RR=Ft.EventEmitter,Oz=kR,OS=function(){};function jc(t){RR.call(this);var e=this,n=this.es=new Oz(t);n.onmessage=function(r){OS("message",r.data),e.emit("message",decodeURI(r.data))},n.onerror=function(r){OS("error",n.readyState);var i=n.readyState!==2?"network":"permanent";e._cleanup(),e._close(i)}}Rz(jc,RR);jc.prototype.abort=function(){this._cleanup(),this._close("user")};jc.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)};jc.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)};var Tz=jc,Az=Ce,OR=Da,Iz=Tz,Nz=kh,Pz=kR;function Ra(t){if(!Ra.enabled())throw new Error("Transport created when disabled");OR.call(this,t,"/eventsource",Iz,Nz)}Az(Ra,OR);Ra.enabled=function(){return!!Pz};Ra.transportName="eventsource";Ra.roundTrips=2;var TS=Ra,tm,AS;function TR(){return AS||(AS=1,tm="1.6.1"),tm}var AR={exports:{}};(function(t){var e=Ki,n=Mc;t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in window||(window[t.exports.WPrefix]={})},postMessage:function(r,i){window.parent!==window&&window.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:r,data:i||""}),"*")},createIframe:function(r,i){var o=window.document.createElement("iframe"),s,a,l=function(){clearTimeout(s);try{o.onload=null}catch{}o.onerror=null},c=function(){o&&(l(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),e.unloadDel(a))},u=function(f){o&&(c(),i(f))},d=function(f,h){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(f,h)}catch{}},0)};return o.src=r,o.style.display="none",o.style.position="absolute",o.onerror=function(){u("onerror")},o.onload=function(){clearTimeout(s),s=setTimeout(function(){u("onload timeout")},2e3)},window.document.body.appendChild(o),s=setTimeout(function(){u("timeout")},15e3),a=e.unloadAdd(c),{post:d,cleanup:c,loaded:l}},createHtmlfile:function(r,i){var o=["Active"].concat("Object").join("X"),s=new window[o]("htmlfile"),a,l,c,u=function(){clearTimeout(a),c.onerror=null},d=function(){s&&(u(),e.unloadDel(l),c.parentNode.removeChild(c),c=s=null,CollectGarbage())},f=function(y){s&&(d(),i(y))},h=function(y,v){try{setTimeout(function(){c&&c.contentWindow&&c.contentWindow.postMessage(y,v)},0)}catch{}};s.open(),s.write('<html><script>document.domain="'+window.document.domain+'";<\/script></html>'),s.close(),s.parentWindow[t.exports.WPrefix]=window[t.exports.WPrefix];var m=s.createElement("div");return s.body.appendChild(m),c=s.createElement("iframe"),m.appendChild(c),c.src=r,c.onerror=function(){f("onerror")},a=setTimeout(function(){f("timeout")},15e3),l=e.unloadAdd(d),{post:h,cleanup:d,loaded:u}}},t.exports.iframeEnabled=!1,window.document&&(t.exports.iframeEnabled=(typeof window.postMessage=="function"||typeof window.postMessage=="object")&&!n.isKonqueror())})(AR);var Fc=AR.exports,Mz=Ce,IR=Ft.EventEmitter,Lz=TR(),Gg=An,NR=Fc,PR=Ki,jz=xa,qa=function(){};function Sr(t,e,n){if(!Sr.enabled())throw new Error("Transport created when disabled");IR.call(this);var r=this;this.origin=Gg.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=jz.string(8);var i=Gg.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=NR.createIframe(i,function(o){r.emit("close",1006,"Unable to load an iframe ("+o+")"),r.close()}),this.onmessageCallback=this._message.bind(this),PR.attachEvent("message",this.onmessageCallback)}Mz(Sr,IR);Sr.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){PR.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Sr.prototype._message=function(t){if(qa("message",t.data),!Gg.isOriginEqual(t.origin,this.origin)){qa("not same origin",t.origin,this.origin);return}var e;try{e=JSON.parse(t.data)}catch{qa("bad json",t.data);return}if(e.windowId!==this.windowId){qa("mismatched window id",e.windowId,this.windowId);return}switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Lz,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=JSON.parse(e.data)}catch{qa("bad json",e.data);return}this.emit("close",n[0],n[1]),this.close();break}};Sr.prototype.postMessage=function(t,e){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)};Sr.prototype.send=function(t){this.postMessage("m",t)};Sr.enabled=function(){return NR.iframeEnabled};Sr.transportName="iframe";Sr.roundTrips=2;var MR=Sr,db={isObject:function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}},Fz=Ce,Au=MR,Bz=db,nm=function(t){function e(n,r){Au.call(this,t.transportName,n,r)}return Fz(e,Au),e.enabled=function(n,r){if(!window.document)return!1;var i=Bz.extend({},r);return i.sameOrigin=!0,t.enabled(i)&&Au.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=Au.roundTrips+t.roundTrips-1,e.facadeTransport=t,e},Vz=Ce,ao=Fc,Hz=An,LR=Ft.EventEmitter,Uz=xa,Wz=function(){};function Yn(t){LR.call(this);var e=this;ao.polluteGlobalNamespace(),this.id="a"+Uz.string(6),t=Hz.addQuery(t,"c="+decodeURIComponent(ao.WPrefix+"."+this.id)),Wz("using htmlfile",Yn.htmlfileEnabled);var n=Yn.htmlfileEnabled?ao.createHtmlfile:ao.createIframe;window[ao.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(r){e.emit("message",r)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=n(t,function(){e._cleanup(),e._close("permanent")})}Vz(Yn,LR);Yn.prototype.abort=function(){this._cleanup(),this._close("user")};Yn.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete window[ao.WPrefix][this.id]};Yn.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()};Yn.htmlfileEnabled=!1;var IS=["Active"].concat("Object").join("X");if(IS in window)try{Yn.htmlfileEnabled=!!new window[IS]("htmlfile")}catch{}Yn.enabled=Yn.htmlfileEnabled||ao.iframeEnabled;var $z=Yn,zz=Ce,Xg=$z,Yz=Pc,jR=Da;function Bc(t){if(!Xg.enabled)throw new Error("Transport created when disabled");jR.call(this,t,"/htmlfile",Xg,Yz)}zz(Bc,jR);Bc.enabled=function(t){return Xg.enabled&&t.sameOrigin};Bc.transportName="htmlfile";Bc.roundTrips=2;var NS=Bc,qz=Ce,FR=Da,Qz=Dh,Kg=kh,BR=Pc;function Vc(t){if(!BR.enabled&&!Kg.enabled)throw new Error("Transport created when disabled");FR.call(this,t,"/xhr",Qz,Kg)}qz(Vc,FR);Vc.enabled=function(t){return t.nullOrigin?!1:BR.enabled&&t.sameOrigin?!0:Kg.enabled};Vc.transportName="xhr-polling";Vc.roundTrips=2;var PS=Vc,Gz=Ce,VR=Da,Xz=DR,Kz=Dh,MS=ub;function Hc(t){if(!MS.enabled)throw new Error("Transport created when disabled");VR.call(this,t,"/xhr",Kz,MS)}Gz(Hc,VR);Hc.enabled=Xz.enabled;Hc.transportName="xdr-polling";Hc.roundTrips=2;var Jz=Hc,yl=Fc,HR=xa,Zz=Mc,e9=An,t9=Ce,UR=Ft.EventEmitter,n9=function(){};function Tn(t){var e=this;UR.call(this),yl.polluteGlobalNamespace(),this.id="a"+HR.string(6);var n=e9.addQuery(t,"c="+encodeURIComponent(yl.WPrefix+"."+this.id));window[yl.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},Tn.timeout)}t9(Tn,UR);Tn.prototype.abort=function(){if(window[yl.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}};Tn.timeout=35e3;Tn.scriptErrorTimeout=1e3;Tn.prototype._callback=function(t){this._cleanup(),!this.aborting&&(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())};Tn.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()};Tn.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete window[yl.WPrefix][this.id]};Tn.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},Tn.scriptErrorTimeout))};Tn.prototype._createScript=function(t){var e=this,n=this.script=window.document.createElement("script"),r;if(n.id="a"+HR.string(8),n.src=t,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){e._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(n9("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){e.loadedOkay=!0;try{n.onclick()}catch{}}n&&e._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&window.document.attachEvent)if(Zz.isOpera())r=this.script2=window.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var i=window.document.getElementsByTagName("head")[0];i.insertBefore(n,i.firstChild),r&&i.insertBefore(r,i.firstChild)};var r9=Tn,i9=xa,LS=An,o9=function(){},cn,bl;function s9(t){try{return window.document.createElement('<iframe name="'+t+'">')}catch{var e=window.document.createElement("iframe");return e.name=t,e}}function a9(){cn=window.document.createElement("form"),cn.style.display="none",cn.style.position="absolute",cn.method="POST",cn.enctype="application/x-www-form-urlencoded",cn.acceptCharset="UTF-8",bl=window.document.createElement("textarea"),bl.name="d",cn.appendChild(bl),window.document.body.appendChild(cn)}var l9=function(t,e,n){cn||a9();var r="a"+i9.string(8);cn.target=r,cn.action=LS.addQuery(LS.addPath(t,"/jsonp_send"),"i="+r);var i=s9(r);i.id=r,i.style.display="none",cn.appendChild(i);try{bl.value=e}catch{}cn.submit();var o=function(s){i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){i.parentNode.removeChild(i),i=null},500),bl.value="",n(s))};return i.onerror=function(){o()},i.onload=function(){o()},i.onreadystatechange=function(s){o9("onreadystatechange",r,i.readyState),i.readyState==="complete"&&o()},function(){o(new Error("Aborted"))}},c9=Ce,WR=pR,u9=r9,d9=l9;function Zo(t){if(!Zo.enabled())throw new Error("Transport created when disabled");WR.call(this,t,"/jsonp",d9,u9)}c9(Zo,WR);Zo.enabled=function(){return!!window.document};Zo.transportName="jsonp-polling";Zo.roundTrips=1;Zo.needBody=!0;var f9=Zo,h9=[Z8,Ez,DR,TS,nm(TS),NS,nm(NS),PS,Jz,nm(PS),f9],Gl=Array.prototype,fb=Object.prototype,p9=Function.prototype,Xl=String.prototype,rm=Gl.slice,hb=fb.toString,$R=function(t){return fb.toString.call(t)==="[object Function]"},m9=function(e){return hb.call(e)==="[object Array]"},zR=function(e){return hb.call(e)==="[object String]"},g9=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Jg;g9?Jg=function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Jg=function(t,e,n,r){!r&&e in t||(t[e]=n)};var Uc=function(t,e,n){for(var r in e)fb.hasOwnProperty.call(e,r)&&Jg(t,r,e[r],n)},YR=function(t){if(t==null)throw new TypeError("can't convert "+t+" to object");return Object(t)};function v9(t){var e=+t;return e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function y9(t){return t>>>0}function im(){}Uc(p9,{bind:function(e){var n=this;if(!$R(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=rm.call(arguments,1),i=function(){if(this instanceof l){var c=n.apply(this,r.concat(rm.call(arguments)));return Object(c)===c?c:this}else return n.apply(e,r.concat(rm.call(arguments)))},o=Math.max(0,n.length-r.length),s=[],a=0;a<o;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return n.prototype&&(im.prototype=n.prototype,l.prototype=new im,im.prototype=null),l}});Uc(Array,{isArray:m9});var jS=Object("a"),qR=jS[0]!=="a"||!(0 in jS),b9=function(e){var n=!0,r=!0;return e&&(e.call("foo",function(i,o,s){typeof s!="object"&&(n=!1)}),e.call([1],function(){r=typeof this=="string"},"x")),!!e&&n&&r};Uc(Gl,{forEach:function(e){var n=YR(this),r=qR&&zR(this)?this.split(""):n,i=arguments[1],o=-1,s=r.length>>>0;if(!$R(e))throw new TypeError;for(;++o<s;)o in r&&e.call(i,r[o],o,n)}},!b9(Gl.forEach));var w9=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Uc(Gl,{indexOf:function(e){var n=qR&&zR(this)?this.split(""):YR(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=v9(arguments[1])),i=i>=0?i:Math.max(0,r+i);i<r;i++)if(i in n&&n[i]===e)return i;return-1}},w9);var FS=Xl.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=/()??/.exec("")[1]===void 0;Xl.split=function(e,n){var r=this;if(e===void 0&&n===0)return[];if(hb.call(e)!=="[object RegExp]")return FS.call(this,e,n);var i=[],o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),s=0,a,l,c,u;for(e=new RegExp(e.source,o+"g"),r+="",t||(a=new RegExp("^"+e.source+"$(?!\\s)",o)),n=n===void 0?-1>>>0:y9(n);(l=e.exec(r))&&(c=l.index+l[0].length,!(c>s&&(i.push(r.slice(s,l.index)),!t&&l.length>1&&l[0].replace(a,function(){for(var d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(l[d]=void 0)}),l.length>1&&l.index<r.length&&Gl.push.apply(i,l.slice(1)),u=l[0].length,s=c,i.length>=n)));)e.lastIndex===l.index&&e.lastIndex++;return s===r.length?(u||!e.test(""))&&i.push(""):i.push(r.slice(s)),i.length>n?i.slice(0,n):i}}():"0".split(void 0,0).length&&(Xl.split=function(e,n){return e===void 0&&n===0?[]:FS.call(this,e,n)});var E9=Xl.substr,S9="".substr&&"0b".substr(-1)!=="b";Uc(Xl,{substr:function(e,n){return E9.call(this,e<0&&(e=this.length+e)<0?0:e,n)}},S9);var Iu=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,om,C9=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(i){return n[i]="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n},_9={quote:function(t){var e=JSON.stringify(t);return Iu.lastIndex=0,Iu.test(e)?(om||(om=C9(Iu)),e.replace(Iu,function(n){return om[n]})):e}},sm=function(){},x9=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],t.forEach(function(i){if(i&&!(i.transportName==="websocket"&&n.websocket===!1)){if(e.length&&e.indexOf(i.transportName)===-1){sm("not in whitelist",i.transportName);return}i.enabled(n)?(sm("enabled",i.transportName),r.main.push(i),i.facadeTransport&&r.facade.push(i.facadeTransport)):sm("disabled",i.transportName)}}),r}}},Zg={};["log","debug","warn"].forEach(function(t){var e;try{e=window.console&&window.console[t]&&window.console[t].apply}catch{}Zg[t]=e?function(){return window.console[t].apply(window.console,arguments)}:t==="log"?function(){}:Zg.log});var D9=Zg;function es(t){this.type=t}es.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this};es.prototype.stopPropagation=function(){};es.prototype.preventDefault=function(){};es.CAPTURING_PHASE=1;es.AT_TARGET=2;es.BUBBLING_PHASE=3;var pb=es,QR=window.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""},k9=Ce,GR=pb;function XR(){GR.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}k9(XR,GR);var R9=XR,O9=Ce,KR=pb;function JR(t){KR.call(this),this.initEvent("message",!1,!1),this.data=t}O9(JR,KR);var T9=JR,ZR=Ft.EventEmitter,A9=Ce;function Wc(){var t=this;ZR.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},Wc.timeout)}A9(Wc,ZR);Wc.prototype.close=function(){clearTimeout(this.to)};Wc.timeout=2e3;var I9=Wc,eO=Ft.EventEmitter,N9=Ce,P9=db;function mb(t,e){eO.call(this);var n=this,r=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(i,o){var s,a;if(i===200){if(a=+new Date-r,o)try{s=JSON.parse(o)}catch{}P9.isObject(s)||(s={})}n.emit("finish",s,a),n.removeAllListeners()})}N9(mb,eO);mb.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var tO=mb,am,BS;function nO(){if(BS)return am;BS=1;var t=Ce,e=Ft.EventEmitter,n=Pc,r=tO;function i(o){var s=this;e.call(this),this.ir=new r(o,n),this.ir.once("finish",function(a,l){s.ir=null,s.emit("message",JSON.stringify([a,l]))})}return t(i,e),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},am=i,am}var rO=Ft.EventEmitter,M9=Ce,L9=Ki,iO=MR,j9=nO();function Rh(t,e){var n=this;rO.call(this);var r=function(){var i=n.ifr=new iO(j9.transportName,e,t);i.once("message",function(o){if(o){var s;try{s=JSON.parse(o)}catch{n.emit("finish"),n.close();return}var a=s[0],l=s[1];n.emit("finish",a,l)}n.close()}),i.once("close",function(){n.emit("finish"),n.close()})};window.document.body?r():L9.attachEvent("load",r)}M9(Rh,rO);Rh.enabled=function(){return iO.enabled()};Rh.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var F9=Rh,oO=Ft.EventEmitter,B9=Ce,V9=An,VS=ub,HS=kh,H9=Pc,U9=I9,US=F9,Nu=tO;function Pr(t,e){var n=this;oO.call(this),setTimeout(function(){n.doXhr(t,e)},0)}B9(Pr,oO);Pr._getReceiver=function(t,e,n){return n.sameOrigin?new Nu(e,H9):HS.enabled?new Nu(e,HS):VS.enabled&&n.sameScheme?new Nu(e,VS):US.enabled()?new US(t,e):new Nu(e,U9)};Pr.prototype.doXhr=function(t,e){var n=this,r=V9.addPath(t,"/info");this.xo=Pr._getReceiver(t,r,e),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},Pr.timeout),this.xo.once("finish",function(i,o){n._cleanup(!0),n.emit("finish",i,o)})};Pr.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null};Pr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Pr.timeout=8e3;var W9=Pr,lm,WS;function $9(){if(WS)return lm;WS=1;var t=Fc;function e(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(n,r){t.postMessage("c",JSON.stringify([n,r]))},e.prototype._transportMessage=function(n){t.postMessage("t",n)},e.prototype._send=function(n){this._transport.send(n)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},lm=e,lm}var cm,$S;function z9(){if($S)return cm;$S=1;var t=An,e=Ki,n=$9(),r=nO(),i=Fc,o=QR,s=function(){};return cm=function(a,l){var c={};l.forEach(function(d){d.facadeTransport&&(c[d.facadeTransport.transportName]=d.facadeTransport)}),c[r.transportName]=r;var u;a.bootstrap_iframe=function(){var d;i.currentWindowId=o.hash.slice(1);var f=function(h){if(h.source===parent&&(typeof u>"u"&&(u=h.origin),h.origin===u)){var m;try{m=JSON.parse(h.data)}catch{s("bad json",h.data);return}if(m.windowId===i.currentWindowId)switch(m.type){case"s":var y;try{y=JSON.parse(m.data)}catch{s("bad json",m.data);break}var v=y[0],p=y[1],b=y[2],w=y[3];if(v!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+v+'", the iframe: "'+a.version+'".');if(!t.isOriginEqual(b,o.href)||!t.isOriginEqual(w,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+b+", "+w+")");d=new n(new c[p](b,w));break;case"m":d._send(m.data);break;case"c":d&&d._close(),d=null;break}}};e.attachEvent("message",f),i.postMessage("s")}},cm}var Y9=aR,q9=Ce,zS=xa,Q9=_9,nl=An,G9=Ki,X9=x9,K9=db,J9=Mc,Z9=D9,gb=pb,sO=lR,Pu=QR,e7=R9,YS=T9,t7=W9,vr=function(){},aO;function Se(t,e,n){if(!(this instanceof Se))return new Se(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");sO.call(this),this.readyState=Se.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&Z9.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return zS.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||zS.numberString(1e3);var i=new Y9(t);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var o=i.protocol==="https:";if(Pu.protocol==="https:"&&!o&&!nl.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var s=e.sort();s.forEach(function(l,c){if(!l)throw new SyntaxError("The protocols entry '"+l+"' is invalid.");if(c<s.length-1&&l===s[c+1])throw new SyntaxError("The protocols entry '"+l+"' is duplicated.")});var a=nl.getOrigin(Pu.href);this._origin=a?a.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,vr("using url",this.url),this._urlInfo={nullOrigin:!J9.hasDomain(),sameOrigin:nl.isOriginEqual(this.url,Pu.href),sameScheme:nl.isSchemeEqual(this.url,Pu.href)},this._ir=new t7(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}q9(Se,sO);function lO(t){return t===1e3||t>=3e3&&t<=4999}Se.prototype.close=function(t,e){if(t&&!lO(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Se.CLOSING||this.readyState===Se.CLOSED)){var n=!0;this._close(t||1e3,e||"Normal closure",n)}};Se.prototype.send=function(t){if(typeof t!="string"&&(t=""+t),this.readyState===Se.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Se.OPEN&&this._transport.send(Q9.quote(t))};Se.version=TR();Se.CONNECTING=0;Se.OPEN=1;Se.CLOSING=2;Se.CLOSED=3;Se.prototype._receiveInfo=function(t,e){if(this._ir=null,!t){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=K9.extend(t,this._urlInfo);var n=aO.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,vr(this._transports.length+" enabled transports"),this._connect()};Se.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(vr("attempt",t.transportName),t.needBody&&(!window.document.body||typeof window.document.readyState<"u"&&window.document.readyState!=="complete"&&window.document.readyState!=="interactive")){this._transports.unshift(t),G9.attachEvent("load",this._connect.bind(this));return}var e=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var n=nl.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[t.transportName],i=new t(n,this._transUrl,r);i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,this._transport=i;return}this._close(2e3,"All transports failed",!1)};Se.prototype._transportTimeout=function(){this.readyState===Se.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Se.prototype._transportMessage=function(t){var e=this,n=t.slice(0,1),r=t.slice(1),i;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new gb("heartbeat")),vr("heartbeat",this.transport);return}if(r)try{i=JSON.parse(r)}catch{}if(!(typeof i>"u"))switch(n){case"a":Array.isArray(i)&&i.forEach(function(o){vr("message",e.transport),e.dispatchEvent(new YS(o))});break;case"m":vr("message",this.transport),this.dispatchEvent(new YS(i));break;case"c":Array.isArray(i)&&i.length===2&&this._close(i[0],i[1],!0);break}};Se.prototype._transportClose=function(t,e){if(vr("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!lO(t)&&t!==2e3&&this.readyState===Se.CONNECTING){this._connect();return}this._close(t,e)};Se.prototype._open=function(){vr("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Se.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Se.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new gb("open")),vr("connected",this.transport)):this._close(1006,"Server lost session")};Se.prototype._close=function(t,e,n){vr("_close",this.transport,t,e,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Se.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Se.CLOSING,setTimeout((function(){this.readyState=Se.CLOSED,r&&this.dispatchEvent(new gb("error"));var i=new e7;i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};Se.prototype.countRTO=function(t){return t>100?4*t:300+t};var n7=function(t){return aO=X9(t),z9()(Se,t),Se},r7=h9,i7=n7(r7);"_sockjs_onload"in window&&setTimeout(window._sockjs_onload,1);const o7=gf(i7),s7=()=>{const{ukidsURL:t,token:e,decodedToken:n}=Yi(),r=1,i=L.useRef(null),[o,s]=L.useState(""),[a,l]=L.useState([]),[c,u]=L.useState(null),d=y=>{s(y.target.value)},f=()=>{i.current&&i.current.scrollIntoView({behavior:"smooth"})},h=()=>{if(console.log(c),c&&c.connected&&o.trim()!==""){const y={type:"TALK",roomId:r,sender:n.userId,message:o};c.publish({destination:`${t}/pub/chat/message`,body:JSON.stringify(y)}),l(v=>[{messageId:Date.now(),content:o,user_id:n.userId,is_delete:!1,create_time:new Date().toISOString(),update_time:new Date().toISOString()},...v]),s(""),f()}},m=y=>{y.preventDefault(),h()};return L.useEffect(()=>{console.log(n),console.log(e),console.log(e==null?void 0:e.substring(7));const y=new o7(`${t}/ws/ws-stomp`),v=new N8({webSocketFactory:()=>y,connectHeaders:{Authorization:`Bearer ${e==null?void 0:e.substring(7)}`},debug:p=>{console.log("웹소켓 디버그: "+p)},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3});return v.onConnect=p=>{console.log("WebSocket 연결이 열렸습니다.",p),v.subscribe(`${t}/topic/chat/room/${r}`,b=>{const w=JSON.parse(b.body);l(_=>[w,..._])}),u(v),$e.get(`${t}/api/chat/room/${r}/messages`).then(b=>{l(b.data),f()}).catch(b=>{console.error("메세지 가져오기 실패:",b)})},v.onStompError=p=>{console.error("STOMP Error:",p.headers.message),console.error("Details:",p.body)},v.activate(),()=>{v&&v.deactivate()}},[]),L.useEffect(()=>{f()},[a]),g.jsx("div",{className:"w-3/4",children:g.jsx("div",{className:"flex flex-col p-2 h-full",children:g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsxs("div",{className:"overflow-y-auto mb-1 flex flex-col-reverse h-full",children:[g.jsx("div",{ref:i}),a.map(y=>g.jsx("div",{className:y.user_id===n.userId?"self-end":"self-start",children:g.jsx(P8,{message:y.content,isSender:y.user_id===n.userId})},y.messageId))]}),g.jsx("div",{className:"flex-none",children:g.jsxs("form",{className:"flex",onSubmit:m,children:[g.jsx("input",{type:"text",className:"flex-grow h-[50px] bg-white rounded-[5px] border border-[#999999] mr-4",onChange:d,value:o}),g.jsx($r,{name:"전송",path:""})]})})]})})})},a7=()=>g.jsx(g.Fragment,{children:g.jsxs("div",{className:"feature-box flex flex-row h-full",children:[g.jsxs(lc,{children:[g.jsx(he,{path:"",element:g.jsx(s7,{})}),g.jsx(he,{path:"call",element:g.jsx(R8,{})})]}),g.jsx(eR,{isChattingRoom:!0})]})}),l7=()=>g.jsx("div",{className:"feature-box",children:g.jsx("h1",{children:"회원, 가족 설정"})}),c7=()=>g.jsx(g.Fragment,{children:g.jsx("h1",{className:"font-bold",children:"잘못된 페이지입니다."})}),u7=t=>{const[e,n]=L.useState(!1),r=()=>{n(!e)};return g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsx("div",{className:"inline-block profile-name",children:t.name}),g.jsxs("button",{onClick:r,className:"profile-btn",children:[g.jsx("div",{children:t.hasFamily?"현재 선택된 가족방 + 대표 + 태그":"가족방을 만들어보세요!"}),g.jsx("div",{className:"fill-black",children:"▼"})]})]}),e&&g.jsxs("div",{className:"absolute mt-2 right-0 z-10 bg-white shadow-lg rounded-lg w-48",children:[g.jsxs("ul",{className:"py-2 text-sm text-gray-700",children:[g.jsx("li",{className:"px-4 py-2 hover:bg-gray-100",children:"가족방 1"}),g.jsx("li",{className:"px-4 py-2 hover:bg-gray-100",children:"가족방 2"}),g.jsx("li",{className:"px-4 py-2 hover:bg-gray-100",children:"가족방 3"})]}),t.isManager&&g.jsx("div",{className:"px-4 py-2 bg-yellow-500 text-white rounded-b-lg",children:"관리자로 설정됨"}),g.jsx(Rg,{name:"로그아웃",path:"/"}),g.jsx(Rg,{name:"설정",path:"/setting"})]})]})},d7=()=>{const t=tt(),e=()=>{t("/login")},n=()=>{t("/join")},r=Yi(i=>i.token);return L.useEffect(()=>{r&&console.log("gg")},[r]),g.jsxs("div",{children:[g.jsx("button",{onClick:e,children:"로그인"}),g.jsx("button",{onClick:n,children:"회원가입"})]})},f7="/assets/logo-UZJm81jH.png",h7=()=>{const t=tt(),e=Yi(i=>i.token),n=localStorage.getItem("name"),r=()=>{t("/")};return g.jsxs("div",{className:"flex justify-between m-1 items-center mb-4",style:{width:"100%"},children:[g.jsx("button",{onClick:r,className:"w-52",children:g.jsx("img",{src:f7,alt:"ukids-logo",width:"230"})}),e?g.jsx(u7,{name:n||"이삼성",hasFamily:!1,isManager:!0}):g.jsx(d7,{})]})},p7=()=>g.jsxs("div",{className:"flexcenter-row text-xs text-[#999999] items-center mt-6",children:[g.jsx("a",{href:"#!",className:"m-1",children:"이용약관"}),g.jsx("span",{className:"m-1",children:g.jsx("div",{className:"dash-box"})}),g.jsx("a",{href:"#!",className:"m-1",children:"개인정보 처리방침"})]}),m7="/assets/album-ARyuCDz7.png",g7="/assets/painting-C793XEtE.png",v7="/assets/growth-BGBGV_WI.png",y7="/assets/chat-CWX3JUS5.png",b7="/assets/game-B8yq87Ne.png",w7=()=>g.jsxs("div",{className:"sidebar",children:[g.jsxs(ls,{to:"/albums",className:"cursor-pointer transition-transform duration-300 ease-in-out hover:scale-110",children:[g.jsx("img",{width:"97",height:"91",src:m7,alt:"사진 앨범"}),g.jsx("div",{className:"sidebar-text",children:"사진 앨범"})]}),g.jsxs(ls,{to:"/paintdiary",className:"cursor-pointer transition-transform duration-300 ease-in-out hover:scale-110",children:[g.jsx("img",{width:"71",height:"97",src:g7,alt:"그림 일기"}),g.jsx("div",{className:"sidebar-text",children:"그림 일기"})]}),g.jsxs(ls,{to:"/growthdiary",className:"cursor-pointer transition-transform duration-300 ease-in-out hover:scale-110",children:[g.jsx("img",{width:"70",height:"95",src:v7,alt:"성장 일지"}),g.jsx("div",{className:"sidebar-text",children:"성장 일지"})]}),g.jsxs(ls,{to:"/chat",className:"cursor-pointer transition-transform duration-300 ease-in-out hover:scale-110",children:[g.jsx("img",{width:"73",height:"78",src:y7,alt:"대화방"}),g.jsx("div",{className:"sidebar-text",children:"대화방"})]}),g.jsxs(ls,{to:"/game",className:"cursor-pointer transition-transform duration-300 ease-in-out hover:scale-110",children:[g.jsx("img",{width:"68",height:"99",src:b7,alt:"게임"}),g.jsx("div",{className:"sidebar-text",children:"게임"})]})]}),E7=({path:t})=>{const e=tt(),n=()=>{e(t)};return g.jsxs("button",{onClick:n,type:"button",className:"w-[100%] h-[100%]",children:[g.jsx("div",{className:"title-style",children:"편지함"}),g.jsxs("section",{children:[g.jsx("div",{children:"안 읽은 편지 / 받은 편지"}),g.jsx("div",{children:"0 / 20"})]})]})},S7="/assets/front-view-3d-tree-with-leaves-trunk-CdsB8jI5.png",C7=()=>g.jsxs("div",{className:"h-[576px] ",children:[g.jsxs("section",{children:[g.jsxs("div",{className:"tree-info-box",children:[g.jsx("p",{children:"생성일: 2024년 8월 1일"}),g.jsx("p",{children:"담긴 편지 수 : 5통"})]}),g.jsx("img",{src:S7,alt:"가족 유대감 나무",className:"max-w-[400px]",style:{margin:"50px auto 15px"}})]}),g.jsxs("section",{children:[g.jsx("div",{className:"mb-1 font-bold px-[10px]",style:{color:"#333",fontSize:"1.2rem"},children:"Lv.4 자라나무"}),g.jsx("div",{className:"w-full h-7 bg-gray-200 rounded-full dark:bg-gray-700",children:g.jsx("div",{className:"h-7 bg-blue-600 rounded-full dark:bg-blue-500 text-center font-semibold content-center",style:{width:"82%",color:"#fff",background:"#FFBF33"},children:"820 EXP"})}),g.jsx("div",{})]})]}),_7=()=>{const t=tt(),e=()=>{t("/schedule")};return g.jsxs(g.Fragment,{children:[g.jsx("section",{className:"w-[470px] h-[576px] p-[15px] relative",children:g.jsx(C7,{})}),g.jsxs("section",{className:"w-[409px]",children:[g.jsx("div",{className:"main-page common-feature-box mb-[19px] p-[15px] h-[404px]",children:g.jsx(HD,{onDateClick:e,height:"374px"})}),g.jsx("div",{className:"common-feature-box h-[153px] p-[15px]",children:g.jsx(E7,{path:"/letters"})})]})]})},x7=()=>{const t=Yi(n=>n.token),e=tt();return L.useEffect(()=>{t||e("/login")},[t,e]),t?g.jsx(A1,{}):null},D7=()=>{const t=Yi(n=>n.token),e=tt();return L.useEffect(()=>{t&&e("/main")},[t,e]),g.jsx(A1,{})},k7=()=>{const t=ac(),e=t.pathname==="/"||t.pathname==="/login"||t.pathname==="/join",n=t.pathname==="/"||t.pathname==="/login"||t.pathname==="/join";return L.useEffect(()=>{(t.pathname==="/"||t.pathname==="/login"||t.pathname==="/join")&&(document.body.style.backgroundColor="#fff")},[t.pathname]),g.jsxs("div",{className:"",children:[g.jsx(h7,{}),g.jsxs("div",{className:n?"h-[600px]":"h-[600px] flex justify-between",children:[!e&&g.jsx(w7,{}),g.jsxs(lc,{children:[g.jsxs(he,{element:g.jsx(D7,{}),children:[g.jsx(he,{path:"/",element:g.jsx(KI,{})}),g.jsx(he,{path:"/login",element:g.jsx(nM,{})}),g.jsx(he,{path:"/join",element:g.jsx(iM,{})})]}),g.jsxs(he,{element:g.jsx(x7,{}),children:[g.jsx(he,{path:"/main",element:g.jsx(_7,{})}),g.jsx(he,{path:"/schedule/*",element:g.jsx(bB,{})}),g.jsx(he,{path:"/letters",element:g.jsx(wB,{})}),g.jsx(he,{path:"/albums",element:g.jsx(EB,{})}),g.jsx(he,{path:"/albums/:photoId",element:g.jsx(SB,{})}),g.jsx(he,{path:"/albums/upload",element:g.jsx(e5,{})}),g.jsx(he,{path:"/paintdiary",element:g.jsx(t5,{})}),g.jsx(he,{path:"/growthdiary",element:g.jsx(n5,{})}),g.jsx(he,{path:"/chat/*",element:g.jsx(a7,{})}),g.jsx(he,{path:"/game",element:g.jsx(o5,{})}),g.jsx(he,{path:"/quiz/*",element:g.jsx(w8,{})}),g.jsx(he,{path:"/callmyname/*",element:g.jsx(D8,{})}),g.jsx(he,{path:"/setting",element:g.jsx(l7,{})}),g.jsx(he,{path:"*",element:g.jsx(c7,{})})]})]})]}),g.jsx(p7,{})]})};var Oh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Th=typeof window>"u"||"Deno"in globalThis;function Ln(){}function R7(t,e){return typeof t=="function"?t(e):t}function O7(t){return typeof t=="number"&&t>=0&&t!==1/0}function T7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qS(t,e){return typeof t=="function"?t(e):t}function A7(t,e){return typeof t=="function"?t(e):t}function QS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==vb(s,e.options))return!1}else if(!Jl(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function GS(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Kl(e.options.mutationKey)!==Kl(o))return!1}else if(!Jl(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function vb(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kl)(t)}function Kl(t){return JSON.stringify(t,(e,n)=>ev(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jl(t[n],e[n])):!1}function cO(t,e){if(t===e)return t;const n=XS(t)&&XS(e);if(n||ev(t)&&ev(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=cO(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function XS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ev(t){if(!KS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!KS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KS(t){return Object.prototype.toString.call(t)==="[object Object]"}function I7(t){return new Promise(e=>{setTimeout(e,t)})}function N7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cO(t,e):e}function P7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function M7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var uO=Symbol();function dO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var mo,si,Ls,ZS,L7=(ZS=class extends Oh{constructor(){super();Oe(this,mo);Oe(this,si);Oe(this,Ls);de(this,Ls,e=>{if(!Th&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,si)||this.setEventListener(Y(this,Ls))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,si))==null||e.call(this),de(this,si,void 0))}setEventListener(e){var n;de(this,Ls,e),(n=Y(this,si))==null||n.call(this),de(this,si,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,mo)!==e&&(de(this,mo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,mo)=="boolean"?Y(this,mo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mo=new WeakMap,si=new WeakMap,Ls=new WeakMap,ZS),fO=new L7,js,ai,Fs,eC,j7=(eC=class extends Oh{constructor(){super();Oe(this,js,!0);Oe(this,ai);Oe(this,Fs);de(this,Fs,e=>{if(!Th&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,ai)||this.setEventListener(Y(this,Fs))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ai))==null||e.call(this),de(this,ai,void 0))}setEventListener(e){var n;de(this,Fs,e),(n=Y(this,ai))==null||n.call(this),de(this,ai,e(this.setOnline.bind(this)))}setOnline(e){Y(this,js)!==e&&(de(this,js,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,js)}},js=new WeakMap,ai=new WeakMap,Fs=new WeakMap,eC),mf=new j7;function F7(t){return Math.min(1e3*2**t,3e4)}function hO(t){return(t??"online")==="online"?mf.isOnline():!0}var pO=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function um(t){return t instanceof pO}function mO(t){let e=!1,n=0,r=!1,i,o,s;const a=new Promise((p,b)=>{o=p,s=b}),l=p=>{var b;r||(m(new pO(p)),(b=t.abort)==null||b.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>fO.isFocused()&&(t.networkMode==="always"||mf.isOnline())&&t.canRun(),f=()=>hO(t.networkMode)&&t.canRun(),h=p=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,p),i==null||i(),o(p))},m=p=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,p),i==null||i(),s(p))},y=()=>new Promise(p=>{var b;i=w=>{(r||d())&&p(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var p;i=void 0,r||(p=t.onContinue)==null||p.call(t)}),v=()=>{if(r)return;let p;const b=n===0?t.initialPromise:void 0;try{p=b??t.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(h).catch(w=>{var E;if(r)return;const _=t.retry??(Th?0:3),R=t.retryDelay??F7,M=typeof R=="function"?R(n,w):R,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!O){m(w);return}n++,(E=t.onFail)==null||E.call(t,n,w),I7(M).then(()=>d()?void 0:y()).then(()=>{e?m(w):v()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?v():y().then(v),a)}}function B7(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const o=f=>{i=f},s=f=>{let h;e++;try{h=f()}finally{e--,e||c()}return h},a=f=>{e?t.push(f):i(()=>{n(f)})},l=f=>(...h)=>{a(()=>{f(...h)})},c=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(h=>{n(h)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:o}}var qt=B7(),go,tC,gO=(tC=class{constructor(){Oe(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O7(this.gcTime)&&de(this,go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Th?1/0:5*60*1e3))}clearGcTimeout(){Y(this,go)&&(clearTimeout(Y(this,go)),de(this,go,void 0))}},go=new WeakMap,tC),Bs,Vs,En,Nt,Zl,vo,jn,Cr,nC,V7=(nC=class extends gO{constructor(e){super();Oe(this,jn);Oe(this,Bs);Oe(this,Vs);Oe(this,En);Oe(this,Nt);Oe(this,Zl);Oe(this,vo);de(this,vo,!1),de(this,Zl,e.defaultOptions),this.setOptions(e.options),this.observers=[],de(this,En,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,de(this,Bs,e.state||U7(this.options)),this.state=Y(this,Bs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Nt))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,Zl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,En).remove(this)}setData(e,n){const r=N7(this.state.data,e,this.options);return xt(this,jn,Cr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){xt(this,jn,Cr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Y(this,Nt))==null?void 0:r.promise;return(i=Y(this,Nt))==null||i.cancel(e),n?n.then(Ln).catch(Ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Bs))}isActive(){return this.observers.some(e=>A7(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!T7(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,Nt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,Nt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,En).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,Nt)&&(Y(this,vo)?Y(this,Nt).cancel({revert:!0}):Y(this,Nt).cancelRetry()),this.scheduleGc()),Y(this,En).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,jn,Cr).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Nt))return Y(this,Nt).continueRetry(),Y(this,Nt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(de(this,vo,!0),r.signal)})},o=()=>{const d=dO(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),de(this,vo,!1),this.options.persister?this.options.persister(d,f,this):d(f)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),de(this,Vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&xt(this,jn,Cr).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,h,m,y;um(d)&&d.silent||xt(this,jn,Cr).call(this,{type:"error",error:d}),um(d)||((h=(f=Y(this,En).config).onError)==null||h.call(f,d,this),(y=(m=Y(this,En).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return de(this,Nt,mO({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,h,m,y;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(h=(f=Y(this,En).config).onSuccess)==null||h.call(f,d,this),(y=(m=Y(this,En).config).onSettled)==null||y.call(m,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,f)=>{xt(this,jn,Cr).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{xt(this,jn,Cr).call(this,{type:"pause"})},onContinue:()=>{xt(this,jn,Cr).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Y(this,Nt).start()}},Bs=new WeakMap,Vs=new WeakMap,En=new WeakMap,Nt=new WeakMap,Zl=new WeakMap,vo=new WeakMap,jn=new WeakSet,Cr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...H7(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return um(i)&&i.revert&&Y(this,Vs)?{...Y(this,Vs),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,En).notify({query:this,type:"updated",action:e})})},nC);function H7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nr,rC,W7=(rC=class extends Oh{constructor(e={}){super();Oe(this,nr);this.config=e,de(this,nr,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??vb(i,n);let s=this.get(o);return s||(s=new V7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){Y(this,nr).has(e.queryHash)||(Y(this,nr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,nr).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,nr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,nr).get(e)}getAll(){return[...Y(this,nr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>QS(e,r)):n}notify(e){qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},nr=new WeakMap,rC),rr,Ut,yo,ir,ei,iC,$7=(iC=class extends gO{constructor(e){super();Oe(this,ir);Oe(this,rr);Oe(this,Ut);Oe(this,yo);this.mutationId=e.mutationId,de(this,Ut,e.mutationCache),de(this,rr,[]),this.state=e.state||z7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,rr).includes(e)||(Y(this,rr).push(e),this.clearGcTimeout(),Y(this,Ut).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){de(this,rr,Y(this,rr).filter(n=>n!==e)),this.scheduleGc(),Y(this,Ut).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,rr).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Ut).remove(this))}continue(){var e;return((e=Y(this,yo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,s,a,l,c,u,d,f,h,m,y,v,p,b,w,_,R,M,O;de(this,yo,mO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,N)=>{xt(this,ir,ei).call(this,{type:"failed",failureCount:E,error:N})},onPause:()=>{xt(this,ir,ei).call(this,{type:"pause"})},onContinue:()=>{xt(this,ir,ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Ut).canRun(this)}));const n=this.state.status==="pending",r=!Y(this,yo).canStart();try{if(!n){xt(this,ir,ei).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=Y(this,Ut).config).onMutate)==null?void 0:o.call(i,e,this));const N=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,e));N!==this.state.context&&xt(this,ir,ei).call(this,{type:"pending",context:N,variables:e,isPaused:r})}const E=await Y(this,yo).start();return await((c=(l=Y(this,Ut).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,E,e,this.state.context)),await((h=(f=Y(this,Ut).config).onSettled)==null?void 0:h.call(f,E,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,E,null,e,this.state.context)),xt(this,ir,ei).call(this,{type:"success",data:E}),E}catch(E){try{throw await((p=(v=Y(this,Ut).config).onError)==null?void 0:p.call(v,E,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,E,e,this.state.context)),await((R=(_=Y(this,Ut).config).onSettled)==null?void 0:R.call(_,void 0,E,this.state.variables,this.state.context,this)),await((O=(M=this.options).onSettled)==null?void 0:O.call(M,void 0,E,e,this.state.context)),E}finally{xt(this,ir,ei).call(this,{type:"error",error:E})}}finally{Y(this,Ut).runNext(this)}}},rr=new WeakMap,Ut=new WeakMap,yo=new WeakMap,ir=new WeakSet,ei=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qt.batch(()=>{Y(this,rr).forEach(r=>{r.onMutationUpdate(e)}),Y(this,Ut).notify({mutation:this,type:"updated",action:e})})},iC);function z7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,ec,oC,Y7=(oC=class extends Oh{constructor(e={}){super();Oe(this,an);Oe(this,ec);this.config=e,de(this,an,new Map),de(this,ec,Date.now())}build(e,n,r){const i=new $7({mutationCache:this,mutationId:++$c(this,ec)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Mu(e),r=Y(this,an).get(n)??[];r.push(e),Y(this,an).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Mu(e);if(Y(this,an).has(n)){const i=(r=Y(this,an).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?Y(this,an).delete(n):Y(this,an).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Y(this,an).get(Mu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Y(this,an).get(Mu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Y(this,an).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GS(n,r))}findAll(e={}){return this.getAll().filter(n=>GS(e,n))}notify(e){qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return qt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ln))))}},an=new WeakMap,ec=new WeakMap,oC);function Mu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function q7(t){return{onFetch:(e,n)=>{const r=async()=>{var m,y,v,p,b;const i=e.options,o=(v=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:v.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=dO(e.options,e.fetchOptions),f=async(w,_,R)=>{if(c)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const M={queryKey:e.queryKey,pageParam:_,direction:R?"backward":"forward",meta:e.options.meta};u(M);const O=await d(M),{maxPages:E}=e.options,N=R?M7:P7;return{pages:N(w.pages,O,E),pageParams:N(w.pageParams,_,E)}};let h;if(o&&s.length){const w=o==="backward",_=w?Q7:JS,R={pages:s,pageParams:a},M=_(i,R);h=await f(R,M,w)}else{h=await f(l,a[0]??i.initialPageParam);const w=t??s.length;for(let _=1;_<w;_++){const R=JS(i,h);if(R==null)break;h=await f(h,R)}}return h};e.options.persister?e.fetchFn=()=>{var i,o;return(o=(i=e.options).persister)==null?void 0:o.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function JS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Q7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Je,li,ci,Hs,Us,ui,Ws,$s,sC,G7=(sC=class{constructor(t={}){Oe(this,Je);Oe(this,li);Oe(this,ci);Oe(this,Hs);Oe(this,Us);Oe(this,ui);Oe(this,Ws);Oe(this,$s);de(this,Je,t.queryCache||new W7),de(this,li,t.mutationCache||new Y7),de(this,ci,t.defaultOptions||{}),de(this,Hs,new Map),de(this,Us,new Map),de(this,ui,0)}mount(){$c(this,ui)._++,Y(this,ui)===1&&(de(this,Ws,fO.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Je).onFocus())})),de(this,$s,mf.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Je).onOnline())})))}unmount(){var t,e;$c(this,ui)._--,Y(this,ui)===0&&((t=Y(this,Ws))==null||t.call(this),de(this,Ws,void 0),(e=Y(this,$s))==null||e.call(this),de(this,$s,void 0))}isFetching(t){return Y(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,li).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Je).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Y(this,Je).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(qS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Y(this,Je).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Y(this,Je).get(r.queryHash),o=i==null?void 0:i.state.data,s=R7(e,o);if(s!==void 0)return Y(this,Je).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return qt.batch(()=>Y(this,Je).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Je).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,Je);qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,Je),r={type:"active",...t};return qt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=qt.batch(()=>Y(this,Je).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ln).catch(Ln)}invalidateQueries(t={},e={}){return qt.batch(()=>{if(Y(this,Je).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=qt.batch(()=>Y(this,Je).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ln)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ln)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,Je).build(this,e);return n.isStaleByTime(qS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ln).catch(Ln)}fetchInfiniteQuery(t){return t.behavior=q7(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ln).catch(Ln)}resumePausedMutations(){return mf.isOnline()?Y(this,li).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Je)}getMutationCache(){return Y(this,li)}getDefaultOptions(){return Y(this,ci)}setDefaultOptions(t){de(this,ci,t)}setQueryDefaults(t,e){Y(this,Hs).set(Kl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Hs).values()];let n={};return e.forEach(r=>{Jl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Y(this,Us).set(Kl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Us).values()];let n={};return e.forEach(r=>{Jl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,ci).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===uO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,ci).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Je).clear(),Y(this,li).clear()}},Je=new WeakMap,li=new WeakMap,ci=new WeakMap,Hs=new WeakMap,Us=new WeakMap,ui=new WeakMap,Ws=new WeakMap,$s=new WeakMap,sC),X7=L.createContext(void 0),K7=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(X7.Provider,{value:t,children:e})),J7=function(){return null};const Z7=new G7;dm.createRoot(document.getElementById("root")).render(g.jsx(qI,{children:g.jsxs(K7,{client:Z7,children:[g.jsx(k7,{}),g.jsx(J7,{initialIsOpen:!1})]})}));
